<?properties open_access?>
<?DTDIdentifier.IdentifierValue -//Springer-Verlag//DTD A++ V2.4//EN?>
<?DTDIdentifier.IdentifierType public?>
<?SourceDTD.DTDName A++V2.4.dtd?>
<?SourceDTD.Version 2.4?>
<?ConverterInfo.XSLTName springer2nlmx2.xsl?>
<?ConverterInfo.Version 1?>
<front>
  <journal-meta>
    <journal-id journal-id-type="nlm-ta">BMC Bioinformatics</journal-id>
    <journal-id journal-id-type="iso-abbrev">BMC Bioinformatics</journal-id>
    <journal-title-group>
      <journal-title>BMC Bioinformatics</journal-title>
    </journal-title-group>
    <issn pub-type="epub">1471-2105</issn>
    <publisher>
      <publisher-name>BioMed Central</publisher-name>
      <publisher-loc>London</publisher-loc>
    </publisher>
  </journal-meta>
  <article-meta>
    <article-id pub-id-type="pmcid">7517820</article-id>
    <article-id pub-id-type="publisher-id">3752</article-id>
    <article-id pub-id-type="doi">10.1186/s12859-020-03752-7</article-id>
    <article-categories>
      <subj-group subj-group-type="heading">
        <subject>Software</subject>
      </subj-group>
    </article-categories>
    <title-group>
      <article-title>A web-based system for creating, viewing, and editing precursor mass spectrometry ground truth data</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <name>
          <surname>Henning</surname>
          <given-names>Jessica</given-names>
        </name>
        <xref ref-type="aff" rid="Aff1"/>
      </contrib>
      <contrib contrib-type="author" corresp="yes">
        <contrib-id contrib-id-type="orcid">http://orcid.org/0000-0002-1864-9110</contrib-id>
        <name>
          <surname>Smith</surname>
          <given-names>Rob</given-names>
        </name>
        <address>
          <email>robert.smith@mso.umt.edu</email>
        </address>
        <xref ref-type="aff" rid="Aff1"/>
      </contrib>
      <aff id="Aff1"><institution-wrap><institution-id institution-id-type="GRID">grid.253613.0</institution-id><institution-id institution-id-type="ISNI">0000 0001 2192 5772</institution-id><institution>Department of Computer Science, </institution><institution>University of Montana, </institution></institution-wrap>32 Campus Drive, Missoula, MT 59812 USA </aff>
    </contrib-group>
    <pub-date pub-type="epub">
      <day>23</day>
      <month>9</month>
      <year>2020</year>
    </pub-date>
    <pub-date pub-type="pmc-release">
      <day>23</day>
      <month>9</month>
      <year>2020</year>
    </pub-date>
    <pub-date pub-type="collection">
      <year>2020</year>
    </pub-date>
    <volume>21</volume>
    <elocation-id>418</elocation-id>
    <history>
      <date date-type="received">
        <day>20</day>
        <month>6</month>
        <year>2019</year>
      </date>
      <date date-type="accepted">
        <day>15</day>
        <month>9</month>
        <year>2020</year>
      </date>
    </history>
    <permissions>
      <copyright-statement>© The Author(s) 2020</copyright-statement>
      <license license-type="OpenAccess">
        <license-p><bold>Open Access</bold>This article is licensed under a Creative Commons Attribution 4.0 International License, which permits use, sharing, adaptation, distribution and reproduction in any medium or format, as long as you give appropriate credit to the original author(s) and the source, provide a link to the Creative Commons licence, and indicate if changes were made. The images or other third party material in this article are included in the article's Creative Commons licence, unless indicated otherwise in a credit line to the material. If material is not included in the article's Creative Commons licence and your intended use is not permitted by statutory regulation or exceeds the permitted use, you will need to obtain permission directly from the copyright holder. To view a copy of this licence, visit <ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/licenses/by/4.0/">http://creativecommons.org/licenses/by/4.0/</ext-link>. The Creative Commons Public Domain Dedication waiver (<ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/publicdomain/zero/1.0/">http://creativecommons.org/publicdomain/zero/1.0/</ext-link>) applies to the data made available in this article, unless otherwise stated in a credit line to the data.</license-p>
      </license>
    </permissions>
    <abstract id="Abs1">
      <sec>
        <title>Background</title>
        <p id="Par1">Mass spectrometry (MS) uses mass-to-charge ratios of measured particles to decode the identities and quantities of molecules in a sample. Interpretation of raw MS depends upon data processing algorithms that render it human-interpretable. Quantitative MS workflows are complex experimental chains and it is crucial to know the performance and bias of each data processing method as they impact accuracy, coverage, and statistical significance of the result. Creation of the ground truth necessary for quantitatively evaluating MS1-aware algorithms is difficult and tedious task, and better software for creating such datasets would facilitate more extensive evaluation and improvement of MS data processing algorithms.</p>
      </sec>
      <sec>
        <title>Results</title>
        <p id="Par2">We present JS-MS 2.0, a software suite that provides a dependency-free, browser-based, one click, cross-platform solution for creating MS1 ground truth. The software retains the first version’s capacity for loading, viewing, and navigating MS1 data in 2- and 3-D, and adds tools for capturing, editing, saving, and viewing isotopic envelope and extracted isotopic chromatogram features. The software can also be used to view and explore the results of feature finding algorithms.</p>
      </sec>
      <sec>
        <title>Conclusions</title>
        <p id="Par3">JS-MS 2.0 enables faster creation and inspection of MS1 ground truth data. It is publicly available with an MIT license at github.com/optimusmoose/jsms.</p>
      </sec>
    </abstract>
    <kwd-group xml:lang="en">
      <title>Keywords</title>
      <kwd>Mass spectrometry</kwd>
      <kwd>Mass spectrometry viewer</kwd>
      <kwd>MS1 feature finding</kwd>
      <kwd>Open source mass spectrometry software</kwd>
    </kwd-group>
    <funding-group>
      <award-group>
        <funding-source>
          <institution>National Science Foundation</institution>
        </funding-source>
        <award-id>1552240</award-id>
        <award-id>1723248</award-id>
        <award-id>1723006</award-id>
        <award-id>1723196</award-id>
        <principal-award-recipient>
          <name>
            <surname>Smith</surname>
            <given-names>Rob</given-names>
          </name>
        </principal-award-recipient>
      </award-group>
    </funding-group>
    <custom-meta-group>
      <custom-meta>
        <meta-name>issue-copyright-statement</meta-name>
        <meta-value>© The Author(s) 2020</meta-value>
      </custom-meta>
    </custom-meta-group>
  </article-meta>
</front>
<body>
  <sec id="Sec1">
    <title>Background</title>
    <p id="Par7">Mass spectrometry (MS) is a powerful tool for the analysis of molecular components (such as proteins, peptides, lipids, and metabolites) in biological samples across a broad range of applications [<xref ref-type="bibr" rid="CR1">1</xref>]. MS experiments generate datasets consisting of millions of 3-D points consisting of mass-to-charge (<italic>m/z</italic>), retention time (RT), and intensity. MS experiments require the mapping of all or some of these points to signal groups that correspond to a single (or multiple, in the case of isomers) molecules at a given charge state.</p>
    <p id="Par8">This process, called feature detection, has been addressed by numerous algorithms, commercial software, and public software such as MaxQuant [<xref ref-type="bibr" rid="CR2">2</xref>], MZMine 2 [<xref ref-type="bibr" rid="CR3">3</xref>], CentWave (XCMS) [<xref ref-type="bibr" rid="CR4">4</xref>], MatchedFilter (XCMS) [<xref ref-type="bibr" rid="CR4">4</xref>], and Massifquant (XCMS) [<xref ref-type="bibr" rid="CR5">5</xref>]. Though many chemical standards and qualitative QC evaluations have been conducted, feature-level quantitative evaluation requires feature-level ground truth-meaning raw data points manually curated into features, whether extracted ion chromatograms or isotopic envelopes. These types of evaluations have not been common [<xref ref-type="bibr" rid="CR6">6</xref>], mostly due to the fact that this type of ground truth data is very difficult to generate.</p>
    <p id="Par9">Manual feature curation is a laborious and subjective task which requires software to make it as principled and fast as possible.</p>
    <p id="Par10">A system for producing MS1 ground truth annotations requires several functions:<list list-type="bullet"><list-item><p id="Par11">It must parse, load, store, and retrieve MS1 data.</p></list-item><list-item><p id="Par12">It must efficiently display many points on the screen.</p></list-item><list-item><p id="Par13">It must display points in representative subsets, as not all points can be rendered on the screen at once.</p></list-item><list-item><p id="Par14">It must output the data in easy-to-port formats.</p></list-item><list-item><p id="Par15">It must provide the user with efficient navigation of the data (zoom and shifting to the right, left, up, or down).</p></list-item></list>JS-MS [<xref ref-type="bibr" rid="CR7">7</xref>] is one of very few MS data tools that can be easily installed on multiple operating systems without the need for excessive dependencies or onerous compilation (another, for example, is pyOpenMS [<xref ref-type="bibr" rid="CR8">8</xref>]).</p>
    <p id="Par16">JS-MS is a browser-based JavaScript viewer and Java server designed to load and view MS1 data. It provides useful navigation tools such as the ability to zoom in, zoom out, pan up-down-left-right, and toggle between 2-D and 3-D views.</p>
    <p id="Par17">The server component communicates with the view through a simple JSON API, which makes it interchangeable with any other server that implements the same API. The server responds to queries for specific (<italic>m/z</italic>, RT) windows. Each query includes a requested limit on the number of points returned, which invokes the server’s algorithm for selecting a representative subset of points, allowing for the user to view the characteristics of the data while only seeing a portion of the points in the given (<italic>m/z</italic>, RT) region. The server implements the MzTree data structure [<xref ref-type="bibr" rid="CR9">9</xref>], which is a modified R-Tree that organizes the MS1 points in alternating sorting of <italic>m/z</italic> and RT to provide fast query response whether the data region requested is primarily across <italic>m/z</italic>, RT, or both.</p>
    <p id="Par18">JS-MS is packaged as a single self-contained JAR, and the only dependencies are the Java Runtime Environment (JRE) and a web browser, both typically already available on any computer.</p>
    <p id="Par19">Since the publication of JS-MS, our group has substantially extended the software. In addition to loading, viewing, and navigating MS1 data in 2-D and 3-D, JS-MS 2.0 extends JS-MS by providing tools for creating, editing, and viewing annotations of extracted ion chromatograms (called isotopic traces hereafter) and features (called isotopic envelopes hereafter). These tools facilitate inspection and modification of algorithms for isotope trace and isotopic envelope annotation, as well as the creation of manually annotated MS1 ground truth.</p>
    <p id="Par20">To date, our group has used JS-MS 2.0 to create the first ever quantitative ground truth dataset for MS1 data [<xref ref-type="bibr" rid="CR10">10</xref>], as well as the first quantitative evaluation of algorithms that group traces into isotopic envelopes [<xref ref-type="bibr" rid="CR11">11</xref>]. We are now releasing JS-MS 2.0 in hopes that others will use it to generate more ground truth to enable new and more extensive quantitative evaluations of MS1 algorithms.</p>
    <p id="Par21">The features added for JS-MS 2.0 make it useful for tasks extending beyond manual ground truth creation (see Fig. <xref rid="Fig1" ref-type="fig">1</xref>). For example, it allows mining, visualizing, and dissecting complex MS data for lists of targets represented as <italic>m/z</italic>, RT coordinates. This is vital for tasks that require visual inspection of isotopic envelopes, such as when checking the quality of putative biomarker quantification, when evaluating co-isolation levels on features of interest, when monitoring chromatography performance, and when evaluating MS data acquired on known targets.<fig id="Fig1"><label>Fig. 1</label><caption><p>JS-MS 2.0 includes extensive additional features that facilitate faster and more accurate inspection and modification of feature-level point associations in MS1 data</p></caption><graphic xlink:href="12859_2020_3752_Fig1_HTML" id="MO1"/></fig></p>
  </sec>
  <sec id="Sec2">
    <title>Implementation</title>
    <p id="Par22">JS-MS 2.0 extends the original JS-MS implementation through many extensions to the view, additions to the MzTree data storage and retrieval system, and additional API calls to the server.</p>
    <p id="Par23">The JS-MS 2.0 view provides extensions that enable annotations to be displayed, recorded, and edited, as well as helper tools that facilitate fast annotation decisions and annotation inspection.</p>
    <p id="Par24">The original application included logic that colorized signals based on intensity. In JS-MS 2.0, additional logic defines color based on trace or envelope membership (in each mode, respectively) such that proximate signals have different colors.</p>
    <p id="Par25">JS-MS 2.0 has a new ruler feature written in Three.js [<xref ref-type="bibr" rid="CR12">12</xref>] that calculates the expected <italic>m/z</italic> intervals of an envelope of a given charge state. Vertical lines are drawn where each trace should appear with <italic>m/z</italic> gaps adjusting according to the charge state indicated by the user. Bounds checking prevents the ruler from extending beyond the plot range. Ratios are calculated to enable scaling of the ruler on zoom. On-click events activate the ruler when any number key is pressed and deviated when the tilde key is pressed.</p>
    <p id="Par26">The bookmark list is a new feature implemented in JavaScript and HTML that provides a means of storing, editing and applying (<italic>m/z</italic>, RT) coordinates to facilitate fast navigation to regions of interest. JavaScript calls dynamically add and remove rows from the table, edit entries in the table, and store the table in the cache. A parser function inputs a tab separated text file of bookmarks. An export function writes out the current bookmark list in the same tab separated format.</p>
    <p id="Par27">Annotations of isotopic traces use a rectangle tool that is written in Three.js. On-click and draw JavaScript functions map the region of data traced by the user’s mouse to (<italic>m/z</italic>, RT) coordinates used to update the point membership. An on-click event for the control key is used to toggle the function of the rectangle to remove points from a trace.</p>
    <p id="Par28">Annotations of isotopic envelopes require the selection of one or more traces to group into an envelope. Because users will not likely click directly on a point in a trace, trace selection relies on a JavaScript function that finds the closest trace within a threshold to the point clicked. Alternatively, users can click and drag a line through multiple traces to perform the same process across a set of points. An on-click event for the control key is used to toggle the behavior of the on-click event to remove one or more traces from an envelope.</p>
    <p id="Par29">Since traces tend to occur in straight lines along a given <italic>m/z</italic>, guide lines can be drawn using the Guard Rails feature. Using Three.js parallel lines are drawn along the <italic>m/z</italic> for a given <italic>m/z</italic> width with the appropriate projection in 2-D or 3-D mode, allowing the feature to persist independent of graph panning, rotation, or zoom. On-click events activate the tool with the ‘g’ key and deactivate with the ‘h’ key.</p>
    <p id="Par30">JS-MS 2.0 also includes extra controls for the user to modify view parameters such as point threshold, logarithmic height scaling, and label precision. The point threshold is a function implemented in Java that limits the number of points rendered in a given view, selecting a representative subset of points using the weighted striding algorithm [<xref ref-type="bibr" rid="CR9">9</xref>]. Applying a point threshold allows for faster load time and graph navigation. Logarithmic height scaling is implemented with JavaScript and mathematical functions that scale point intensity by a logarithmic factor to facilitate greater contrast between signal and background noise. Label precision is also implemented with JavaScript to decrease or increase the level of precision for (<italic>m/z</italic>, RT) coordinates. This function rounds the (<italic>m/z</italic>, RT) coordinates to the desired accuracy from the user.</p>
    <p id="Par31">The MzTree data structure is a modified R-Tree [<xref ref-type="bibr" rid="CR9">9</xref>] that interleaves data partitions sorted by RT and <italic>m/z</italic> for fast queries in either dimension. The previously published version of the data structure did not include the fields required for annotation (such as isotope trace ID and isotopic envelope ID). The previous version also lacked a new index of points sorted by intensity which is used in the jump button (discussed later).</p>
    <p id="Par32">The original JS-MS featured an HTTP API that included functions to retrieve a subset of points given an (<italic>m/z</italic>, RT) window, with an optional limit on the number of points returned. The API was extended to include trace and envelope annotation fields in the returned JSON data as well as functions to assign and edit those fields.</p>
  </sec>
  <sec id="Sec3">
    <title>Results</title>
    <p id="Par33">The user interacts with JS-MS through three main interfaces: the graph interface, the control panel, and the parameter panel.</p>
    <sec id="Sec4">
      <title>Graph interface</title>
      <p id="Par34">The principle purpose of the graph interface is twofold: First, it displays mass spectrometry points and isotopic trace and isotopic envelope annotations of these points. Second, it provides the controls for recording and editing these annotations.</p>
      <p id="Par35">Users have the ability to navigate to areas of interest through several means. First, the user can pan, zoom in and out, and toggle between 2-D and 3-D views of areas of their choice.<fig id="Fig2"><label>Fig. 2</label><caption><p>JS-MS 2.0 Bookmark List allows users to easily create, navigate to, import, and export a list of (<italic>m/z</italic>, RT) coordinates</p></caption><graphic xlink:href="12859_2020_3752_Fig2_HTML" id="MO2"/></fig></p>
      <p id="Par36">Second, users can build a bookmark list to enumerate data points of interest by listing (<italic>m/z</italic>, RT) coordinates or using the “select current location” button (see Fig. <xref rid="Fig2" ref-type="fig">2</xref>e), which will add the current location to a list of one-click navigable data regions called the jump list. The jump list provides a useful mechanism for rapidly navigating to areas of interest. For example, if third party software provides a list of regions with poor feature detection, low intensity features, or known compounds, the jump list can be used to quickly iterate through the inspection of each corresponding data region. The bookmark interface features a button for importing and exporting bookmark lists in .tsv format (see Fig. <xref rid="Fig2" ref-type="fig">2</xref>a, b), and each bookmark entry can be edited or deleted (see Fig. <xref rid="Fig2" ref-type="fig">2</xref>c, d).</p>
      <p id="Par37">Third, users can use the jump button to navigate to other data areas. There are two functions associated with the jump button that can be toggled in the parameter panel. The first jump function is to jump to the next highest intensity point that is not part of an annotation. By clicking it, the graph will respond by displaying the area around the point, which will be denoted by an X on the graph. The second jump function is used to enumerate through the graphs of the areas around the points listed in the bookmark list. Using this feature, users can quickly inspect many envelopes or other data features in which they may be interested.</p>
      <p id="Par38">Fourth, a convenient “jump to window” mechanism on the control panel allows users to specify the exact window that they would like to display. This functionality facilitates the creation of reproducible graphs for inspection and publication.<fig id="Fig3"><label>Fig. 3</label><caption><p>JS-MS 2.0 interface includes a control panel (left), graph interface (center), and parameter panel (right)</p></caption><graphic xlink:href="12859_2020_3752_Fig3_HTML" id="MO3"/></fig></p>
    </sec>
    <sec id="Sec5">
      <title>Control panel</title>
      <p id="Par39">The control panel contains interfaces for users to define the graph’s behavior to match their intended purpose.<list list-type="bullet"><list-item><p id="Par40">Refresh (see Fig. <xref rid="Fig3" ref-type="fig">3</xref>a). This button reloads the data on the view from the server.</p></list-item><list-item><p id="Par41">View all data (see Fig. <xref rid="Fig3" ref-type="fig">3</xref>b). This button displays the entire data set.</p></list-item><list-item><p id="Par42">Toggle 2-D/3-D (see Fig. <xref rid="Fig3" ref-type="fig">3</xref>c). This button switches the graph display mode and redraws the graph.</p></list-item><list-item><p id="Par43">Ion current view (see Fig. <xref rid="Fig3" ref-type="fig">3</xref>d). This button rotates the view to a 2-D projection of the 3-D view such that the x-axis is <italic>m/z</italic> and the y-axis is intensity.</p></list-item><list-item><p id="Par44">Bookmarks (see Fig. <xref rid="Fig3" ref-type="fig">3</xref>e). This button shows or hides the bookmark interface.</p></list-item><list-item><p id="Par45">Jump (see Fig. <xref rid="Fig3" ref-type="fig">3</xref>f). This button’s functions are described above in “View.”</p></list-item><list-item><p id="Par46">Trace mode (see Fig. <xref rid="Fig3" ref-type="fig">3</xref>g). This button activates annotation mode, which is described below.</p></list-item><list-item><p id="Par47">Envelope mode (see Fig. <xref rid="Fig3" ref-type="fig">3</xref>h). This button activates isotopic envelope annotation mode, which is described below.</p></list-item><list-item><p id="Par48">Mark as noise button (see Fig. <xref rid="Fig3" ref-type="fig">3</xref>i). This button is used to indicate that all distinguishable signals in a view have been annotated and is further described below.</p></list-item></list></p>
    </sec>
    <sec id="Sec6">
      <title>Parameter panel</title>
      <p id="Par49">The parameter panel contains settings that adjust the view.<fig id="Fig4"><label>Fig. 4</label><caption><p>The annotation process for isotopic traces and envelopes. <bold>a</bold> Signals are shown in color based on intensity. <bold>b</bold> Guard rails are used to help distinguish which signals belong in an isotopic trace. <bold>c</bold>, <bold>d</bold> In trace mode, users mark which signals belong to an isotopic trace. <bold>e</bold> The ruler shows a user specified charge state to measure the isotopic traces within an isotopic envelope. <bold>f</bold> In envelope mode, users can specify all the traces belonging to an envelope</p></caption><graphic xlink:href="12859_2020_3752_Fig4_HTML" id="MO4"/></fig></p>
      <p id="Par50">
        <list list-type="bullet">
          <list-item>
            <p id="Par51">Point threshold (see Fig. <xref rid="Fig3" ref-type="fig">3</xref>j). Users can control how many points are rendered for the given view. In the event the setting is lower than the actual number of points, JS-MS selects a representative subset of points using the weighted striding algorithm described in [<xref ref-type="bibr" rid="CR9">9</xref>].</p>
          </list-item>
          <list-item>
            <p id="Par52">Set view window (see Fig. <xref rid="Fig3" ref-type="fig">3</xref>k). This tool allows users to obtain a consistent view given the same specified (<italic>m/z</italic>, RT) window.</p>
          </list-item>
          <list-item>
            <p id="Par53">Height scaling (see Fig. <xref rid="Fig3" ref-type="fig">3</xref>l). The height scaling slider changes the intensity and colorization scaling of points in order to more effectively display low intensity points in 3-D mode.</p>
          </list-item>
          <list-item>
            <p id="Par54">Jump options (see Fig. <xref rid="Fig3" ref-type="fig">3</xref>m). This button specifies which jump function is active.</p>
          </list-item>
          <list-item>
            <p id="Par55">Label precision (see Fig. <xref rid="Fig3" ref-type="fig">3</xref>n). This setting controls how many digits of precision are displayed on the graph.</p>
          </list-item>
          <list-item>
            <p id="Par56">Guard rail size (button see Fig. <xref rid="Fig3" ref-type="fig">3</xref>o, use case see Fig. <xref rid="Fig4" ref-type="fig">4</xref>b). The guard rail is a set of parallel lines that can be displayed for a given <italic>m/z</italic> to assist in annotating an isotopic trace. This setting controls the width of the lines.</p>
          </list-item>
          <list-item>
            <p id="Par57">Colorblind mode (see Fig. <xref rid="Fig3" ref-type="fig">3</xref>p). The colors used by the system can be limited to those visible to colorblind people.</p>
          </list-item>
        </list>
      </p>
    </sec>
    <sec id="Sec7">
      <title>Annotation</title>
      <sec id="Sec8">
        <title>Isotopic trace mode</title>
        <p id="Par58">When a user enters isotopic trace mode, they are given the option to create a new trace or select an existing trace to edit. Each time a new trace is created, the trace is given an ID and color. Users select the points belonging to the trace by clicking and dragging a rectangle over the desired points to highlight them in the given color (see Fig. <xref rid="Fig4" ref-type="fig">4</xref>c). The same procedure is used to edit an existing trace, only the control key is depressed while drawing the rectangle.</p>
      </sec>
      <sec id="Sec9">
        <title>Isotopic envelope mode</title>
        <p id="Par59">After the user has identified isotopic traces, they can group them together with isotopic envelope mode. Similar to isotopic trace mode, this mode creates a new envelope ID and color for each new envelope created. The user then selects all isotopic traces that belong to the same group (see Fig. <xref rid="Fig4" ref-type="fig">4</xref>f). Isotopic traces can be grouped by clicking each trace or simply by dragging a line across all traces in an envelope. To help the user distinguish which isotopic traces belong together, the ruler tool shows <italic>m/z</italic> intervals corresponding to specific charge states. The ruler will appear wherever the mouse is placed when users select a number from the keypad. The ruler moves with the graph as the user zooms or pans, and will remain present until the user hits the tilde key. The <italic>m/z</italic> distance displayed is 1/z, where z is the number selected and the charge state of a hypothetical compound at the given mass (see Fig. <xref rid="Fig4" ref-type="fig">4</xref>e). Users can also toggle between 2-D and 3-D mode while in either isotopic trace or isotopic envelope mode to ensure peak alignment. Isotopic traces can be added to existing isotopic envelopes at any time following this procedure and they can be removed in the same way while depressing the control key.</p>
      </sec>
      <sec id="Sec10">
        <title>Mark as noise button</title>
        <p id="Par60">When all distinguishable points in the current view have been annotated the user can mark all other points in the view as noise. When a point is marked as noise it will be colored gray in the view and given an ID of − 1 when exported to .csv. To prevent users from marking unseen points as noise, the graph view must be displaying a number of points below the point threshold to ensure that the user is viewing every point within the (<italic>m/z</italic>, RT) coordinates and none are hidden.</p>
      </sec>
    </sec>
  </sec>
  <sec id="Sec11">
    <title>Discussion</title>
    <p id="Par61">Algorithm performance can significantly affect the results of mass spectrometry experiments [<xref ref-type="bibr" rid="CR13">13</xref>], and as such, a performance evaluation should be part of any new algorithm publication. Existing algorithm evaluations typically report performance based on consensus results [<xref ref-type="bibr" rid="CR14">14</xref>]. While consensus results provide a qualitative gauge of how similar result sets are, they do not answer the critical question-how accurate are these results? Instead, consensus results measure how closely new algorithms perform compared to prior ones. While a positive consensus result does measure similarity to previous performance, it can’t distinguish whether differences are due to improvement or decline in accuracy.</p>
    <p id="Par62">The creation of benchmark datasets for MS1-aware mass spectrometry algorithms with JS-MS 2.0 will enable a new workflow for MS1 MS algorithm evaluation that includes quantitative evaluation. New algorithms can be designed using information derived from ground truth annotations created with JS-MS. Once implemented, their performance can be evaluated in terms of, for instance, <italic>m/z</italic> accuracy of traces annotated, to demonstrate clear improvement over existing algorithms. These evaluations will demonstrate strengths and weaknesses to reviewers and users alike.</p>
    <p id="Par63">One such benchmark dataset is currently being constructed by our group for isotopic trace algorithms, and the community is invited to use JS-MS 2.0 to create many more such datasets for any and all MS1-aware applications (such as quantification, centroiding, etc.).</p>
  </sec>
  <sec id="Sec12">
    <title>Conclusion</title>
    <p id="Par64">JS-MS 2.0 provides a dependency-free, browser-based, cross-platform solution for creating MS1 ground truth. Novel interfaces allows users to quickly add, edit, import, and export isotope trace and isotopic envelop annotations.</p>
    <p id="Par65">While other MS viewers do not allow users to easily navigate MS datasets, the innovative navigation tools in JS-MS 2.0 give users the ability to inspect and annotate any area of signals quickly with pan, zoom, and bookmark lists. It combines interactive 2-D and 3-D plots with fast, easy to use navigation tools allowing for manual annotation of even the largest MS datasets. The creation of ground truth MS datasets will benefit algorithm development, quantitative evaluation, and help practitioners assess strengths and weaknesses of existing workflows.</p>
    <p id="Par66">JS-MS 2.0 is implemented as a JavaScript frontend and Java backend, it is lightweight with browser-based cross-platform compatibility.</p>
  </sec>
  <sec id="Sec13">
    <title>Availability and requirements</title>
    <p id="Par67"><italic>Project name</italic>: JS-MS 2.0.</p>
    <p id="Par68"><italic>Project home page</italic>:</p>
    <p id="Par69"><ext-link ext-link-type="uri" xlink:href="http://www.github.com/optimusmoose/jsms">http://www.github.com/optimusmoose/jsms</ext-link>.</p>
    <p id="Par70"><italic>Operating system(s)</italic>: Platform independent.</p>
    <p id="Par71"><italic>Programming language</italic>: Java, JavaScript.</p>
    <p id="Par72"><italic>Other requirements</italic>: An internet browser.</p>
    <p id="Par73"><italic>License</italic>: MIT.</p>
    <p id="Par74"><italic>Any restrictions to use by non-academics</italic>: None.</p>
  </sec>
</body>
<back>
  <glossary>
    <title>Abbreviations</title>
    <def-list>
      <def-item>
        <term>MS</term>
        <def>
          <p id="Par4">Mass spectrometry</p>
        </def>
      </def-item>
      <def-item>
        <term>RT</term>
        <def>
          <p id="Par5">Retention time</p>
        </def>
      </def-item>
      <def-item>
        <term>
          <italic>m/z</italic>
        </term>
        <def>
          <p id="Par6">Mass-to-charge ratio</p>
        </def>
      </def-item>
    </def-list>
  </glossary>
  <fn-group>
    <fn>
      <p>
        <bold>Publisher's Note</bold>
      </p>
      <p>Springer Nature remains neutral with regard to jurisdictional claims in published maps and institutional affiliations.</p>
    </fn>
  </fn-group>
  <ack>
    <title>Acknowledgements</title>
    <p>Not applicable.</p>
  </ack>
  <notes notes-type="author-contribution">
    <title>Authors' contributions</title>
    <p>JH built software and contributed to the manuscript, RS designed software and contributed to the manuscript. All authors have read and approved the manuscript.</p>
  </notes>
  <notes notes-type="funding-information">
    <title>Funding</title>
    <p>This material is based upon work supported by the National Science Foundation under Grant Nos. 1552240, 1723248, 1723006, and 1723196. The funder had no role in study design, data collection and analysis, decision to publish, or preparation of work included in this submission.</p>
  </notes>
  <notes notes-type="data-availability">
    <title>Availability of data and materials</title>
    <p>JS-MS is publicly available with an MIT license at github.com/optimusmoose/jsms.</p>
  </notes>
  <notes id="FPar2">
    <title>Ethics approval and consent to participate</title>
    <p id="Par75">Not applicable.</p>
  </notes>
  <notes id="FPar3">
    <title>Consent to publish</title>
    <p id="Par76">Not applicable.</p>
  </notes>
  <notes id="FPar4" notes-type="COI-statement">
    <title>Competing interests</title>
    <p id="Par77">The authors declare that they have no competing interests.</p>
  </notes>
  <ref-list id="Bib1">
    <title>References</title>
    <ref id="CR1">
      <label>1.</label>
      <element-citation publication-type="book">
        <person-group person-group-type="author">
          <name>
            <surname>Cole</surname>
            <given-names>RB</given-names>
          </name>
        </person-group>
        <source>Electrospray ionization mass spectrometry: fundamentals, instrumentation, and applications</source>
        <year>1997</year>
        <publisher-loc>New York</publisher-loc>
        <publisher-name>Wiley</publisher-name>
      </element-citation>
    </ref>
    <ref id="CR2">
      <label>2.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Cox</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Mann</surname>
            <given-names>M</given-names>
          </name>
        </person-group>
        <article-title>MaxQuant enables high peptide identification rates, individualized ppb-range mass accuracies and proteome-wide protein quantification</article-title>
        <source>Nat Biotechnol</source>
        <year>2008</year>
        <volume>26</volume>
        <issue>12</issue>
        <fpage>1367</fpage>
        <lpage>1372</lpage>
        <pub-id pub-id-type="doi">10.1038/nbt.1511</pub-id>
        <pub-id pub-id-type="pmid">19029910</pub-id>
      </element-citation>
    </ref>
    <ref id="CR3">
      <label>3.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Pluskal</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Castillo</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Villar-Briones</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Orešič</surname>
            <given-names>M</given-names>
          </name>
        </person-group>
        <article-title>MZmine 2: modular framework for processing, visualizing, and analyzing mass spectrometry-based molecular profile data</article-title>
        <source>BMC Bioinform</source>
        <year>2010</year>
        <volume>11</volume>
        <issue>1</issue>
        <fpage>395</fpage>
        <pub-id pub-id-type="doi">10.1186/1471-2105-11-395</pub-id>
      </element-citation>
    </ref>
    <ref id="CR4">
      <label>4.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Tautenhahn</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Bottcher</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Neumann</surname>
            <given-names>S</given-names>
          </name>
        </person-group>
        <article-title>Highly sensitive feature detection for high resolution LC/MS</article-title>
        <source>BMC Bioinform.</source>
        <year>2008</year>
        <volume>9</volume>
        <issue>1</issue>
        <fpage>504</fpage>
        <pub-id pub-id-type="doi">10.1186/1471-2105-9-504</pub-id>
      </element-citation>
    </ref>
    <ref id="CR5">
      <label>5.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Conley</surname>
            <given-names>CJ</given-names>
          </name>
          <name>
            <surname>Smith</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Torgrip</surname>
            <given-names>RJ</given-names>
          </name>
          <name>
            <surname>Taylor</surname>
            <given-names>RM</given-names>
          </name>
          <name>
            <surname>Tautenhahn</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Prince</surname>
            <given-names>JT</given-names>
          </name>
        </person-group>
        <article-title>Massifquant: open-source Kalman filter based XC-MS isotope trace feature detection</article-title>
        <source>Bioinformatics</source>
        <year>2014</year>
        <volume>30</volume>
        <issue>18</issue>
        <fpage>359</fpage>
        <pub-id pub-id-type="doi">10.1093/bioinformatics/btu359</pub-id>
      </element-citation>
    </ref>
    <ref id="CR6">
      <label>6.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Smith</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Ventura</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Prince</surname>
            <given-names>JT</given-names>
          </name>
        </person-group>
        <article-title>Novel algorithms and the benefits of comparative validation</article-title>
        <source>Bioinformatics</source>
        <year>2013</year>
        <volume>29</volume>
        <issue>12</issue>
        <fpage>1583</fpage>
        <lpage>1585</lpage>
        <pub-id pub-id-type="doi">10.1093/bioinformatics/btt176</pub-id>
        <pub-id pub-id-type="pmid">23589651</pub-id>
      </element-citation>
    </ref>
    <ref id="CR7">
      <label>7.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Rosen</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Handy</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Gillan</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Smith</surname>
            <given-names>R</given-names>
          </name>
        </person-group>
        <article-title>JS-MS: a cross-platform, modular Javascript viewer for mass spectrometry signals</article-title>
        <source>BMC Bioinform.</source>
        <year>2017</year>
        <volume>18</volume>
        <issue>1</issue>
        <fpage>469</fpage>
        <pub-id pub-id-type="doi">10.1186/s12859-017-1883-6</pub-id>
      </element-citation>
    </ref>
    <ref id="CR8">
      <label>8.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Röst</surname>
            <given-names>HL</given-names>
          </name>
          <name>
            <surname>Schmitt</surname>
            <given-names>U</given-names>
          </name>
          <name>
            <surname>Aebersold</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Malmström</surname>
            <given-names>L</given-names>
          </name>
        </person-group>
        <article-title>Pyopenms: a python-based interface to the OpenMS mass-spectrometry algorithm library</article-title>
        <source>Proteomics</source>
        <year>2014</year>
        <volume>14</volume>
        <issue>1</issue>
        <fpage>74</fpage>
        <lpage>77</lpage>
        <pub-id pub-id-type="doi">10.1002/pmic.201300246</pub-id>
        <pub-id pub-id-type="pmid">24420968</pub-id>
      </element-citation>
    </ref>
    <ref id="CR9">
      <label>9.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Handy</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Rosen</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Gillan</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Smith</surname>
            <given-names>R</given-names>
          </name>
        </person-group>
        <article-title>Fast, axis-agnostic, dynamically summarized storage and retrieval for mass spectrometry data</article-title>
        <source>PLoS ONE</source>
        <year>2017</year>
        <volume>12</volume>
        <issue>11</issue>
        <fpage>e0188059</fpage>
        <pub-id pub-id-type="doi">10.1371/journal.pone.0188059</pub-id>
        <pub-id pub-id-type="pmid">29141005</pub-id>
      </element-citation>
    </ref>
    <ref id="CR10">
      <label>10.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Henning</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Tostengard</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Smith</surname>
            <given-names>R</given-names>
          </name>
        </person-group>
        <article-title>A peptide-level fully annotated dataset for quantitative evaluation of precursor-aware mass spectrometry data processing algorithms</article-title>
        <source>J Proteome Res</source>
        <year>2018</year>
        <volume>18</volume>
        <issue>1</issue>
        <fpage>392</fpage>
        <lpage>398</lpage>
        <?supplied-pmid 30394759?>
        <pub-id pub-id-type="pmid">30394759</pub-id>
      </element-citation>
    </ref>
    <ref id="CR11">
      <label>11.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Gutierrez</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Handy</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Smith</surname>
            <given-names>R</given-names>
          </name>
        </person-group>
        <article-title>Quantitative evaluation of algorithms for isotopic envelope extraction via extracted ion chromatogram clustering</article-title>
        <source>J Proteome Res</source>
        <year>2018</year>
        <volume>17</volume>
        <issue>11</issue>
        <fpage>3774</fpage>
        <lpage>3779</lpage>
        <pub-id pub-id-type="doi">10.1021/acs.jproteome.8b00451</pub-id>
        <pub-id pub-id-type="pmid">30265546</pub-id>
      </element-citation>
    </ref>
    <ref id="CR12">
      <label>12.</label>
      <mixed-citation publication-type="other">Danchilla B. Three.js framework. In: Beginning WebGL for HTML5. New York: Springer; 2012. p. 173–203.</mixed-citation>
    </ref>
    <ref id="CR13">
      <label>13.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Smith</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Ventura</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Prince</surname>
            <given-names>JT</given-names>
          </name>
        </person-group>
        <article-title>Controlling for confounding variables in MS-omics protocol: why modularity matters</article-title>
        <source>Brief Bioinform</source>
        <year>2014</year>
        <volume>15</volume>
        <issue>5</issue>
        <fpage>768</fpage>
        <lpage>770</lpage>
        <pub-id pub-id-type="doi">10.1093/bib/bbt049</pub-id>
        <pub-id pub-id-type="pmid">23894105</pub-id>
      </element-citation>
    </ref>
    <ref id="CR14">
      <label>14.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Nahnsen</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Bertsch</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Rahnenführer</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Nordheim</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Kohlbacher</surname>
            <given-names>O</given-names>
          </name>
        </person-group>
        <article-title>Probabilistic consensus scoring improves tandem mass spectrometry peptide identification</article-title>
        <source>J Proteome Res</source>
        <year>2011</year>
        <volume>10</volume>
        <issue>8</issue>
        <fpage>3332</fpage>
        <lpage>3343</lpage>
        <pub-id pub-id-type="doi">10.1021/pr2002879</pub-id>
        <pub-id pub-id-type="pmid">21644507</pub-id>
      </element-citation>
    </ref>
  </ref-list>
</back>
