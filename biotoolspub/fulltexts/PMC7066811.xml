<?properties open_access?>
<?DTDIdentifier.IdentifierValue -//Springer-Verlag//DTD A++ V2.4//EN?>
<?DTDIdentifier.IdentifierType public?>
<?SourceDTD.DTDName A++V2.4.dtd?>
<?SourceDTD.Version 2.4?>
<?ConverterInfo.XSLTName springer2nlmx2.xsl?>
<?ConverterInfo.Version 1?>
<front>
  <journal-meta>
    <journal-id journal-id-type="nlm-ta">BMC Med Inform Decis Mak</journal-id>
    <journal-id journal-id-type="iso-abbrev">BMC Med Inform Decis Mak</journal-id>
    <journal-title-group>
      <journal-title>BMC Medical Informatics and Decision Making</journal-title>
    </journal-title-group>
    <issn pub-type="epub">1472-6947</issn>
    <publisher>
      <publisher-name>BioMed Central</publisher-name>
      <publisher-loc>London</publisher-loc>
    </publisher>
  </journal-meta>
  <article-meta>
    <article-id pub-id-type="pmcid">7066811</article-id>
    <article-id pub-id-type="publisher-id">1056</article-id>
    <article-id pub-id-type="doi">10.1186/s12911-020-1056-9</article-id>
    <article-categories>
      <subj-group subj-group-type="heading">
        <subject>Software</subject>
      </subj-group>
    </article-categories>
    <title-group>
      <article-title>FHIR PIT: an open software application for spatiotemporal integration of clinical data and environmental exposures data</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <name>
          <surname>Xu</surname>
          <given-names>Hao</given-names>
        </name>
        <xref ref-type="aff" rid="Aff1">1</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Cox</surname>
          <given-names>Steven</given-names>
        </name>
        <xref ref-type="aff" rid="Aff1">1</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Stillwell</surname>
          <given-names>Lisa</given-names>
        </name>
        <xref ref-type="aff" rid="Aff1">1</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Pfaff</surname>
          <given-names>Emily</given-names>
        </name>
        <xref ref-type="aff" rid="Aff2">2</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Champion</surname>
          <given-names>James</given-names>
        </name>
        <xref ref-type="aff" rid="Aff2">2</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Ahalt</surname>
          <given-names>Stanley C.</given-names>
        </name>
        <xref ref-type="aff" rid="Aff1">1</xref>
        <xref ref-type="aff" rid="Aff2">2</xref>
      </contrib>
      <contrib contrib-type="author" corresp="yes">
        <contrib-id contrib-id-type="orcid">http://orcid.org/0000-0002-6704-9306</contrib-id>
        <name>
          <surname>Fecho</surname>
          <given-names>Karamarie</given-names>
        </name>
        <address>
          <email>kfecho@copperlineprofessionalsolutions.com</email>
        </address>
        <xref ref-type="aff" rid="Aff1">1</xref>
      </contrib>
      <aff id="Aff1"><label>1</label><institution-wrap><institution-id institution-id-type="ISNI">0000000122483208</institution-id><institution-id institution-id-type="GRID">grid.10698.36</institution-id><institution>Renaissance Computing Institute, </institution><institution>University of North Carolina at Chapel Hill, </institution></institution-wrap>Chapel Hill, North Carolina 27517 USA </aff>
      <aff id="Aff2"><label>2</label><institution-wrap><institution-id institution-id-type="ISNI">0000000122483208</institution-id><institution-id institution-id-type="GRID">grid.10698.36</institution-id><institution>North Carolina Translational and Clinical Sciences Institute, </institution><institution>University of North Carolina at Chapel Hill, </institution></institution-wrap>Chapel Hill, North Carolina 27599 USA </aff>
    </contrib-group>
    <pub-date pub-type="epub">
      <day>11</day>
      <month>3</month>
      <year>2020</year>
    </pub-date>
    <pub-date pub-type="pmc-release">
      <day>11</day>
      <month>3</month>
      <year>2020</year>
    </pub-date>
    <pub-date pub-type="collection">
      <year>2020</year>
    </pub-date>
    <volume>20</volume>
    <elocation-id>53</elocation-id>
    <history>
      <date date-type="received">
        <day>19</day>
        <month>12</month>
        <year>2019</year>
      </date>
      <date date-type="accepted">
        <day>17</day>
        <month>2</month>
        <year>2020</year>
      </date>
    </history>
    <permissions>
      <copyright-statement>© The Author(s). 2020</copyright-statement>
      <license license-type="OpenAccess">
        <license-p><bold>Open Access</bold>This article is distributed under the terms of the Creative Commons Attribution 4.0 International License (<ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/licenses/by/4.0/">http://creativecommons.org/licenses/by/4.0/</ext-link>), which permits unrestricted use, distribution, and reproduction in any medium, provided you give appropriate credit to the original author(s) and the source, provide a link to the Creative Commons license, and indicate if changes were made. The Creative Commons Public Domain Dedication waiver (<ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/publicdomain/zero/1.0/">http://creativecommons.org/publicdomain/zero/1.0/</ext-link>) applies to the data made available in this article, unless otherwise stated.</license-p>
      </license>
    </permissions>
    <abstract id="Abs1">
      <sec>
        <title>Background</title>
        <p id="Par1">Informatics tools to support the integration and subsequent interrogation of spatiotemporal data such as clinical data and environmental exposures data are lacking. Such tools are needed to support research in environmental health and any biomedical field that is challenged by the need for integrated spatiotemporal data to examine individual-level determinants of health and disease.</p>
      </sec>
      <sec>
        <title>Results</title>
        <p id="Par2">We have developed an open-source software application—FHIR PIT (Health Level 7 Fast Healthcare Interoperability Resources Patient data Integration Tool)—to enable studies on the impact of individual-level environmental exposures on health and disease. FHIR PIT was motivated by the need to integrate patient data derived from our institution’s clinical warehouse with a variety of public data sources on environmental exposures and then openly expose the data via ICEES (Integrated Clinical and Environmental Exposures Service). FHIR PIT consists of transformation steps or building blocks that can be chained together to form a transformation and integration workflow. Several transformation steps are generic and thus can be reused. As such, new types of data can be incorporated into the modular FHIR PIT pipeline by simply reusing generic steps or adding new ones. We validated FHIR PIT in the context of a driving use case designed to investigate the impact of airborne pollutant exposures on asthma. Specifically, we replicated published findings demonstrating racial disparities in the impact of airborne pollutants on asthma exacerbations.</p>
      </sec>
      <sec>
        <title>Conclusions</title>
        <p id="Par3">While FHIR PIT was developed to support our driving use case on asthma, the software can be used to integrate any type and number of spatiotemporal data sources at a level of granularity that enables individual-level study. We expect FHIR PIT to facilitate research in environmental health and numerous other biomedical disciplines.</p>
      </sec>
    </abstract>
    <kwd-group xml:lang="en">
      <title>Keywords</title>
      <kwd>Data integration</kwd>
      <kwd>Spatiotemporal data</kwd>
      <kwd>Modular software design</kwd>
    </kwd-group>
    <funding-group>
      <award-group>
        <funding-source>
          <institution-wrap>
            <institution-id institution-id-type="FundRef">http://dx.doi.org/10.13039/100006108</institution-id>
            <institution>National Center for Advancing Translational Sciences</institution>
          </institution-wrap>
        </funding-source>
        <award-id>OT3TR002020</award-id>
        <award-id>UL1TR002489</award-id>
        <principal-award-recipient>
          <name>
            <surname>Ahalt</surname>
            <given-names>Stanley C.</given-names>
          </name>
        </principal-award-recipient>
      </award-group>
    </funding-group>
    <custom-meta-group>
      <custom-meta>
        <meta-name>issue-copyright-statement</meta-name>
        <meta-value>© The Author(s) 2020</meta-value>
      </custom-meta>
    </custom-meta-group>
  </article-meta>
</front>
<body>
  <sec id="Sec1">
    <title>Background</title>
    <p id="Par52">Researchers and healthcare practitioners across fields of biomedicine acknowledge the tremendous impact that environmental exposures have on health and disease. For example, airborne pollutant exposures have been linked to diseases as diverse as asthma [<xref ref-type="bibr" rid="CR1">1</xref>–<xref ref-type="bibr" rid="CR6">6</xref>], diabetes [<xref ref-type="bibr" rid="CR7">7</xref>–<xref ref-type="bibr" rid="CR9">9</xref>], cardiovascular disease [<xref ref-type="bibr" rid="CR10">10</xref>], dementia [<xref ref-type="bibr" rid="CR11">11</xref>], mental health disorders [<xref ref-type="bibr" rid="CR12">12</xref>], obesity [<xref ref-type="bibr" rid="CR13">13</xref>], liver disease [<xref ref-type="bibr" rid="CR14">14</xref>], and premature mortality [<xref ref-type="bibr" rid="CR15">15</xref>]. Yet, informatics tools to study the interaction between environmental exposures and health outcomes at the level of the individual are largely non-existent. For instance, the fields of epidemiology and environmental health focus primarily on population-based correlations between trends in spatiotemporal exposures and population-level health outcomes [<xref ref-type="bibr" rid="CR15">15</xref>]. Longitudinal clinical studies likewise are limited in their ability to collect subject-level data on environmental exposures, typically relying on survey-based self-report [<xref ref-type="bibr" rid="CR5">5</xref>] or expensive personal monitors [<xref ref-type="bibr" rid="CR6">6</xref>]. Electronic health record (EHR)–based research also is limited because such records do not contain data on environmental exposures apart from basic demographics.</p>
    <p id="Par15">Herein, we present FHIR PIT (Health Level 7 Fast Healthcare Interoperability Resources Patient data Integration Tool) as an open-source software application designed to overcome challenges in environmental health research and related fields and provide an innovative solution to enable investigation into the impact of individual-level environmental exposures on health and disease.</p>
  </sec>
  <sec id="Sec2">
    <title>Implementation</title>
    <p id="Par16">This work was conducted under a study protocol that was approved by the Institutional Review Board at the University of North Carolina at Chapel Hill.</p>
    <sec id="Sec3">
      <title>Motivation</title>
      <p id="Par17">FHIR PIT is a complex, custom, open-source software application that uses geocodes and time stamps of varying resolution (e.g., hour, day, year) to automatically integrate multiple sources of spatiotemporal data, irrespective of the degree to which the data depend on space and time. FHIR PIT was motivated by our research and development of the Integrated Clinical and Environmental Exposures Service [ICEES [<xref ref-type="bibr" rid="CR16">16</xref>]. ICEES was developed as part of the Biomedical Data Translator program in response to a need to openly expose clinical data that have been integrated at the patient and visit level with environmental exposures data [<xref ref-type="bibr" rid="CR17">17</xref>, <xref ref-type="bibr" rid="CR18">18</xref>]. FHIR PIT provides the integrated clinical and environmental exposures data to support ICEES.</p>
    </sec>
    <sec id="Sec4">
      <title>Implementation overview and spatiotemporal data sources</title>
      <p id="Par18">For initial research and development of FHIR PIT, clinical data on patients from UNC Health Care System were integrated with a variety of public data on environmental exposures, including: airborne pollutant exposures from the US Environmental Protection Agency; roadway exposures from the Federal Highway Administration’s Highway Patrol Monitoring System, within the US Department of Transportation; roadway exposures from the US Census Bureau’s Topologically Integrated Geographic Encoding and Referencing system; and socio-environmental exposures from the US Census Bureau’s American Community Survey. (A graphical overview of the FHIR PIT integration pipeline can be found in Fig. <xref rid="Fig1" ref-type="fig">1</xref>. A list of currently available feature variables can be found in Supplementary Table <xref rid="MOESM1" ref-type="media">1</xref>. This table and additional documentation are maintained and regularly updated on the ICEES OpenAPI.) Importantly, the integration step is conducted within a secure environment and under a protocol that was approved by our institution’s Institutional Review Board because data integration necessitates the use of patient geocodes (i.e., primary home residence), date/time stamps, and patient identifiers—data elements that are considered Protected Health Information under the Health Insurance Portability and Accountability Act (HIPAA).
<fig id="Fig1"><label>Fig. 1</label><caption><p>An overview of the integration steps embedded in the FHIR PIT software application pipeline. API = application programming interface; FHIR = Health Level 7 Fast Healthcare Interoperability Resources; ICEES = Integrated Clinical and Environmental Exposures Service; UI = user interface; US Census ACS = US Census Bureau’s American Community Survey; US Census Bureau TIGER = US Census Bureau’s Topologically Integrated Geographic Encoding and Referencing system; US EPA conUS CMAQ = US Environmental Protection Agency’s conUS Community Multiscale Air Quality modeling data; US DOT FHWA HPMS = US Department of Transportation, Federal Highway Administration, Highway Patrol Monitoring System. Red color = sensitive, fully identified clinical data; dark blue color = public data on environmental exposures; light blue color = secure, firewall- and Institutional Review Board–protected integration steps; dark green color = de-identified, binned integrated feature tables; light green color = ICEES OpenAPI. (<italic>Note that data from the National Center for Education Statistics have not yet been integrated using FHIR PIT, but an approach is under development to integrate data on school exposures with home exposures data and clinical data, thereby addressing issues related to patient mobility and differential exposures. A simplified version of the FHIR PIT pipeline was published in</italic> JAMIA <italic>2019;26(1):1064–1073 and is reprinted in adapted form here with full permission from the publisher. In contrast to the simplified version of the FHIR PIT pipeline, the version shown here includes and clearly distinguishes all of the data sources and integration steps that are assembled by the current version of the pipeline.)</italic></p></caption><graphic xlink:href="12911_2020_1056_Fig1_HTML" id="MO1"/></fig></p>
      <p id="Par19">Multiple integration steps are required to harmonize across these data sources, which vary in spatiotemporal resolution and format of geocodes and time stamps. For example, patient primary home residence is coded as latitude and longitude in the patient data, whereas the American Community Survey data are provided at the Census block level. Airborne pollutant exposures are available at hourly estimates, daily estimates, or annual averages, depending on the exposure entity and source year. Roadway data are provided as GIS shape files, with latitudes and longitudes in WGS84 decimal format, which is the World Geodetic System for expressing latitude and longitude. Separate software code is required to convert the spatiotemporal representation of the data used by each data source into a common format that allows integration across data sources. In addition, separate mappings are required to link patient identifiers and geocodes with each non-clinical data source, thereby supporting the final integration step that merges the different data sources.</p>
      <p id="Par20">The final product of the FHIR PIT software pipeline is a set of “integrated feature tables”, with feature variables binned or recoded and data de-identified according to §164.514(b) of HIPAA for subsequent open access via the ICEES OpenAPI.</p>
    </sec>
    <sec id="Sec5">
      <title>Implementation details</title>
      <p id="Par21">FHIR PIT consists of several transformation steps or building blocks that can be chained together to form a transformation and integration workflow. Several of these transformation steps are generic, such that they can take in any data that conform to a certain format. Thus, the incorporation of new types of data amounts to adding new transformation steps or reusing generic steps. FHIR PIT is implemented using Apache Spark. Spark is used to easily parallelize and distribute the data transformation steps. A Python script is used to simplify the application interface to the transformation steps. FHIR PIT supports building containers in both Singularity and Docker. This feature allows the application to run on different machines and platforms with portability.</p>
      <p id="Par22">Each block in FHIR PIT is implemented as a plugin consisting of a set of Scala classes that can be plugged into the pipeline. FHIR PIT is configured using a YAML file, and steps can be switched on or off for rapid re-execution of the pipeline. The plugins consist of both generic building blocks such as joining of tables and data set–specific building blocks such as preprocessing of environmental data (Table <xref rid="Tab1" ref-type="table">1</xref>). The input and output of each plugin can be configured so that the output of the previous step in a pipeline configuration can be fed as input for the next step.
<table-wrap id="Tab1"><label>Table 1</label><caption><p>FHIR PIT plugin names and functionalities</p></caption><table frame="hsides" rules="groups"><thead><tr><th>Plugin name</th><th>Functionality</th></tr></thead><tbody><tr><td>FHIR</td><td>Consolidates different FHIR resources for each patient and extracts geocodes</td></tr><tr><td>ToVector</td><td>Extracts features from FHIR</td></tr><tr><td>EnvData</td><td>Preprocesses environmental data source</td></tr><tr><td>CSVTable</td><td>Converts to ICEES integrated feature table</td></tr><tr><td>ACS</td><td>Preprocesses US Census Bureau ACS data source</td></tr><tr><td>ACS2</td><td>Preprocesses US Census Bureau ACS data source, v2; this includes a “ur” field for “urban or rural” residence</td></tr><tr><td>NearestRoad</td><td>Preprocesses nearest road data source for US Census Bureau TIGER data source</td></tr><tr><td>NearestRoad2</td><td>Preprocesses nearest road data source for US DOT FHWA HPMS data source</td></tr><tr><td>NOOP</td><td>No operation</td></tr></tbody></table></table-wrap></p>
      <p id="Par23">One of our goals for implementation of the pipeline is to enable automatic and rapid re-execution. Given the extensible number of input files and parameters, we use the Dhall configuration language to author configuration files and avoid code duplication. Dhall code is converted to a YAML file that is then read by the pipeline. An example YAML configuration of a step in the FHIR PIT pipeline is provided below, with fields defined in Table <xref rid="Tab2" ref-type="table">2</xref>.
<table-wrap id="Tab2"><label>Table 2</label><caption><p>FHIR PIT field names and functionality</p></caption><table frame="hsides" rules="groups"><thead><tr><th>Field name</th><th>Functionality</th></tr></thead><tbody><tr><td>name</td><td>Designates name of given step instance</td></tr><tr><td>dependsOn</td><td>Defines other step instances that given step instance depends on</td></tr><tr><td>skip</td><td>Determines whether given step instance should be skipped; if skip is “true”, then this step will not be run; skip function allows for partial re-execution of pipelines that have not been completely executed</td></tr><tr><td>step</td><td>Defines the given step instance</td></tr><tr><td>step.function</td><td>Designates the function name for given step instance; this is usually a class name</td></tr><tr><td>step.arguments</td><td>Delineates specific arguments for given step function; the arguments vary according to the step function</td></tr></tbody></table></table-wrap></p>
      <graphic position="anchor" xlink:href="12911_2020_1056_Figa_HTML" id="MO2"/>
      <p id="Par24">Writing the entire FHIR PIT pipeline configuration in YAML would necessitate rewriting the pipeline for every new calendar year and every new data set. With Dhall, we are able to create a function in the configuration that can be instantiated for each new calendar year or data set. A simplified version of this function to address additional years is shown below.</p>
      <graphic position="anchor" xlink:href="12911_2020_1056_Figb_HTML" id="MO3"/>
      <p id="Par25">To instantiate this for calendar year 2012, we simply need to specify the following parameter:</p>
      <p id="Par26">
envDataSourceStep False "2012"
</p>
      <p id="Par27">To extend this function for multiple calendar years, we specify an additional parameter:</p>
      <p id="Par28">
List/map ["2012", "2013", "2014"] (envDataSourceStep False)
</p>
      <p id="Par29">Here, the <italic>List/map</italic> function takes a list of terms and a function, applies the function to each element in the list, and returns a list of values.</p>
      <p id="Par30">Execution of the FHIR PIT pipeline generates a report of skipped tasks, succeeded tasks, failed tasks, and errors from failed tasks.</p>
    </sec>
  </sec>
  <sec id="Sec6">
    <title>Results</title>
    <p id="Par31">We validated FHIR PIT in the context of our driving use case for research and development of ICEES: impact of airborne pollutant exposures on asthma. The validation data set consisted of ~ 160,000 patients with “asthma-like” conditions from UNC Health Care System and the environmental data sources depicted in Fig. <xref rid="Fig1" ref-type="fig">1</xref>, focusing initially on data from calendar year 2010 [<xref ref-type="bibr" rid="CR19">19</xref>–<xref ref-type="bibr" rid="CR21">21</xref>]. FHIR PIT was used to integrate the clinical and environmental data and then de-identify the data and bin feature variables before openly exposing the integrated data using ICEES. ICEES was queried using the following input parameters:</p>
    <graphic position="anchor" xlink:href="12911_2020_1056_Figc_HTML" id="MO4"/>
    <p id="Par32">ICEES returned the following JSON output, which is also displayed in graphical form in Fig. <xref rid="Fig2" ref-type="fig">2</xref>.
<fig id="Fig2"><label>Fig. 2</label><caption><p>Racial disparities in the impact of airborne pollutant exposures on asthma exacerbations. Sample sizes are: <italic>N</italic> = 6379 African American patients; and <italic>N</italic> = 13,176 Caucasian patients. PM<sub>2.5</sub> = particulate matter &lt; 2.5-μm in diameter. Levels of PM<sub>2.5</sub> exposure were binned in FHIR PIT using pandas qcut and expressed as ranges. <italic>X</italic><sup>2</sup> = 28.2841, <italic>P</italic> &lt; 0.0001 for African Americans; <italic>X</italic><sup>2</sup> = 47.0133, <italic>P</italic> &lt; 0.0001 for Caucasians</p></caption><graphic xlink:href="12911_2020_1056_Fig2_HTML" id="MO5"/></fig></p>
    <graphic position="anchor" xlink:href="12911_2020_1056_Figd_HTML" id="MO6"/>
    <p id="Par33">These results indicate that the proportion of patients with two or more annual emergency department or inpatient visits for respiratory issues was higher among patients exposed to relatively high average daily levels of particulate matter &lt; 2.5-μm in diameter (PM<sub>2.5</sub>) than among those exposed to relatively low average daily levels of PM<sub>2.5</sub>. Moreover, asthma exacerbations, as defined by two or more annual emergency department or inpatient visits for respiratory issues, were more common among African Americans than among Caucasians.</p>
    <p id="Par34">We then examined prednisone use in relation to asthma exacerbations among African Americans and Caucasians. The ICEES query is shown below.</p>
    <graphic position="anchor" xlink:href="12911_2020_1056_Fige_HTML" id="MO7"/>
    <p id="Par35">ICEES returned the following results, which are shown in tabular form in Table <xref rid="Tab3" ref-type="table">3</xref>.
<table-wrap id="Tab3"><label>Table 3</label><caption><p>Relationship between prednisone use and asthma exacerbations, defined as two or more annual ED or inpatient visits for respiratory issues, among African Americans and Caucasians</p></caption><table frame="hsides" rules="groups"><thead><tr><th/><th>Patients with &lt; 2 annual ED/inpatient visits for respiratory issues<break/>N (%)</th><th>Patients with ≥ 2 annual ED/inpatient visits for respiratory issues<break/>N (%)</th><th>Chi square, <bold><italic>P</italic></bold> value</th></tr></thead><tbody><tr><td colspan="4"><bold>African Americans (N = 6379)</bold></td></tr><tr><td colspan="4"> <italic>Prednisone</italic></td></tr><tr><td>  No</td><td>4536 (89.41%)</td><td>1078 (82.54%)</td><td><italic>X</italic><sup><italic>2</italic></sup> = 46.4781,</td></tr><tr><td>  Yes</td><td>537 (10.59%)</td><td>228 (17.46%)</td><td><italic>P</italic> &lt; 0.0001</td></tr><tr><td colspan="4"><bold>Caucasians (N = 13,176)</bold></td></tr><tr><td colspan="4"> <italic>Prednisone</italic></td></tr><tr><td>  No</td><td>10,071 (89.99%)</td><td>1675 (84.38%)</td><td><italic>X</italic><sup><italic>2</italic></sup> = 54.8241,</td></tr><tr><td>  Yes</td><td>1120 (10.01%)</td><td>310 (15.62%)</td><td><italic>P</italic> &lt; 0.0001</td></tr></tbody></table><table-wrap-foot><p><italic>Abbreviations: ED, emergency department</italic></p></table-wrap-foot></table-wrap></p>
    <graphic position="anchor" xlink:href="12911_2020_1056_Figf_HTML" id="MO8"/>
    <p id="Par36">These results indicate that prednisone use was more common among patients with asthma exacerbations than among those without asthma exacerbations, as expected given that prednisone is generally reserved for patients with severe disease [<xref ref-type="bibr" rid="CR22">22</xref>]. While this finding was true for both African Americans and Caucasian, the effect was more pronounced among African Americans than among Caucasians.</p>
    <p id="Par37">In sum, we successfully applied FHIR PIT to integrate clinical and environmental data and then openly expose the data for interrogation via ICEES, thereby replicating and extending published literature demonstrating the impact of exposure to airborne particulate matter on asthma (e.g., 4) and the existence of racial disparities in asthma exacerbations [<xref ref-type="bibr" rid="CR23">23</xref>].</p>
  </sec>
  <sec id="Sec7">
    <title>Conclusion</title>
    <p id="Par38">We developed FHIR PIT as an open-source spatiotemporal data integration tool. We are currently using FHIR PIT to generate integrated clinical and environmental data for open exposure and interrogation via ICEES. While FHIR PIT was developed and validated in the context of a driving use case designed to evaluate the impact of airborne pollutant exposures on asthma, the software application has broad applicability in any use case that requires integrated spatiotemporal data for individual-level analysis. Indeed, we are currently extending FHIR PIT to support investigations into the impact of environmental exposures on primary ciliary dyskinesia, drug-induced liver injury, and several additional conditions. We believe that FHIR PIT will facilitate research in environmental health and many other biomedical disciplines.</p>
    <p id="Par39">FHIR PIT is under active development, with new data types and sources planned for the use cases noted above and others. The modular design of FHIR PIT will allow us to rapidly adapt the pipeline for these new data types and sources and automatically execute the pipeline to generate new ICEES integrated feature tables, thus providing flexibility and extensibility. These features will facilitate the adoption and adaptation of FHIR PIT for use in other applications and at other institutions.</p>
  </sec>
  <sec id="Sec8">
    <title>Availability and requirements</title>
    <p id="Par40">
      <list list-type="bullet">
        <list-item>
          <p id="Par41">Project name: FHIR PIT</p>
        </list-item>
        <list-item>
          <p id="Par42">Project home page: Software code and instructions for downloading FHIR PIT can be found at: <ext-link ext-link-type="uri" xlink:href="https://github.com/NCATS-Tangerine/FHIR-PIT">https://github.com/NCATS-Tangerine/FHIR-PIT</ext-link></p>
        </list-item>
        <list-item>
          <p id="Par43">Operating system(s): Linux</p>
        </list-item>
        <list-item>
          <p id="Par44">Programming language: Scala, Python</p>
        </list-item>
        <list-item>
          <p id="Par45">Other requirements: Java 8 or higher</p>
        </list-item>
        <list-item>
          <p id="Par46">License: MIT</p>
        </list-item>
        <list-item>
          <p id="Par47">Any restrictions to use by non-academics: none</p>
        </list-item>
      </list>
    </p>
  </sec>
  <sec sec-type="supplementary-material">
    <title>Supplementary information</title>
    <sec id="Sec9">
      <p>
        <supplementary-material content-type="local-data" id="MOESM1">
          <media xlink:href="12911_2020_1056_MOESM1_ESM.docx">
            <caption>
              <p><bold>Additional file 1: Supplementary Table 1.</bold> ICEES integrated feature variable tables (v1.0.0, v2.0.0): variable names, descriptions, and binning strategy.*</p>
            </caption>
          </media>
        </supplementary-material>
      </p>
    </sec>
  </sec>
</body>
<back>
  <glossary>
    <title>Abbreviations</title>
    <def-list>
      <def-item>
        <term>API</term>
        <def>
          <p id="Par4">Application programming interface</p>
        </def>
      </def-item>
      <def-item>
        <term>ED</term>
        <def>
          <p id="Par5">Emergency department</p>
        </def>
      </def-item>
      <def-item>
        <term>FHIR</term>
        <def>
          <p id="Par6">HL7 Health Level 7 Healthcare Interoperability Resources</p>
        </def>
      </def-item>
      <def-item>
        <term>FHIR PIT</term>
        <def>
          <p id="Par7">Health Level 7 Fast Healthcare Interoperability Resources Patient data Integration Tool</p>
        </def>
      </def-item>
      <def-item>
        <term>ICEES</term>
        <def>
          <p id="Par8">Integrated Clinical and Environmental Exposures Service</p>
        </def>
      </def-item>
      <def-item>
        <term>PM<sub>2.5</sub></term>
        <def>
          <p id="Par9">particulate matter &lt; 2.5-μm in diameter</p>
        </def>
      </def-item>
      <def-item>
        <term>UI</term>
        <def>
          <p id="Par10">User interface</p>
        </def>
      </def-item>
      <def-item>
        <term>US Census ACS</term>
        <def>
          <p id="Par11">US Census Bureau’s American Community Survey</p>
        </def>
      </def-item>
      <def-item>
        <term>US Census Bureau TIGER</term>
        <def>
          <p id="Par12">US Census Bureau’s Topologically Integrated Geographic Encoding and Referencing system</p>
        </def>
      </def-item>
      <def-item>
        <term>US DOT FHWA HPMS</term>
        <def>
          <p id="Par13">US Department of Transportation, Federal Highway Administration, Highway Patrol Monitoring System</p>
        </def>
      </def-item>
      <def-item>
        <term>US EPA conUS CMAQ</term>
        <def>
          <p id="Par14">US Environmental Protection Agency’s conUS Community Multiscale Air Quality modeling data</p>
        </def>
      </def-item>
    </def-list>
  </glossary>
  <fn-group>
    <fn>
      <p>
        <bold>Publisher’s Note</bold>
      </p>
      <p>Springer Nature remains neutral with regard to jurisdictional claims in published maps and institutional affiliations.</p>
    </fn>
  </fn-group>
  <sec>
    <title>Supplementary information</title>
    <p><bold>Supplementary information</bold> accompanies this paper at 10.1186/s12911-020-1056-9.</p>
  </sec>
  <ack>
    <title>Acknowledgements</title>
    <p>The authors acknowledge Sarav Arunachalam for provisioning the airborne pollutant exposures data, Stephen Appold for provisioning the socio-environmental exposures data, and Alejandro Valencia Aria for assistance with the roadway exposures data. The authors also acknowledge the clinical expertise provided by David B. Peden. The authors wish to thank Marian Mersmann for proofreading and the Carolina Data Warehouse for Health Oversight Committee at the University of North Carolina at Chapel Hill for their guidance and support of the work described in this manuscript.</p>
  </ack>
  <notes notes-type="author-contribution">
    <title>Authors’ contributions</title>
    <p>HX is the lead software designer, developer, and implementer of FHIR PIT; SC, LS, and KF contributed to the design of FHIR PIT; LS contributed expertise on GIS files; EP and JC provisioned the patient data and contributed to the design of FHIR PIT; KF led the validation and analysis of FHIR PIT; SCA provided overall leadership and direction for research and development of FHIR PIT; HX and KF led development of the manuscript and prepared the first draft. All authors reviewed the manuscript, provided critical input, and approved the final submission.</p>
  </notes>
  <notes notes-type="funding-information">
    <title>Funding</title>
    <p>This work has been supported by the National Center for Advancing Translational Sciences, National Institutes of Health [grant numbers OT3TR002020, UL1TR002489]. The funder had no role in the design of the study; the collection, analysis, and interpretation of data; or the writing of the manuscript.</p>
  </notes>
  <notes notes-type="data-availability">
    <title>Availability of data and materials</title>
    <p>The data that were used to validate FHIR PIT are openly available via ICEES at <ext-link ext-link-type="uri" xlink:href="https://icees.renci.org/apidocs">https://icees.renci.org/apidocs</ext-link>.</p>
  </notes>
  <notes>
    <title>Ethics approval and consent to participate</title>
    <p id="Par48">The research described in this manuscript was conducted under a study protocol that was approved by the Institutional Review Board at the University of North Carolina at Chapel Hill with a waiver of informed consent (protocol #16–2978, title “Carolina Biomedical Data Translator”, principal investigator SCA, created November 21, 2016, most recent annual approval received in September 20, 2019).</p>
  </notes>
  <notes>
    <title>Consent for publication</title>
    <p id="Par49">Not applicable.</p>
  </notes>
  <notes notes-type="COI-statement">
    <title>Competing interests</title>
    <p id="Par50">The authors declare that they have no competing interests.</p>
  </notes>
  <ref-list id="Bib1">
    <title>References</title>
    <ref id="CR1">
      <label>1.</label>
      <mixed-citation publication-type="other">Delfino RJ, Coate BD, Zeiger RS, Seltzer JM, Street DH, Koutrakis P. Daily asthma severity in relation to personal ozone exposure and outdoor fungal spores. Am J Respir Crit Care Med. 1996;154(3 Pt 1):633–41. Available from: 10.1164/ajrccm.154.3.8810598.</mixed-citation>
    </ref>
    <ref id="CR2">
      <label>2.</label>
      <mixed-citation publication-type="other">Saha C, Riner ME, Liu G. Individual and neighborhood-level factors in predicting asthma. Arch Pediatr Adolesc Med [Internet]. 2005;159(8):759–63. Available from: 10.1001/archpedi.159.8.759.</mixed-citation>
    </ref>
    <ref id="CR3">
      <label>3.</label>
      <mixed-citation publication-type="other">Schildcrout JS, Sheppard L, Lumley T, Slaughter JC, Koenig JQ, Shapiro GG. Ambient air pollution and asthma exacerbations in children: an eight-city analysis. Am J Epidemiol. 2006;164(6):505–17. Available from: 10.1093/aje/kwj225.</mixed-citation>
    </ref>
    <ref id="CR4">
      <label>4.</label>
      <mixed-citation publication-type="other">Mirabelli MC, Vaidyanathan A, Flanders WD, Qin X, Garbe P. Outdoor PM2.5, Ambient air temperature, and asthma symptoms in the past 14 days among adults with active asthma. Environ Health Perspect. 2016;124(12):1882–90. Available from: 10.1289/EHP92.</mixed-citation>
    </ref>
    <ref id="CR5">
      <label>5.</label>
      <mixed-citation publication-type="other">Schurman SH, Bravo MA, Innes CL, Jackson WB 2nd, McGrath JA, Miranda ML, et al. Toll-like receptor 4 pathway polymorphisms interact with pollution to influence asthma diagnosis and severity. Sci Rep. 2018;8(1):12713. Available from: 10.1038/s41598-018-30865-0.</mixed-citation>
    </ref>
    <ref id="CR6">
      <label>6.</label>
      <mixed-citation publication-type="other">Rabinovitch N, Adams CD, Strand M, Koehler K, Volckens J. Within-microenvironment 711 exposure to particulate matter and health effects in children with asthma: a pilot study 712 utilizing real-time personal monitoring with GPS interface. Environ Health. 2016;15(1):96. Available from: 10.1186/s12940-016-0181-5.</mixed-citation>
    </ref>
    <ref id="CR7">
      <label>7.</label>
      <mixed-citation publication-type="other">Krämer U, Herder C, Sugiri D, Strassburger K, Schikowski T, Ranft U, et al. Traffic-related air pollution and incident type 2 diabetes: results from the SALIA cohort study. Environ Health Perspect. 2010;118(9):1273–9. Available from: 10.1289/ehp.0901689.</mixed-citation>
    </ref>
    <ref id="CR8">
      <label>8.</label>
      <mixed-citation publication-type="other">Weinmayr G, Hennig F, Fuks K, Nonnemacher M, Jakobs H, Möhlenkamp S, et al. Long-term exposure to fine particulate matter and incidence of type 2 diabetes mellitus in a cohort study: effects of total and traffic-specific air pollution. Environ Health. 2015;19:14–53. Available from: 10.1186/s12940-015-0031-x.</mixed-citation>
    </ref>
    <ref id="CR9">
      <label>9.</label>
      <mixed-citation publication-type="other">Jagai JS, Krajewski AK, Shaikh S, Lobdell DT, Sargis RM. Association between environmental quality and diabetes in the USA. J Diabetes Investig. 2019; Available from: 10.1111/jdi.13152.</mixed-citation>
    </ref>
    <ref id="CR10">
      <label>10.</label>
      <mixed-citation publication-type="other">Hennig F, Fuks K, Moebus S, Weinmayr G, Memmesheimer M, Jakobs H, et al. Association between source-specific particulate matter air pollution and hs-CRP: local traffic and industrial emissions. Environ Health Perspect. 2014;122(7):703–10. Available from: 10.1289/ehp.1307081.</mixed-citation>
    </ref>
    <ref id="CR11">
      <label>11.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Chen</surname>
            <given-names>H</given-names>
          </name>
          <name>
            <surname>Kwong</surname>
            <given-names>JC</given-names>
          </name>
          <name>
            <surname>Copes</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Tu</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Villeneuve</surname>
            <given-names>PJ</given-names>
          </name>
          <name>
            <surname>van Donkelaar</surname>
            <given-names>A</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Living near major roads and the incidence of dementia, Parkinson’s disease, and multiple sclerosis: a population-based cohort study</article-title>
        <source>Lancet</source>
        <year>2017</year>
        <volume>389</volume>
        <issue>10070</issue>
        <fpage>718</fpage>
        <lpage>726</lpage>
        <pub-id pub-id-type="doi">10.1016/S0140-6736(16)32399-6</pub-id>
        <?supplied-pmid 28063597?>
        <pub-id pub-id-type="pmid">28063597</pub-id>
      </element-citation>
    </ref>
    <ref id="CR12">
      <label>12.</label>
      <mixed-citation publication-type="other">Bernardini F, Attademo L, Trezzi R, Gobbicchi C, Balducci PM, Del Bello V, et al. Air pollutants and daily number of admissions to psychiatric emergency services: evidence for detrimental mental health effects of ozone. Epidemiol Psychiatr Sci. 2019;6:1–7. Available from: 10.1017/S2045796019000623.</mixed-citation>
    </ref>
    <ref id="CR13">
      <label>13.</label>
      <mixed-citation publication-type="other">McConnell R, Gilliland FD, Goran M, Allayee H, Hricko A, Mittelman S. Does near-roadway air pollution contribute to childhood obesity? Pediatr Obes. 2016;11:1–3. Available from: 10.1111/ijpo.12016.</mixed-citation>
    </ref>
    <ref id="CR14">
      <label>14.</label>
      <mixed-citation publication-type="other">Kim JW, Park S, Lim CW, Lee K, Kim B. The role of air pollutants in initiating liver disease. Toxicol Res. 2014;30:65–70. Available from: 10.5487/tr.2014.30.2.065.</mixed-citation>
    </ref>
    <ref id="CR15">
      <label>15.</label>
      <mixed-citation publication-type="other">Chang SY, Vizuete W, Serre M, Vennam LP, Omary M, Isakov V, et al. Finely resolved on-road PM 2.5 and estimated premature mortality in central north carolina. Risk Anal. 2017;37(12):2420–34. Available from: 10.1111/risa.12775.</mixed-citation>
    </ref>
    <ref id="CR16">
      <label>16.</label>
      <mixed-citation publication-type="other">Fecho K, Pfaff E, Xu H, Champion J, Cox S, Stillwell L, et al. A novel approach for exposing and sharing clinical data: the translator integrated clinical and environmental exposures service. J Am Med Inform Assoc. 2019;26(10):1064–73. Available from: 10.1093/jamia/ocz042.</mixed-citation>
    </ref>
    <ref id="CR17">
      <label>17.</label>
      <mixed-citation publication-type="other">Biomedical Data Translator Consortium. The biomedical data translator program: conception, culture, and community. Clin Transl Sci 2019;12(2):91–94. Available from: 10.1111/cts.12592.</mixed-citation>
    </ref>
    <ref id="CR18">
      <label>18.</label>
      <mixed-citation publication-type="other">Biomedical Data Translator Consortium. Toward a universal biomedical data translator. Clin Transl Sci 2019;12(2):86–90. Available from: 10.1111/cts.12591.</mixed-citation>
    </ref>
    <ref id="CR19">
      <label>19.</label>
      <mixed-citation publication-type="other">Ahalt SC, Chute CG, Fecho K, Glusman G, Hadlock J, Taylor CO, et al. Clinical data: sources and types, regulatory constraints, applications. Clin Transl Sci. 2019;12(4):329–33. Available from: 10.1111/cts.12638.</mixed-citation>
    </ref>
    <ref id="CR20">
      <label>20.</label>
      <mixed-citation publication-type="other">Fecho K, Ahalt SC, Arunachalam S, Champion J, Chute CG, Davis S, et al. Sex, obesity, diabetes, and exposure to particulate matter among patients with severe asthma: Scientific insights from a comparative analysis of open clinical data sources during a five-day hackathon. J Biomed Inform. 2019;100:103325. Available from: 10.1016/j.jbi.2019.103325.</mixed-citation>
    </ref>
    <ref id="CR21">
      <label>21.</label>
      <mixed-citation publication-type="other">Pfaff ER, Champion J, Bradford RL, Clark M, Xu H, Fecho K, et al. Fast healthcare interoperability resources (FHIR) as a meta model to integrate common data models: development of a tool and quantitative validation study. JMIR Med Inform. 2019;7(4):e15199. Available from: 10.2196/15199.</mixed-citation>
    </ref>
    <ref id="CR22">
      <label>22.</label>
      <mixed-citation publication-type="other">WebMD Medical Reference. L. Chang, Reviewer. Prednisone and Asthma. July 5, 2018. Available from: <ext-link ext-link-type="uri" xlink:href="https://www.webmd.com/asthma/guide/prednisone-asthma#1">https://www.webmd.com/asthma/guide/prednisone-asthma#1</ext-link>.</mixed-citation>
    </ref>
    <ref id="CR23">
      <label>23.</label>
      <mixed-citation publication-type="other">Keet CA, McCormack MC, Pollack CE, Peng RD, McGowan E, Matsui EC. Neighborhood poverty, urban residence, race/ethnicity, and asthma: rethinking the inner-city asthma epidemic. J Allergy Clin Immunol. 2015;135(3):655–62. Available from: 10.1016/j.jaci.2014.11.022.</mixed-citation>
    </ref>
  </ref-list>
</back>
