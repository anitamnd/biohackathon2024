<?DTDIdentifier.IdentifierValue -//NLM//DTD JATS (Z39.96) Journal Publishing DTD v1.2 20190208//EN?>
<?DTDIdentifier.IdentifierType public?>
<?SourceDTD.DTDName JATS-journalpublishing1.dtd?>
<?SourceDTD.Version 1.2?>
<?ConverterInfo.XSLTName jats2jats3.xsl?>
<?ConverterInfo.Version 1?>
<?properties open_access?>
<processing-meta base-tagset="archiving" mathml-version="3.0" table-model="xhtml" tagset-family="jats">
  <restricted-by>pmc</restricted-by>
</processing-meta>
<front>
  <journal-meta>
    <journal-id journal-id-type="nlm-ta">JAMIA Open</journal-id>
    <journal-id journal-id-type="iso-abbrev">JAMIA Open</journal-id>
    <journal-id journal-id-type="publisher-id">jamiaoa</journal-id>
    <journal-title-group>
      <journal-title>JAMIA Open</journal-title>
    </journal-title-group>
    <issn pub-type="epub">2574-2531</issn>
    <publisher>
      <publisher-name>Oxford University Press</publisher-name>
    </publisher>
  </journal-meta>
  <article-meta>
    <article-id pub-id-type="pmcid">8903180</article-id>
    <article-id pub-id-type="doi">10.1093/jamiaopen/ooac013</article-id>
    <article-id pub-id-type="publisher-id">ooac013</article-id>
    <article-categories>
      <subj-group subj-group-type="heading">
        <subject>Application Notes</subject>
      </subj-group>
      <subj-group subj-group-type="category-taxonomy-collection">
        <subject>AcademicSubjects/SCI01530</subject>
        <subject>AcademicSubjects/MED00010</subject>
        <subject>AcademicSubjects/SCI01060</subject>
      </subj-group>
    </article-categories>
    <title-group>
      <article-title>BodyMapR: an R package and Shiny application designed to generate anatomical visualizations of cancer lesions</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author" corresp="yes">
        <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0001-9736-9119</contrib-id>
        <name>
          <surname>Miller</surname>
          <given-names>David M</given-names>
        </name>
        <xref rid="ooac013-aff1" ref-type="aff">1</xref>
        <xref rid="ooac013-aff2" ref-type="aff">2</xref>
        <xref rid="ooac013-cor1" ref-type="corresp"/>
        <!--dmiller4@mgh.harvard.edu-->
      </contrib>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0002-2783-5265</contrib-id>
        <name>
          <surname>Shalhout</surname>
          <given-names>Sophia Z</given-names>
        </name>
        <xref rid="ooac013-aff1" ref-type="aff">1</xref>
      </contrib>
    </contrib-group>
    <aff id="ooac013-aff1"><label>1</label><institution>Division of Hematology/Oncology, Department of Medicine, Massachusetts General Hospital</institution>, Boston, Massachusetts, <country country="US">USA</country></aff>
    <aff id="ooac013-aff2"><label>2</label><institution>Department of Dermatology, Massachusetts General Hospital</institution>, Boston, Massachusetts, <country country="US">USA</country></aff>
    <author-notes>
      <corresp id="ooac013-cor1">Corresponding Author: David M. Miller, MD, PhD, Division of Hematology/Oncology, Department of Medicine, Massachusetts General Hospital, 15 Parkman Street, Room 132, Boston MA 02114, USA; <email>dmiller4@mgh.harvard.edu</email></corresp>
    </author-notes>
    <pub-date pub-type="collection">
      <month>4</month>
      <year>2022</year>
    </pub-date>
    <pub-date pub-type="epub" iso-8601-date="2022-03-04">
      <day>04</day>
      <month>3</month>
      <year>2022</year>
    </pub-date>
    <pub-date pub-type="pmc-release">
      <day>04</day>
      <month>3</month>
      <year>2022</year>
    </pub-date>
    <volume>5</volume>
    <issue>1</issue>
    <elocation-id>ooac013</elocation-id>
    <history>
      <date date-type="received">
        <day>11</day>
        <month>12</month>
        <year>2021</year>
      </date>
      <date date-type="rev-recd">
        <day>07</day>
        <month>2</month>
        <year>2022</year>
      </date>
      <date date-type="editorial-decision">
        <day>10</day>
        <month>2</month>
        <year>2022</year>
      </date>
      <date date-type="accepted">
        <day>22</day>
        <month>2</month>
        <year>2022</year>
      </date>
    </history>
    <permissions>
      <copyright-statement>© The Author(s) 2022. Published by Oxford University Press on behalf of the American Medical Informatics Association.</copyright-statement>
      <copyright-year>2022</copyright-year>
      <license>
        <ali:license_ref xmlns:ali="http://www.niso.org/schemas/ali/1.0/" specific-use="textmining" content-type="ccbynclicense">https://creativecommons.org/licenses/by-nc/4.0/</ali:license_ref>
        <license-p>This is an Open Access article distributed under the terms of the Creative Commons Attribution-NonCommercial License (<ext-link ext-link-type="uri" xlink:href="https://creativecommons.org/licenses/by-nc/4.0/">https://creativecommons.org/licenses/by-nc/4.0/</ext-link>), which permits non-commercial re-use, distribution, and reproduction in any medium, provided the original work is properly cited. For commercial re-use, please contact journals.permissions@oup.com</license-p>
      </license>
    </permissions>
    <self-uri xlink:href="ooac013.pdf"/>
    <abstract>
      <title>Abstract</title>
      <sec id="s1">
        <title>Objectives</title>
        <p>Structured real-world data (RWD), such as those found in cancer registries, provide a rich source of information regarding the natural history of cancer. Interactive data visualizations of cancer lesions can provide insights into certain clinical tumor characteristics (CTC). Software that can be integrated into an oncological data collection effort and generate anatomical data visualizations of CTC are limited.</p>
      </sec>
      <sec id="s2">
        <title>Materials and Methods</title>
        <p>We created BodyMapR: an R package and Shiny application that generates anatomical visualizations of cancer lesions from structured data.</p>
      </sec>
      <sec id="s3">
        <title>Results</title>
        <p>BodyMapR is a Shiny application that transposes structured data from REDCap<sup>®</sup> onto an anatomical map to yield an interactive data visualization.</p>
      </sec>
      <sec id="s4">
        <title>Conclusions</title>
        <p>BodyMapR is freely available under the MIT license and can be obtained from GitHub. BodyMapR is executed in R and deployed as a Shiny application. It can be integrated into an existing cancer research platform and produces an interactive data visualization of CTC.</p>
      </sec>
    </abstract>
    <abstract abstract-type="layperson">
      <title>Lay Summary</title>
      <p>Large-scale data collection efforts in rare cancers are challenging and uncommon. Consequently, we lack a comprehensive understanding of clinical tumor characteristics (CTC), such as patterns of metastatic spread and biomarkers predictive of treatment response, for most rare tumors. Data collection efforts that incorporate data captured during real-world practice (a.k.a real-world data) can improve our understanding of CTC. Depicting RWD, for example, from a cancer registry, onto graphical representations of anatomical structures can provide a user-friendly technique to process information regarding CTC. However, displaying large amounts of RWD onto anatomical data visualizations is labor-intensive and time consuming. Currently, there is a dearth of software that can facilitate this process. Here, we present BodyMapR, a novel software that generates an interactive visualization of CTC from RWD. The package is freely available and modifiable by end users.</p>
    </abstract>
    <kwd-group>
      <kwd>data visualization</kwd>
      <kwd>cancer</kwd>
      <kwd>Shiny app</kwd>
      <kwd>REDCap, Merkel cell carcinoma</kwd>
    </kwd-group>
    <funding-group>
      <award-group award-type="grant">
        <funding-source>
          <institution-wrap>
            <institution>Harvard Cancer Center Merkel Cell Carcinoma</institution>
          </institution-wrap>
        </funding-source>
      </award-group>
      <award-group award-type="grant">
        <funding-source>
          <institution-wrap>
            <institution>Medical Discovery Clinical Research</institution>
          </institution-wrap>
        </funding-source>
      </award-group>
    </funding-group>
    <counts>
      <page-count count="6"/>
    </counts>
  </article-meta>
</front>
<body>
  <sec>
    <title>INTRODUCTION</title>
    <p>Large-scale data collection efforts in rare cancers, such as Merkel cell carcinoma (MCC), are challenging and uncommon.<xref rid="ooac013-B1" ref-type="bibr"><sup>1</sup></xref> The dearth of available data sets have limited our understanding of the natural history of rare cancers, such as MCC.<xref rid="ooac013-B2" ref-type="bibr"><sup>2–4</sup></xref> Consequently, we lack a comprehensive understanding of clinical tumor characteristics (CTC), such as patterns of metastatic spread and biomarkers predictive of treatment response, for most rare tumors. Data collection efforts that incorporate structured data captured during real-world practice (a.k.a Real-World Data or RWD) can improve our understanding of CTC.</p>
    <p>Depicting RWD, for example, from a cancer registry, onto graphical representations of anatomical structures can provide a user-friendly technique to process information regarding CTC. An improved understanding of the geographical lesion profile (GLP) of a cancer type may provide important insights. For example, although cancer types have been historically grouped based on the tissue of origin (eg, “lung cancer” or “pancreatic cancer”), neoplasms originating from the same tissue can have clinically relevant distinctions in pathogenesis. For example, in MCC, at least 2 distinct transforming mechanisms (eg, the Merkel cell polyoma virus and ultraviolet radiation), with distinct underlying mutational landscapes, have been described.<xref rid="ooac013-B2" ref-type="bibr"><sup>2</sup></xref> Data demonstrating geographical differences in virus-positive versus virus-negative MCC has emerged.<xref rid="ooac013-B5" ref-type="bibr"><sup>5</sup></xref> Thus, further definition of the relationship between topography and mutational landscape may lead to insights in pathogenesis across cancer types.</p>
    <p>However, displaying large amounts of RWD onto anatomical data visualizations is labor-intensive and time consuming. While informatic packages that generate modular visualizations of anatograms and tissues are available,<xref rid="ooac013-B6" ref-type="bibr"><sup>6</sup></xref> software that fully integrates data collection instruments for real-time anatomical data visualizations of cancer registry data are lacking.</p>
    <p>We previously published an overview of a methodology and design of a Research Electronic Data Capture (REDCap<sup>®</sup>)<xref rid="ooac013-B7" ref-type="bibr"><sup>7</sup></xref>-based system to facilitate capture of RWD.<xref rid="ooac013-B1" ref-type="bibr"><sup>1</sup></xref><sup>,</sup><xref rid="ooac013-B8" ref-type="bibr"><sup>8</sup></xref> That platform incorporates a form entitled the Lesion Information instrument, which provides a structured format for the collection of CTC.<xref rid="ooac013-B9" ref-type="bibr"><sup>9</sup></xref> This instrument is freely available and can be incorporated into any existing REDCap<sup>®</sup> project. It is currently being used by the Project Data Sphere led MCC Patient Registry.<xref rid="ooac013-B1" ref-type="bibr"><sup>1</sup></xref></p>
    <p>Here, we present BodyMapR, an R package with a Shiny application front-end, which generates an interactive data visualization of CTC. Its software wrangles and transforms structured data from a REDCap<sup>®</sup> project and provides graphing functions (<xref rid="ooac013-F1" ref-type="fig">Figure 1</xref>). BodyMapR is executed in R but is deployed as a Shiny application to enhance the user interface for users with limited programming capabilities. In this article, we provide (1) instructions on how to obtain and execute BodyMapR, (2) the R code for the server-side functions to allow for project-specific adaptations, (3) a Biorender-generated png file in which data is overlayed and displayed, and (4) a sample dataset for demonstration purposes.</p>
    <fig position="float" id="ooac013-F1">
      <label>Figure 1.</label>
      <caption>
        <p>Schema of BodyMapR. BodyMapR takes data from a REDCap<sup>®</sup> project that incorporates the Lesion Information and Genomics instruments. This csv file is loaded into the Shiny application and end users engage BodyMapR via a browser-based interface. Server-side R code executes the functions of BodyMapR to generate an interactive Plotly visualization of clinical tumor characteristic data displayed onto an anatomical body map. Anatomical images created with BioRender.com.</p>
      </caption>
      <graphic xlink:href="ooac013f1" position="float"/>
    </fig>
  </sec>
  <sec>
    <title>MATERIALS AND METHODS</title>
    <sec>
      <title>Software dependencies</title>
      <p>BodyMapR is written in R (version 4.0.0), organized using roxygen2,<xref rid="ooac013-B10" ref-type="bibr"><sup>10</sup></xref> and utilizes the following packages dplyr,<xref rid="ooac013-B11" ref-type="bibr"><sup>11</sup></xref> tidyr,<xref rid="ooac013-B12" ref-type="bibr"><sup>12</sup></xref> readr,<xref rid="ooac013-B13" ref-type="bibr"><sup>13</sup></xref> stringr,<xref rid="ooac013-B14" ref-type="bibr"><sup>14</sup></xref> purrr,<xref rid="ooac013-B15" ref-type="bibr"><sup>15</sup></xref> magrittr,<xref rid="ooac013-B16" ref-type="bibr"><sup>16</sup></xref> plotly,<xref rid="ooac013-B17" ref-type="bibr"><sup>17</sup></xref> shinydashboard,<xref rid="ooac013-B18" ref-type="bibr"><sup>18</sup></xref> and Shiny.<xref rid="ooac013-B19" ref-type="bibr"><sup>19</sup></xref> For full details, instructions and examples refer to the video demonstration (<ext-link xlink:href="https://github.com/TheMillerLab/BodyMapR/blob/main/Video_Demo.md" ext-link-type="uri">https://github.com/TheMillerLab/BodyMapR/blob/main/Video_Demo.md</ext-link>), or README file (<ext-link xlink:href="https://github.com/TheMillerLab/BodyMapR/blob/main/README.md" ext-link-type="uri">https://github.com/TheMillerLab/BodyMapR/blob/main/README.md</ext-link>), both of which can be viewed on the package GitHub page.</p>
    </sec>
    <sec>
      <title>Clinical informatics dependencies</title>
      <p>BodyMapR facilitates data visualizations from structured data contained in the Lesion Information instrument stored within REDCap<sup>®</sup> project. The data dictionary for this form has been previously published.<xref rid="ooac013-B20" ref-type="bibr"><sup>20</sup></xref> BodyMapR also integrates clinico-genomic data from the Genomics data capture instrument, which has been previously described<xref rid="ooac013-B8" ref-type="bibr"><sup>8</sup></xref><sup>,</sup><xref rid="ooac013-B21" ref-type="bibr"><sup>21</sup></xref> and is freely available on GitHub (<ext-link xlink:href="https://github.com/TheMillerLab/genetex/blob/main/data-raw/genomics_data_dictionary.csv" ext-link-type="uri">https://github.com/TheMillerLab/genetex/blob/main/data-raw/genomics_data_dictionary.csv</ext-link>).</p>
    </sec>
  </sec>
  <sec>
    <title>RESULTS</title>
    <sec>
      <title>BodyMapR inputs</title>
      <p>As depicted in <xref rid="ooac013-F1" ref-type="fig">Figure 1</xref>, BodyMapR takes data from a REDCap<sup>®</sup> project that has incorporated the Lesion Information and Genomics instruments as the input. The BodyMapR Shiny application is launched via the function launch_BodyMapR(). This function takes one argument, “Data,” a raw csv file exported from REDCap<sup>®</sup>. launch_BodyMapR() is the only function an end user needs to call to execute and utilize BodyMapR. Once launched, clinical researchers interface with BodyMapR in a web browser. The application’s browser-based user interface (UI) facilitates its use by investigators with limited programming skills. launch_BodyMapR() has a built-in default data set “BodyMapR_mock_dataset.” If the argument “Data” is not specified by an end user, the default data set will be incorporated into the application for demonstration purposes. “BodyMapR_mock_dataset” is a synthetic data set and contains no protected health information.</p>
    </sec>
    <sec>
      <title>BodyMapR UI</title>
      <p>The centerpiece of the BodyMapR UI is an anatomical landscape, henceforth referred to as the “Body Map” (<xref rid="ooac013-F2" ref-type="fig">Figure 2</xref>). The Body Map includes a skeleton, the anterior and posterior likeness of an androgynous adult, and representations of visceral and lymphatic structures. We designed the Body Map using images from BioRender.com.<xref rid="ooac013-B22" ref-type="bibr"><sup>22</sup></xref> Users control what information is displayed onto the Body Map via the application’s UI sidebar. Given that an improved understanding of the GLP of a cancer type may provide insight into patterns of spread, the default settings of BodyMapR display the GLP of the entire cohort, color-coded by tumor morphology (eg, primary vs metastasis vs recurrence). In contrast, a personalized Body Map at the single-subject level can be obtained by selecting a Record ID from the selectizeInput() selector “Filter on Record ID” in the application’s sidebar (<xref rid="sup1" ref-type="supplementary-material">Supplementary Figure S1</xref>).</p>
      <fig position="float" id="ooac013-F2">
        <label>Figure 2.</label>
        <caption>
          <p>Browser-based user interface. Users control what input is displayed onto the BodyMapR anatomical graphic using the sidebar selectors. Anatomical images created with BioRender.com.</p>
        </caption>
        <graphic xlink:href="ooac013f2" position="float"/>
      </fig>
      <p>As stated above, further definition of the relationship between topography and mutational landscape may lead to insights in pathogenesis across cancer types. Thus, BodyMapR incorporates the Genomics Instruments in order to display over 900 genes found in common clinico-genomics platforms.<xref rid="ooac013-B8" ref-type="bibr"><sup>8</sup></xref> Users can select which genes to be visualized on the Body Map using the “Filter on Gene Mutation” selector (<xref rid="ooac013-F2" ref-type="fig">Figure 2</xref>).</p>
    </sec>
    <sec>
      <title>BodyMapR server-side functions</title>
      <p>The server side of the Shiny application contains the executable code of BodyMapR. The package contains a set of functions that wrangles, transforms, and graphs CTC data from a REDCap<sup>®</sup> project (<xref rid="ooac013-F1" ref-type="fig">Figure 1</xref>). <xref rid="ooac013-T1" ref-type="table">Table 1</xref> summarizes the package’s functions and their respective action.</p>
      <table-wrap position="float" id="ooac013-T1">
        <label>Table 1.</label>
        <caption>
          <p>BodyMapR functions</p>
        </caption>
        <table frame="hsides" rules="groups">
          <colgroup span="1">
            <col valign="top" align="left" span="1"/>
            <col valign="top" align="left" span="1"/>
          </colgroup>
          <thead>
            <tr>
              <th rowspan="1" colspan="1">Functions</th>
              <th rowspan="1" colspan="1">Function</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td rowspan="1" colspan="1">bodymapr_df()</td>
              <td rowspan="1" colspan="1">Creates a data frame of clinical tumor characteristics from a structured electronic data collection instrument (eg, the Lesion Information instrument) and maps them to lookup tables that contain a coordinate system for the Body Map</td>
            </tr>
            <tr>
              <td rowspan="1" colspan="1">bodymapr_plot()</td>
              <td rowspan="1" colspan="1">Creates an interactive data visualization of clinical tumor characteristics from a structured EDC lesion instrument that has been processed by bodymapr_df()</td>
            </tr>
            <tr>
              <td rowspan="1" colspan="1">genomics.df.unite()</td>
              <td rowspan="1" colspan="1">Wrangles and processes genomics data from a REDCap project that has incorporated the Genomics Instrument. Genetic alterations are listed in wide format with a concatenation of genomic alterations in 1 cell. This function is called within BodyMapR’s bodymapr_df() function</td>
            </tr>
            <tr>
              <td rowspan="1" colspan="1">genomics.df.long()</td>
              <td rowspan="1" colspan="1">Wrangles and processes genomics data from a REDCap project that has incorporated the Genomics Instrument. This allows for expedited analysis of patient-level data from REDCap. Genetic alterations are listed in long format. This function is called within BodyMapR’s genomics.df.unite() function</td>
            </tr>
            <tr>
              <td rowspan="1" colspan="1">shiny_server()</td>
              <td rowspan="1" colspan="1">Contains the server side of the Shiny application. It incorporates both bodymapr_df() and bodymapr_plot(). Therefore, the data are wrangled, processed, and graphed with this function</td>
            </tr>
            <tr>
              <td rowspan="1" colspan="1">shiny_ui()</td>
              <td rowspan="1" colspan="1">Creates the user interface of BodyMapR</td>
            </tr>
            <tr>
              <td rowspan="1" colspan="1">launch_BodyMapR()</td>
              <td rowspan="1" colspan="1">Launches the BodyMapR Shiny application</td>
            </tr>
          </tbody>
        </table>
        <table-wrap-foot>
          <fn id="tblfn1">
            <p><italic toggle="yes">Note</italic>: Key functions unique to BodyMapR with a brief description of their action are shown.</p>
          </fn>
        </table-wrap-foot>
      </table-wrap>
    </sec>
    <sec>
      <title>BodyMapR outputs</title>
      <sec>
        <title>Topographical mapping</title>
        <p>As described previously,<xref rid="ooac013-B20" ref-type="bibr"><sup>20</sup></xref> the Lesion Information instrument was designed to capture 651 distinct anatomical structures, including skeletal, cutaneous, lymphatic, mucosal, and visceral locations (<xref rid="sup1" ref-type="supplementary-material">Supplementary Table S1</xref>). To construct a data visualization of these anatomical structures, individual structures were mapped to the Body Map using an <italic toggle="yes">X-Y</italic> grid-based coordinate system. To assist in topographical mapping, an interactive coordinate system was generated via plotly<xref rid="ooac013-B17" ref-type="bibr"><sup>17</sup></xref> (code below).</p>
        <p>body_map.png &lt;- BodyMapR::BodyMapR_biorender.png</p>
        <p>grid.2 &lt;- data.frame(<italic toggle="yes">x</italic> = rep((seq(from = 1 to = 100, by = 0.5)), each = 200),</p>
        <p><italic toggle="yes">      y</italic> = rep((seq(from = 1, to = 100, by = 1)), len = 100))</p>
        <p>df.grid &lt;- data.frame()</p>
        <p>grid.plotly &lt;- ggplot(df.grid) +</p>
        <p> xlim(0, 100) +</p>
        <p> ylim(0, 100) +</p>
        <p> theme_bw() +</p>
        <p> theme(panel.border = element_blank(),</p>
        <p>    panel.grid.major = element_blank(),</p>
        <p>    panel.grid.minor = element_blank(),</p>
        <p>    axis.line = element_blank()) +</p>
        <p> theme(axis.text.x = element_blank(),</p>
        <p>    axis.text.y = element_blank(),</p>
        <p>    axis.ticks = element_blank(),</p>
        <p>    axis.title = element_blank()) +</p>
        <p> annotation_raster(body_map.png,</p>
        <p>         ymin = 0,</p>
        <p>         xmin = 0,</p>
        <p>         xmax = 100,</p>
        <p>         ymax = 100) +</p>
        <p> geom_point(data = grid.2,</p>
        <p>      aes(x = x,</p>
        <p>        y = y))</p>
        <p>ggplotly(grid.plotly)</p>
        <p>As seen in <xref rid="ooac013-F3" ref-type="fig">Figure 3</xref>, individual <italic toggle="yes">X-Y</italic> coordinates are visualized by utilizing the hover text functionality of plotly. For example, using this method the left zygomatic bone is mapped to <italic toggle="yes">x</italic> = 12.0 and <italic toggle="yes">y</italic> = 92.0 (<xref rid="ooac013-F3" ref-type="fig">Figure 3</xref>). This approach was used to map every anatomical structure in the Lesion Information instrument.</p>
        <fig position="float" id="ooac013-F3">
          <label>Figure 3.</label>
          <caption>
            <p><italic toggle="yes">X</italic>-<italic toggle="yes">Y</italic> coordinate system for mapping topographical elements. Using plotly, individual <italic toggle="yes">X</italic>-<italic toggle="yes">Y</italic> coordinates are easily visualized and mapped to <italic toggle="yes">X</italic>-<italic toggle="yes">Y</italic> coordinates on the Body Map topographical image. Anatomical images created with BioRender.com.</p>
          </caption>
          <graphic xlink:href="ooac013f3" position="float"/>
        </fig>
        <p>The derived <italic toggle="yes">X-Y</italic> coordinates were then incorporated into lookup tables for each topographical region. For example, <xref rid="sup1" ref-type="supplementary-material">Supplementary Table S2</xref> displays the osseous lookup table, in which each of the 282 skeletal structures in the Lesion Information instrument are mapped to a unique <italic toggle="yes">X</italic> and <italic toggle="yes">Y</italic> combination. Lookup tables for each portion of the topographical map are embedded in the BodyMapR function body_map.df().</p>
        <p>The data-processing function body_map.df() takes one argument (“data”). It returns a data frame that is then used for the BodyMapR graphing functions embedded in the server side of the Shiny application. The “data” argument taken by bodymapr_df() is a raw csv file exported from a REDCap<sup>®</sup> project for which the Lesion Information and Genomics instruments have been incorporated. bodymapr_df() wrangles the raw csv file and uses the dplyr function left_join() to combine the various anatomical lookup tables to the REDCap<sup>®</sup> project data to map each lesion to its corresponding topographical location (<xref rid="sup1" ref-type="supplementary-material">Supplementary Figure S2</xref>). An example of the output of bodymapr_df() is seen in <xref rid="sup1" ref-type="supplementary-material">Supplementary Table S3</xref>.</p>
      </sec>
      <sec>
        <title>Interactive topography</title>
        <p>The output of bodymapr_df() is then used as the argument for the BodyMapR graphing function bodymapr_plot() (<xref rid="sup1" ref-type="supplementary-material">Supplementary Figure S3</xref>). In addition to providing a static GLP of the cohort, BodyMapR was designed to display an interactive graphic to increase the amount of information presented by the package without compromising the user experience with data overload. Utilizing hover text functionality via plotly, bodymapr_df() provides detailed and clinically relevant CTC information (<xref rid="sup1" ref-type="supplementary-material">Supplementary Figure S1</xref>). Given that therapeutic strategies in oncology are increasingly determined by genomic alterations in tumor specimens, the default parameters of bodymapr_df() display individual genomic alterations and tumor mutational burden in the hover text. In addition, since tumor size is an important CTC, often with staging implications, individual lesions are sized proportional to the longest axis of their clinical measurement.</p>
      </sec>
    </sec>
    <sec>
      <title>BodyMapR customizations</title>
      <p>The BodyMapR source code has been made freely available to provide end users with the ability to customize the user interface and server-side functions to best suit their clinical research needs. As an example, BodyMapR is currently being used by the Project Data Sphere-supported MCC patient registry.<xref rid="ooac013-B3" ref-type="bibr"><sup>3</sup></xref> Therefore, modifications have been made to incorporate specific CTC salient to MCC. For example, the MCC BodyMapR application has incorporated sidebar selectors with disease-specific information such as Merkel Cell polyoma virus-related data (<xref rid="sup1" ref-type="supplementary-material">Supplementary Figure S4</xref>). Analogous adaptations can be made on a project-specific basis by end users to meet their clinical research needs.</p>
      <p>Furthermore, because BodyMapR can function as a stand-alone R package (ie, outside of a Shiny application), users are able to customize which data are mapped onto the Body Map inside an integrated development environment (IDE), such as such as RStudio<sup>®</sup>.<xref rid="ooac013-B23" ref-type="bibr"><sup>23</sup></xref> For example, if an investigator intends to visualize a subset of the cohort that contained liver lesions, the following code could be used:<disp-quote content-type="extract"><p><italic toggle="yes"># Create a data frame containing only those observations with liver or hepatic metastases</italic></p><p>liver_lesions&lt;- BodyMapR::BodyMapR_mock_dataset %&gt;%</p><p> filter(str_detect(string = BodyMapR::BodyMapR_mock_dataset$lesion_tag,</p><p>    pattern = regex(“liver|hepatic”, ignore_case = TRUE)))</p><p><italic toggle="yes"># Filter the</italic> mock <italic toggle="yes">dataset with liver lesions to map only those subjects that have liver lesions</italic></p><p>BodyMapR::BodyMapR_mock_dataset %&gt;%</p><p> filter(record_id %in% liver_lesions$record_id) %&gt;%</p><p> BodyMapR::bodymapr_df() %&gt;%</p><p> BodyMapR::bodymapr_plot()</p></disp-quote></p>
      <p>The above code will generate an interactive Body Map data visualization within an IDE (<xref rid="sup1" ref-type="supplementary-material">Supplementary Figure S5</xref>). Of note, as seen above, the functions of BodyMapR are compatible with tidyverse syntax and use of the magrittr pipe operator.<xref rid="ooac013-B14" ref-type="bibr"><sup>14</sup></xref></p>
    </sec>
  </sec>
  <sec>
    <title>LIMITATIONS AND SOLUTIONS</title>
    <p>BodyMapR is to be used in conjunction with the Lesion Information and Genomics Information instrument; therefore, it functions optimally when those forms are installed into a REDCap<sup>®</sup> project. Thus, we have made the data dictionaries freely available so that others may incorporate them into their individual projects. However, if an investigator has incorporated a lesion field that uses other common anatomical coding systems, such as the International Classification of Diseases for Oncology, 3rd edition (ICD-O-3) or the Systematized Nomenclature of Medicine (SNOMED), we have incorporated a lookup table that converts these fields into coordinates on the BodyMapR Body Map (<xref rid="sup1" ref-type="supplementary-material">Supplementary Table S4</xref>).</p>
    <p>In addition, although BodyMapR is designed to be used with a specific anatomical image, which is incorporated into the package, the bespoke <italic toggle="yes">X-Y</italic> coordinate system we described above can be used to create lookup tables for any graphic. Therefore, an end user can utilize alternate images when appropriate.</p>
  </sec>
  <sec>
    <title>CONCLUSIONS</title>
    <p>Data visualizations of CTC can improve our understanding of the natural history of malignancies. Tools that streamline topographical profiling of cancer lesions from structured data collection systems are time consuming to design and require knowledge of software engineering and application development. These resources may be limited on clinical research teams and thus, customizable and freely available, web-based tools are an unmet need. BodyMapR is an open-sourced R package that is deployed as a Shiny application that can integrate into an existing cancer research platform and produces an interactive data visualization of CTC.</p>
  </sec>
  <sec>
    <title>FUNDING</title>
    <p>The Harvard Cancer Center Merkel Cell Carcinoma patient registry is supported by grants from Project Data Sphere, ECOG-Acrin, and the American skin association. SZS was also funded by the MGH-ECOR Fund for Medical Discovery Clinical Research Grant.</p>
  </sec>
  <sec>
    <title>AUTHOR CONTRIBUTIONS</title>
    <p>DMM created and developed the BodyMapR package, authored the article, and granted final approval of the article. SZS contributed to the development of the BodyMapR package, including code writing, participated in the authorship of the article, and granted final approval of the article.</p>
  </sec>
  <sec>
    <title>SUPPLEMENTARY MATERIAL</title>
    <p><xref rid="sup1" ref-type="supplementary-material">Supplementary material</xref> is available at <italic toggle="yes">JAMIA Open</italic> online.</p>
  </sec>
  <sec>
    <title>CONFLICT OF INTEREST STATEMENT</title>
    <p>None declared.</p>
  </sec>
  <sec sec-type="data-availability">
    <title>DATA AVAILABILITY</title>
    <p>The data/code for this application can be found in our GITHUB repository: (<ext-link xlink:href="https://github.com/TheMillerLab/BodyMapR" ext-link-type="uri">https://github.com/TheMillerLab/BodyMapR</ext-link>).</p>
  </sec>
  <sec sec-type="supplementary-material">
    <title>Supplementary Material</title>
    <supplementary-material id="sup1" position="float" content-type="local-data">
      <label>ooac013_Supplementary_Data</label>
      <media xlink:href="ooac013_Supplementary_Data.zip">
        <caption>
          <p>Click here for additional data file.</p>
        </caption>
      </media>
    </supplementary-material>
  </sec>
</body>
<back>
  <ref-list id="ref1">
    <title>REFERENCES</title>
    <ref id="ooac013-B1">
      <label>1</label>
      <mixed-citation publication-type="other"><person-group person-group-type="author"><string-name><surname>Miller</surname><given-names>DM, Shalhout SZ, Saqlain F</given-names></string-name></person-group>, <etal>et al</etal><italic toggle="yes">The Merkel Cell Carcinoma Patient Registry-From Promise to Prototype to Patient</italic>. <year>2021</year>. <ext-link xlink:href="https://themillerlab.io" ext-link-type="uri">https://themillerlab.io</ext-link>. Accessed January 10, 2022.</mixed-citation>
    </ref>
    <ref id="ooac013-B2">
      <label>2</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Harms</surname><given-names>PW</given-names></string-name>, <string-name><surname>Harms</surname><given-names>KL</given-names></string-name>, <string-name><surname>Moore</surname><given-names>PS</given-names></string-name></person-group>, <etal>et al</etal>; <collab>International Workshop on Merkel Cell Carcinoma Research (IWMCC) Working Group</collab>. <article-title>The biology and treatment of Merkel cell carcinoma: Current understanding and research priorities</article-title>. <source>Nat Rev Clin Oncol</source><year>2018</year>; <volume>15</volume> (<issue>12</issue>): <fpage>763</fpage>–<lpage>76</lpage>.<pub-id pub-id-type="pmid">30287935</pub-id></mixed-citation>
    </ref>
    <ref id="ooac013-B3">
      <label>3</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Shalhout</surname><given-names>SZ</given-names></string-name>, <string-name><surname>Emerick</surname><given-names>KS</given-names></string-name>, <string-name><surname>Kaufman</surname><given-names>HL</given-names></string-name>, <string-name><surname>Miller</surname><given-names>DM.</given-names></string-name></person-group><article-title>Immunotherapy for non-melanoma skin cancer</article-title>. <source>Curr Oncol Rep</source><year>2021</year>; <volume>23</volume> (<issue>11</issue>): <fpage>125</fpage>.<pub-id pub-id-type="pmid">34448958</pub-id></mixed-citation>
    </ref>
    <ref id="ooac013-B4">
      <label>4</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Shalhout</surname><given-names>SZ</given-names></string-name>, <string-name><surname>Kaufman</surname><given-names>HL</given-names></string-name>, <string-name><surname>Emerick</surname><given-names>KS</given-names></string-name>, <string-name><surname>Miller</surname><given-names>DM.</given-names></string-name></person-group><article-title>Immunotherapy for nonmelanoma skin cancer: facts and hopes</article-title> [published online ahead of print February 4, 2022]. <source>Clin Cancer Res</source>
<year>2022</year>; doi:10.1158/1078-0432.CCR-21-2971.</mixed-citation>
    </ref>
    <ref id="ooac013-B5">
      <label>5</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Schrama</surname><given-names>D</given-names></string-name>, <string-name><surname>Peitsch</surname><given-names>WK</given-names></string-name>, <string-name><surname>Zapatka</surname><given-names>M</given-names></string-name></person-group>, <etal>et al</etal><article-title>Merkel cell polyomavirus status is not associated with clinical course of Merkel cell carcinoma</article-title>. <source>J Invest Dermatol</source><year>2011</year>; <volume>131</volume> (<issue>8</issue>): <fpage>1631</fpage>–<lpage>8</lpage>.<pub-id pub-id-type="pmid">21562568</pub-id></mixed-citation>
    </ref>
    <ref id="ooac013-B6">
      <label>6</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Maag</surname><given-names>JLV.</given-names></string-name></person-group><article-title>Gganatogram: An r package for modular visualisation of anatograms and tissues based on ggplot2</article-title>. <source>F1000Res</source><year>2018</year>; <volume>7</volume>: <fpage>1576</fpage>.<pub-id pub-id-type="pmid">30467523</pub-id></mixed-citation>
    </ref>
    <ref id="ooac013-B7">
      <label>7</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Harris</surname><given-names>PA</given-names></string-name>, <string-name><surname>Taylor</surname><given-names>R</given-names></string-name>, <string-name><surname>Thielke</surname><given-names>R</given-names></string-name></person-group>, <etal>et al</etal><article-title>Research electronic data capture (REDCap)—a metadata-driven methodology and workflow process for providing translational research informatics support</article-title>. <source>J Biomed Inform</source><year>2009</year>; <volume>42</volume> (<issue>2</issue>): <fpage>377</fpage>–<lpage>81</lpage>.<pub-id pub-id-type="pmid">18929686</pub-id></mixed-citation>
    </ref>
    <ref id="ooac013-B8">
      <label>8</label>
      <mixed-citation publication-type="other"><person-group person-group-type="author"><string-name><surname>Shalhout</surname><given-names>SZ</given-names></string-name>, <string-name><surname>Miller</surname><given-names>DM.</given-names></string-name></person-group><italic toggle="yes">Optimizing Real-World Data Collection: Clinical Genomics</italic>. <year>2020</year>. https://www.themillerlab.io/post/optimizing_rwd_collection-clinical_genomics/. Accessed October 16, 2021.</mixed-citation>
    </ref>
    <ref id="ooac013-B9">
      <label>9</label>
      <mixed-citation publication-type="other"><person-group person-group-type="author"><string-name><surname>Miller</surname><given-names>DM</given-names></string-name>, <string-name><surname>Shalhout</surname><given-names>SZ.</given-names></string-name></person-group><italic toggle="yes">Optimizing Real-World Data Collection: Genomics Electronic Data Capture Instrument</italic>. <year>2021</year>. https://www.themillerlab.io/post/optimizing_rwd_collection-lesion_information_instrument/. Accessed December 10, 2021.</mixed-citation>
    </ref>
    <ref id="ooac013-B10">
      <label>10</label>
      <mixed-citation publication-type="other"><person-group person-group-type="author"><string-name><surname>Wickham</surname><given-names>H</given-names></string-name>, <string-name><surname>Danenberg</surname><given-names>P</given-names></string-name>, <string-name><surname>Eugster</surname><given-names>M.</given-names></string-name></person-group><italic toggle="yes">Roxygen2: In-Source Documentation for R (version 6.0.1</italic>). R package Version 7.1.1. <year>2013</year>. <ext-link xlink:href="https://cran.r-project.org/package=roxygen2" ext-link-type="uri">https://cran.r-project.org/package=roxygen2</ext-link>.</mixed-citation>
    </ref>
    <ref id="ooac013-B11">
      <label>11</label>
      <mixed-citation publication-type="other"><person-group person-group-type="author"><string-name><surname>Wickham</surname><given-names>H</given-names></string-name>, <string-name><surname>Francois</surname><given-names>R</given-names></string-name>, <string-name><surname>Henry</surname><given-names>L</given-names></string-name>, <string-name><surname>Muller</surname><given-names>K.</given-names></string-name></person-group><italic toggle="yes">Dplyr: A Grammar of Data Manipulation</italic>. R Package Version 1.0.5. <year>2021</year>.</mixed-citation>
    </ref>
    <ref id="ooac013-B12">
      <label>12</label>
      <mixed-citation publication-type="other"><person-group person-group-type="author"><string-name><surname>Wickham</surname><given-names>H.</given-names></string-name></person-group><italic toggle="yes">Tidyr: Tidy Messy Data</italic>. R package Version 1.1.3. <year>2013</year>.</mixed-citation>
    </ref>
    <ref id="ooac013-B13">
      <label>13</label>
      <mixed-citation publication-type="other"><person-group person-group-type="author"><string-name><surname>Wickham</surname><given-names>H</given-names></string-name>, <string-name><surname>Hester</surname><given-names>J</given-names></string-name>, <string-name><surname>Francois</surname><given-names>R.</given-names></string-name></person-group><italic toggle="yes">Readr: Read Rectangular Text Data</italic>. R package Version 1.4.0. <year>2020</year>.</mixed-citation>
    </ref>
    <ref id="ooac013-B14">
      <label>14</label>
      <mixed-citation publication-type="other"><person-group person-group-type="author"><string-name><surname>Wickham</surname><given-names>H.</given-names></string-name></person-group><italic toggle="yes">Stringr: Simple, Consistent Wrappers for Common String</italic>. R package Version 1.4.0. <year>2019</year>.</mixed-citation>
    </ref>
    <ref id="ooac013-B15">
      <label>15</label>
      <mixed-citation publication-type="other"><person-group person-group-type="author"><string-name><surname>Henry</surname><given-names>L</given-names></string-name>, <string-name><surname>Wickham</surname><given-names>H.</given-names></string-name></person-group><italic toggle="yes">Purrr: Functional Programming Tools</italic>. R package Version 0.3.4. <year>2020</year>.</mixed-citation>
    </ref>
    <ref id="ooac013-B16">
      <label>16</label>
      <mixed-citation publication-type="other"><person-group person-group-type="author"><string-name><surname>Bache</surname><given-names>SM</given-names></string-name>, <string-name><surname>Wickham</surname><given-names>H</given-names></string-name>, <string-name><surname>Henry</surname><given-names>L.</given-names></string-name></person-group><italic toggle="yes">Magrittr: A Forward-Pipe Operator for r</italic>. R package Version 2.0.1. <year>2020</year>.</mixed-citation>
    </ref>
    <ref id="ooac013-B17">
      <label>17</label>
      <mixed-citation publication-type="other"><person-group person-group-type="author"><string-name><surname>Sievert</surname><given-names>C.</given-names></string-name>, </person-group><italic toggle="yes">Interactive Web-Based Data Visualization with R, plotly, and shiny</italic>. Boca Raton, FL: Chapman and Hall; 2020.</mixed-citation>
    </ref>
    <ref id="ooac013-B18">
      <label>18</label>
      <mixed-citation publication-type="other"><person-group person-group-type="author"><string-name><surname>Chang</surname><given-names>W</given-names></string-name>, <string-name><surname>Ribeiro</surname><given-names>BB</given-names></string-name></person-group>; <collab>RStudio, Almasaeed Studio and Adobe Systems Incorporated</collab>. <italic toggle="yes">Shinydashboard: Create Dashboards With ‘Shiny’</italic>. R Package Version 1.0.5. <year>2021</year>.</mixed-citation>
    </ref>
    <ref id="ooac013-B19">
      <label>19</label>
      <mixed-citation publication-type="other"><person-group person-group-type="author"><string-name><surname>Chang</surname><given-names>W</given-names></string-name>, <string-name><surname>Cheng</surname><given-names>J</given-names></string-name>, <string-name><surname>Allaire</surname><given-names>JJ</given-names></string-name>, <string-name><surname>Xie</surname><given-names>Y</given-names></string-name>, <string-name><surname>McPherson</surname><given-names>J.</given-names></string-name></person-group><italic toggle="yes">Shiny: Web Application Framework for r</italic>. R package Version 1.6.0. <year>2018</year>.</mixed-citation>
    </ref>
    <ref id="ooac013-B20">
      <label>20</label>
      <mixed-citation publication-type="other"><person-group person-group-type="author"><string-name><surname>Miller</surname><given-names>DM</given-names></string-name>, <string-name><surname>Saqlain</surname><given-names>F</given-names></string-name>, <string-name><surname>Shalhout</surname><given-names>SZ.</given-names></string-name></person-group><italic toggle="yes">Optimizing Real-World Data Collection: The Lesion Information Electronic Data Capture Instrument</italic>. <year>2021</year>. <ext-link xlink:href="https://themillerlab.io" ext-link-type="uri">https://themillerlab.io</ext-link>. Accessed January 10, 2022.</mixed-citation>
    </ref>
    <ref id="ooac013-B21">
      <label>21</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Miller</surname><given-names>DM</given-names></string-name>, <string-name><surname>Shalhout</surname><given-names>SZ.</given-names></string-name></person-group><article-title>GENETEX-a GENomics report TEXt mining R package and Shiny application designed to capture real-world clinico-genomic data</article-title>. <source>JAMIA Open</source><year>2021</year>; <volume>4</volume> (<issue>3</issue>): <fpage>ooab082</fpage>.<pub-id pub-id-type="pmid">34595403</pub-id></mixed-citation>
    </ref>
    <ref id="ooac013-B22">
      <label>22</label>
      <mixed-citation publication-type="other"><collab>BioRender</collab>. <year>2021</year>. <ext-link xlink:href="https://biorender.com" ext-link-type="uri">https://biorender.com</ext-link>. Accessed October 16, 2021.</mixed-citation>
    </ref>
    <ref id="ooac013-B23">
      <label>23</label>
      <mixed-citation publication-type="other"><collab>RStudio Team</collab>. <italic toggle="yes">RStudio: Integrated Development Environment for R</italic>. RStudio, PBC; <year>2020</year>.</mixed-citation>
    </ref>
  </ref-list>
</back>
