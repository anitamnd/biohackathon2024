<?properties open_access?>
<?subarticle report35602?>
<?DTDIdentifier.IdentifierValue -//NLM//DTD Journal Publishing DTD v3.0 20080202//EN?>
<?DTDIdentifier.IdentifierType public?>
<?SourceDTD.DTDName journalpublishing3.dtd?>
<?SourceDTD.Version 3.0?>
<?ConverterInfo.XSLTName jp2nlmx2.xsl?>
<?ConverterInfo.Version 1?>
<front>
  <journal-meta>
    <journal-id journal-id-type="nlm-ta">F1000Res</journal-id>
    <journal-id journal-id-type="iso-abbrev">F1000Res</journal-id>
    <journal-id journal-id-type="pmc">F1000Research</journal-id>
    <journal-title-group>
      <journal-title>F1000Research</journal-title>
    </journal-title-group>
    <issn pub-type="epub">2046-1402</issn>
    <publisher>
      <publisher-name>F1000 Research Limited</publisher-name>
      <publisher-loc>London, UK</publisher-loc>
    </publisher>
  </journal-meta>
  <article-meta>
    <article-id pub-id-type="pmcid">6137412</article-id>
    <article-id pub-id-type="doi">10.12688/f1000research.15119.1</article-id>
    <article-categories>
      <subj-group subj-group-type="heading">
        <subject>Software Tool Article</subject>
      </subj-group>
      <subj-group>
        <subject>Articles</subject>
      </subj-group>
    </article-categories>
    <title-group>
      <article-title>Norwegian e-Infrastructure for Life Sciences (NeLS)</article-title>
      <fn-group content-type="pub-status">
        <fn>
          <p>[version 1; referees: 2 approved]</p>
        </fn>
      </fn-group>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <name>
          <surname>Tekle</surname>
          <given-names>Kidane M.</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Methodology</role>
        <role content-type="http://credit.casrai.org/">Project Administration</role>
        <role content-type="http://credit.casrai.org/">Software</role>
        <role content-type="http://credit.casrai.org/">Writing – Original Draft Preparation</role>
        <role content-type="http://credit.casrai.org/">Writing – Review &amp; Editing</role>
        <xref ref-type="aff" rid="a1">1</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Gundersen</surname>
          <given-names>Sveinung</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Methodology</role>
        <role content-type="http://credit.casrai.org/">Resources</role>
        <role content-type="http://credit.casrai.org/">Software</role>
        <role content-type="http://credit.casrai.org/">Writing – Original Draft Preparation</role>
        <role content-type="http://credit.casrai.org/">Writing – Review &amp; Editing</role>
        <xref ref-type="aff" rid="a2">2</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Klepper</surname>
          <given-names>Kjetil</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Methodology</role>
        <role content-type="http://credit.casrai.org/">Resources</role>
        <role content-type="http://credit.casrai.org/">Software</role>
        <xref ref-type="aff" rid="a3">3</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Bongo</surname>
          <given-names>Lars Ailo</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Methodology</role>
        <role content-type="http://credit.casrai.org/">Resources</role>
        <role content-type="http://credit.casrai.org/">Writing – Review &amp; Editing</role>
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0002-7544-2482</contrib-id>
        <xref ref-type="aff" rid="a4">4</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Raknes</surname>
          <given-names>Inge Alexander</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Resources</role>
        <role content-type="http://credit.casrai.org/">Software</role>
        <xref ref-type="aff" rid="a4">4</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Li</surname>
          <given-names>Xiaxi</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Resources</role>
        <role content-type="http://credit.casrai.org/">Software</role>
        <xref ref-type="aff" rid="a1">1</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Zhang</surname>
          <given-names>Wei</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Resources</role>
        <role content-type="http://credit.casrai.org/">Software</role>
        <xref ref-type="aff" rid="a1">1</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Andreetta</surname>
          <given-names>Christian</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Methodology</role>
        <role content-type="http://credit.casrai.org/">Software</role>
        <xref ref-type="aff" rid="a1">1</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Mulugeta</surname>
          <given-names>Teshome Dagne</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Resources</role>
        <role content-type="http://credit.casrai.org/">Software</role>
        <xref ref-type="aff" rid="a5">5</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Kalaš</surname>
          <given-names>Matúš</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Methodology</role>
        <role content-type="http://credit.casrai.org/">Writing – Original Draft Preparation</role>
        <role content-type="http://credit.casrai.org/">Writing – Review &amp; Editing</role>
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0002-1509-4981</contrib-id>
        <xref ref-type="aff" rid="a1">1</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Rye</surname>
          <given-names>Morten B.</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Resources</role>
        <role content-type="http://credit.casrai.org/">Writing – Original Draft Preparation</role>
        <xref ref-type="aff" rid="a3">3</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Hjerde</surname>
          <given-names>Erik</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Resources</role>
        <role content-type="http://credit.casrai.org/">Writing – Original Draft Preparation</role>
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0002-6014-1249</contrib-id>
        <xref ref-type="aff" rid="a4">4</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Antony Samy</surname>
          <given-names>Jeevan Karloss</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Resources</role>
        <role content-type="http://credit.casrai.org/">Writing – Original Draft Preparation</role>
        <xref ref-type="aff" rid="a5">5</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Fornous</surname>
          <given-names>Ghislain</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Resources</role>
        <role content-type="http://credit.casrai.org/">Software</role>
        <xref ref-type="aff" rid="a2">2</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Azab</surname>
          <given-names>Abdulrahman</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Resources</role>
        <role content-type="http://credit.casrai.org/">Software</role>
        <xref ref-type="aff" rid="a2">2</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Våge</surname>
          <given-names>Dag Inge</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Conceptualization</role>
        <role content-type="http://credit.casrai.org/">Funding Acquisition</role>
        <role content-type="http://credit.casrai.org/">Project Administration</role>
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0003-2568-1554</contrib-id>
        <xref ref-type="aff" rid="a5">5</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Hovig</surname>
          <given-names>Eivind</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Conceptualization</role>
        <role content-type="http://credit.casrai.org/">Funding Acquisition</role>
        <role content-type="http://credit.casrai.org/">Project Administration</role>
        <role content-type="http://credit.casrai.org/">Writing – Original Draft Preparation</role>
        <xref ref-type="aff" rid="a2">2</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Willassen</surname>
          <given-names>Nils Peder</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Conceptualization</role>
        <role content-type="http://credit.casrai.org/">Funding Acquisition</role>
        <role content-type="http://credit.casrai.org/">Project Administration</role>
        <xref ref-type="aff" rid="a4">4</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Drabløs</surname>
          <given-names>Finn</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Conceptualization</role>
        <role content-type="http://credit.casrai.org/">Funding Acquisition</role>
        <role content-type="http://credit.casrai.org/">Project Administration</role>
        <role content-type="http://credit.casrai.org/">Writing – Review &amp; Editing</role>
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0001-5794-828X</contrib-id>
        <xref ref-type="aff" rid="a3">3</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Nygård</surname>
          <given-names>Ståle</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Project Administration</role>
        <role content-type="http://credit.casrai.org/">Resources</role>
        <role content-type="http://credit.casrai.org/">Writing – Original Draft Preparation</role>
        <xref ref-type="aff" rid="a2">2</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Petersen</surname>
          <given-names>Kjell</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Conceptualization</role>
        <role content-type="http://credit.casrai.org/">Methodology</role>
        <role content-type="http://credit.casrai.org/">Project Administration</role>
        <role content-type="http://credit.casrai.org/">Writing – Original Draft Preparation</role>
        <role content-type="http://credit.casrai.org/">Writing – Review &amp; Editing</role>
        <xref ref-type="corresp" rid="c1">a</xref>
        <xref ref-type="aff" rid="a1">1</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Jonassen</surname>
          <given-names>Inge</given-names>
        </name>
        <role content-type="http://credit.casrai.org/">Conceptualization</role>
        <role content-type="http://credit.casrai.org/">Funding Acquisition</role>
        <role content-type="http://credit.casrai.org/">Project Administration</role>
        <role content-type="http://credit.casrai.org/">Writing – Original Draft Preparation</role>
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0003-4110-0748</contrib-id>
        <xref ref-type="corresp" rid="c2">b</xref>
        <xref ref-type="aff" rid="a1">1</xref>
      </contrib>
      <aff id="a1"><label>1</label>Computational Biology Unit, Department of Informatics, University of Bergen, Bergen, Norway</aff>
      <aff id="a2"><label>2</label>University of Oslo, Oslo, Norway</aff>
      <aff id="a3"><label>3</label>Department of Clinical and Molecular Medicine, Norwegian University of Science and Technology, Trondheim, Norway</aff>
      <aff id="a4"><label>4</label>University of Tromsø - The Arctic University of Norway, Tromsø, Norway</aff>
      <aff id="a5"><label>5</label>Department of Animal and Aquacultural Sciences, Faculty of Biosciences, Norwegian University of Life Sciences, Ås, Norway</aff>
    </contrib-group>
    <author-notes>
      <corresp id="c1">
        <label>a</label>
        <email xlink:href="mailto:Kjell.Petersen@uib.no">Kjell.Petersen@uib.no</email>
      </corresp>
      <corresp id="c2">
        <label>b</label>
        <email xlink:href="mailto:inge.jonassen@uib.no">inge.jonassen@uib.no</email>
      </corresp>
      <fn fn-type="COI-statement">
        <p>No competing interests were disclosed.</p>
      </fn>
    </author-notes>
    <pub-date pub-type="epub">
      <day>29</day>
      <month>6</month>
      <year>2018</year>
    </pub-date>
    <pub-date pub-type="collection">
      <year>2018</year>
    </pub-date>
    <volume>7</volume>
    <elocation-id>ELIXIR-968</elocation-id>
    <history>
      <date date-type="accepted">
        <day>13</day>
        <month>6</month>
        <year>2018</year>
      </date>
    </history>
    <permissions>
      <copyright-statement>Copyright: © 2018 Tekle KM et al.</copyright-statement>
      <copyright-year>2018</copyright-year>
      <license xlink:href="http://creativecommons.org/licenses/by/4.0/">
        <license-p>This is an open access article distributed under the terms of the Creative Commons Attribution Licence, which permits unrestricted use, distribution, and reproduction in any medium, provided the original work is properly cited.</license-p>
      </license>
    </permissions>
    <self-uri content-type="pdf" xlink:type="simple" xlink:href="f1000research-7-16472.pdf"/>
    <abstract>
      <p>The Norwegian e-Infrastructure for Life Sciences (NeLS) has been developed by ELIXIR Norway to provide its users with a system enabling data storage, sharing, and analysis in a project-oriented fashion. The system is available through easy-to-use web interfaces, including the Galaxy workbench for data analysis and workflow execution. Users confident with a command-line interface and programming may also access it through Secure Shell (SSH) and application programming interfaces (APIs). </p>
      <p> NeLS has been in production since 2015, with training and support provided by the help desk of ELIXIR Norway. Through collaboration with NorSeq, the national consortium for high-throughput sequencing, an integrated service is offered so that sequencing data generated in a research project is provided to the involved researchers through NeLS. Sensitive data, such as individual genomic sequencing data, are handled using the TSD (Services for Sensitive Data) platform provided by Sigma2 and the University of Oslo. NeLS integrates national e-infrastructure storage and computing resources, and is also integrated with the SEEK platform in order to store large data files produced by experiments described in SEEK.  </p>
      <p> In this article, we outline the architecture of NeLS and discuss possible directions for further development.</p>
    </abstract>
    <kwd-group kwd-group-type="author">
      <kwd>Data management and sharing</kwd>
      <kwd>compute and storage infrastructure</kwd>
      <kwd>microservices</kwd>
      <kwd>federated authentication</kwd>
      <kwd>integration API</kwd>
      <kwd>Galaxy</kwd>
      <kwd>ELIXIR Norway</kwd>
    </kwd-group>
    <funding-group>
      <award-group id="fund-1" xlink:href="http://dx.doi.org/10.13039/501100005416">
        <funding-source>Norges Forskningsråd</funding-source>
        <award-id>208481/F50</award-id>
        <award-id>270068</award-id>
      </award-group>
      <award-group id="fund-2" xlink:href="http://dx.doi.org/10.13039/501100004785">
        <funding-source>NordForsk</funding-source>
      </award-group>
      <funding-statement>The work was funded by the ELIXIR.NO (208481/F50) and ELIXIR2 (270068) infrastructure grants from the Research Council of Norway, as well as the Tryggve and Tryggve2 projects from the Nordic e-Infrastructure Collaboration (NeIC).</funding-statement>
      <funding-statement>
        <italic>The funders had no role in study design, data collection and analysis, decision to publish, or preparation of the manuscript.</italic>
      </funding-statement>
    </funding-group>
  </article-meta>
</front>
<body>
  <sec>
    <title>1. Introduction</title>
    <p>The
<ext-link ext-link-type="uri" xlink:href="https://www.elixir-norway.org/">Norwegian ELIXIR node</ext-link> is coordinated by the University of Bergen (UiB) and comprises the University of Oslo (UiO), The Arctic University of Norway (UiT), the Norwegian University of Science and Technology (NTNU), and the Norwegian University of Life Sciences (NMBU). The node provides services, training, and support to a broad range of national users, largely life-science researchers and students
<sup><xref rid="ref-1" ref-type="bibr">1</xref></sup>. These scientists usually work in collaborative projects and need to store, analyze, and share data sets, often large in size, throughout all stages of the project, and between various platforms and computational resources. However, many of these users do not feel comfortable using a command-line interface, and have limited programming, system administration, or data management skills.</p>
    <p>Commercial workbenches such as the BaseSpace Sequence Hub
<sup><xref ref-type="other" rid="P1">a</xref></sup> and Geneious
<sup><xref ref-type="other" rid="P2">b</xref></sup> aim at user accessibility, but offer computation and data sharing only within their closed and expensive platform setups. On the other hand, the open-source SEEK serves as a platform for sharing systems biology project data, transparently and for free
<sup><xref rid="ref-2" ref-type="bibr">2</xref>,
<xref rid="ref-3" ref-type="bibr">3</xref></sup>. Notably, the integrative open-source GenomeSpace enables organizing and sharing data not only between users, but also between various workbenches and computational resources
<sup><xref rid="ref-4" ref-type="bibr">4</xref>–
<xref rid="ref-6" ref-type="bibr">6</xref></sup>. Although powerful, its setup could not be adapted to integrate with the available and required e-infrastructure resources in Norway.</p>
    <p>The
<ext-link ext-link-type="uri" xlink:href="https://nels.bioinfo.no/">Norwegian e-Infrastructure for Life Sciences</ext-link> (NeLS) was built upon the previous experiences with developing and using bioinformatics workbenches in Norway, for example: the Genomic HyperBrowser
<sup><xref rid="ref-7" ref-type="bibr">7</xref>–
<xref rid="ref-9" ref-type="bibr">9</xref></sup>, an extension of Galaxy
<sup><xref rid="ref-10" ref-type="bibr">10</xref>,
<xref rid="ref-11" ref-type="bibr">11</xref></sup>; the easy-to-use UiO Bioportal
<sup><xref rid="ref-12" ref-type="bibr">12</xref></sup>, later replaced by a Galaxy-based Lifeportal
<sup><xref rid="ref-13" ref-type="bibr">13</xref></sup>; or eSysbio, a workbench prototype for data sharing and systems biology workflows
<sup><xref ref-type="other" rid="P3">c</xref></sup>. NeLS provides users in Norway and their collaborators abroad an integrated system for data storage and sharing, as well as data processing and analysis. NeLS allows users to efficiently and safely store, analyze, and share their genomics-scale data and analyses, all through the use of web interfaces. Most Norwegian users can log in using the credentials – user name and password – they use at their home institution, other users need to register.</p>
    <p>NeLS has a three-layered architecture (
<xref ref-type="fig" rid="f1">Figure 1</xref>). The intermediate layer (Storage Level I) provides data storage intended to be used by projects in an active analysis phase (with data being kept in this storage layer for months). Data can be accessed (and up- and downloaded) through a web portal, as well as through Secure Shell (SSH) and application programming interfaces (APIs). The latter two provide command-line-confident users with a more efficient way to work with data. The top level constitutes the data analysis workbench of NeLS. For this, we have chosen the popular Galaxy, an open-source, web-based workbench for accessible, reproducible, and transparent computational omics. Galaxy allows computational workflows to be set up and used without the need of programming skills. Our Galaxy instances have limited storage capacity and it is therefore intended that data resides on this level only for short periods of time, in the range of weeks. The bottom layer (Storage Level II) offers long-term storage, provided by the National Infrastructure for Research Data (NIRD), a generic e-infrastructure operated by Sigma2
<sup><xref ref-type="other" rid="P4">d</xref></sup>. Here, data can be stored for years, requiring a more strictly organized structure with defined types and metadata.</p>
    <fig fig-type="figure" id="f1" orientation="portrait" position="anchor">
      <label>Figure 1. </label>
      <caption>
        <title>Overview over short-term and long-term storage in NeLS.</title>
      </caption>
      <graphic xlink:href="f1000research-7-16472-g0000"/>
    </fig>
    <p>NeLS includes Galaxy instances hosted at the five universities constituting the Norwegian ELIXIR node. These instances have a basic catalogue of tools and workflows that are relevant for researchers in life sciences, as well as more specialized ones depending on the focus of the hosting institution. NeLS provides tools integrated into Galaxy to easily push and pull data from the persistent Storage Level I. Some of the Galaxy servers are integrated with high-performance computing (HPC) resources – provided by Sigma2 – for transparent execution of computationally intensive tools.</p>
    <p>In this article, we describe the architecture of this integrated e-infrastructure and examples of its usage, and outline the possible directions of future developments.</p>
  </sec>
  <sec>
    <title>2. The architecture of NeLS</title>
    <p>The Norwegian e-Infrastructure for Life Sciences was not built as a top-down, grand design and implementation exercise. Rather, it was implemented through time by focusing on different parts of the problem at a time and always striving to make a functional whole. It was decided early on to avoid re-inventing the wheel and rather base the system on proven solutions and practices whenever possible. In addition, addressing different concerns in isolation while keeping the big picture in mind has proven to be an effective way for constructing the NeLS system. In the end, there were many components of different flavors: off-the-shelf systems, adaptations of available open-source packages, and also custom in-house developed systems.
<xref ref-type="fig" rid="f2">Figure 2</xref> shows a componentized architecture of the NeLS system. In the following subsections, we describe the components of the NeLS system.</p>
    <fig fig-type="figure" id="f2" orientation="portrait" position="anchor">
      <label>Figure 2. </label>
      <caption>
        <title>NeLS Architecture.</title>
      </caption>
      <graphic xlink:href="f1000research-7-16472-g0001"/>
    </fig>
    <sec>
      <title>2.1 Authentication</title>
      <p>Authentication is a process by which the user’s credentials are verified against a user-information catalogue in order to determine whether the user is who they claim to be, before granting access to resources. NeLS supports multiple identity sources based on the Security Assertion Markup Language 2.0 (SAML 2.0) standard
<sup><xref ref-type="other" rid="P5">e</xref></sup>. Currently, it supports the Norwegian Federated Electronic Identity service (FEiDE
<sup><xref ref-type="other" rid="P6">f</xref></sup>) and NeLS’s own identity provider. NeLS’s identity provider was constructed by configuring Simple-SAMLphp
<sup><xref ref-type="other" rid="P7">g</xref></sup>, an open-source security software system. Integration with the ELIXIR Authentication and Authorisation Infrastructure (AAI)
<sup><xref rid="ref-15" ref-type="bibr">15</xref></sup> as an identity provider has been tested technically, and can in the future be used to differentiate resource allocations further in the NeLS network of services.</p>
    </sec>
    <sec>
      <title>2.2 User-profile management and coordination</title>
      <p>The first time a user logs in using any of the supported identity providers, NeLS creates a user profile and subsequent derived identities. Secure Shell (SSH) access credentials are generated for the user and can be fetched from the NeLS portal (central hub). This coordination layer holds metadata about projects and associated membership of users. The user-profile management and coordination block provides a Representational State Transfer (REST, "RESTful") web application programming interface (API)
<sup><xref rid="ref-16" ref-type="bibr">16</xref>–
<xref rid="ref-18" ref-type="bibr">18</xref></sup> for other units, and enables asynchronous job management by leveraging an off-the-shelf message-queuing system, RabbitMQ
<sup><xref ref-type="other" rid="P8">h</xref></sup>. Structured logging, e-mail communication, and related management tasks are supported in this block.</p>
    </sec>
    <sec>
      <title>2.3 The NeLS portal (central hub)</title>
      <p>The
<ext-link ext-link-type="uri" xlink:href="https://nels.bioinfo.no/">NeLS portal</ext-link> is the central hub of the whole system. It is a Java-based web application with multiple responsibilities and uses the Spring Security package
<sup><xref ref-type="other" rid="P9">i</xref></sup> to interface with the different SAML 2.0 identity providers. Upon first login, NeLS creates a profile for the user and initializes all necessary components. Following are the four distinct responsibilities of the NeLS portal:</p>
      <list list-type="simple">
        <list-item>
          <label>(a)</label>
          <p>Web-based file-system browser to the NeLS Storage Level I (see subsection
<xref ref-type="other" rid="S1">2.6</xref>).</p>
        </list-item>
        <list-item>
          <label>(b)</label>
          <p>Initiate and monitor asynchronous jobs for copying, moving, and sharing files within the Level I storage layer, as well as transfer across storage Levels I and II.</p>
        </list-item>
        <list-item>
          <label>(c)</label>
          <p>Facilitate OAuth
<sup><xref ref-type="other" rid="P10">j</xref></sup> token provision. The NeLS portal acts as a bridge towards the identity providers and avails NeLS metadata for the OAuth service (see subsection
<xref ref-type="other" rid="S2">2.4</xref>).</p>
        </list-item>
        <list-item>
          <label>(d)</label>
          <p>Interface with external systems. The NeLS portal has been successfully integrated with a national solution for sensitive data, the TSD
<sup><xref ref-type="other" rid="P11">k</xref><xref rid="ref-19" ref-type="bibr">19</xref></sup>. NeLS makes two-factor authentication of the TSD easier for users, and provides an easy web-based way for initiating data-transfer jobs between the NeLS and TSD infrastructures.</p>
        </list-item>
      </list>
    </sec>
    <sec>
      <title>2.4 Galaxy</title>
      <p id="S2">The Galaxy block is the workhorse of the NeLS system. It gives the user a curated set of tools and workflows supported by the ELIXIR Norway help desk
<sup><xref rid="ref-1" ref-type="bibr">1</xref></sup>. Technically, the Galaxy block comprises Galaxy in a remote-user configuration, and an authentication layer in front to interface with the same set of identity providers as the NeLS portal. SimpleSAMLphp in service provider (SP) configuration with its AuthMemCookie
<sup><xref ref-type="other" rid="P12">l</xref></sup> solution on top of Memcached
<sup><xref ref-type="other" rid="P13">m</xref></sup> is used to interface with the Apache web server, transforming the SAML 2.0 authorization information into a Galaxy-compatible format. NeLS also provides Galaxy tools for data import and export, which work in tandem with the NeLS portal to give the user the possibility of pulling data from the Storage Level I in NeLS into a Galaxy history, and also be able to push results of Galaxy jobs into the NeLS Storage Level I.</p>
      <p>NeLS provides different Galaxy instances hosted by different institutions.</p>
    </sec>
    <sec>
      <title>2.5 Compute block</title>
      <p>The NeLS compute block executes NeLS Galaxy jobs. The jobs are either executed on the same high-spec (fat) servers as the Galaxy server, or they can be submitted to a high-performance computing (HPC) cluster for parallel execution. The job execution details, including HPC job management, are hidden for the user. The HPC jobs are run using a pre-allocated compute quota.</p>
      <p>We use the Light-weight Runner (LWR, now renamed to Pulsar
<sup><xref ref-type="other" rid="P14">n</xref></sup>) Galaxy services to submit computationally intensive Galaxy jobs to an HPC system (such as the Stallo supercomputer in the UiT Galaxy
<sup><xref ref-type="other" rid="P15">o</xref></sup>). LWR communicates with Galaxy via the Galaxy API and a RabbitMQ Advanced Message Queuing Protocol (AMQP) message queue. It specifies the required parameters for the tool and executes a wrapper script for the tool. The wrapper creates temporary directories, submits tool jobs to the HPC scheduler (PBS/Torque
<sup><xref ref-type="other" rid="P16">p</xref></sup>) with selected parameters, saves results, and deletes temporary files. Once the jobs are completed, LWR transfers the data back to Galaxy for the user to inspect.</p>
    </sec>
    <sec>
      <title>2.6 Storage Level I</title>
      <p id="S1">This layer of NeLS provides flexible storage with advanced access control list to allow appropriate sharing and data protection in scientific projects.</p>
      <p>The NeLS Storage Level I layer features a dedicated private directory for each user’s personal data as well as a project-based shared storage area for collaboration and sharing. A user can be added to a NeLS project with three possible roles: member, power-user, or principal investigator (PI). Each role has a predefined set of permissions allowed in the project area. Technically, the NeLS Storage Level I is built using FreeBSD
<sup><xref ref-type="other" rid="P17">q</xref></sup> with its support for the ZFS
<sup><xref ref-type="other" rid="P18">r</xref></sup> file system. It employs advanced access control lists and also provides SSH access to more tech-savvy users. It provides a RESTful web API (Java) and command-line management tools (Python).</p>
    </sec>
    <sec>
      <title>2.7 Storage Level II</title>
      <p>Level II of the NeLS storage, also known as the StoreBioinfo layer, enforces more strict organization of datasets, and is facilitated through integration with national storage resources provided by the Norwegian Infrastructure for Research Data (NIRD). Its purpose is to act as a long-term storage and data warehouse, with capacity to hold all of a project’s generated data, from raw to final results, including any data replicated to the Storage Level I. It has a metadata database and interfaces with the data-warehousing system, iRods
<sup><xref ref-type="other" rid="P19">s</xref></sup>, via specialized server-side scripts. The NeLS Storage Level II provides a RESTful web API and is orchestrated via the NeLS central coordination block (3. Central Hub in
<xref ref-type="fig" rid="f2">Figure 2</xref>).</p>
    </sec>
    <sec>
      <title>2.8 Public API</title>
      <p>The NeLS public API is a RESTful web service targeted towards external systems. It supports implicit and authorization-code OAuth
<sup><xref ref-type="other" rid="P20">t</xref></sup> grant profiles. It exposes a well-defined navigation and linking mechanism into the structured data of NeLS Storage Level II. The OAuth service is an in-house built Python-based system that uses Tornado
<sup><xref ref-type="other" rid="P21">u</xref></sup> and python-oauth2
<sup><xref ref-type="other" rid="P22">v</xref></sup> libraries by interfacing with the NeLS portal. In collaboration with Digital Life Norway
<sup><xref ref-type="other" rid="P23">w</xref></sup>, the public API is developed to support integration with the SEEK data management system
<sup><xref rid="ref-2" ref-type="bibr">2</xref>,
<xref rid="ref-3" ref-type="bibr">3</xref></sup>, to allow a resolvable URL to a dataset in NeLS be referenced in SEEK.</p>
    </sec>
  </sec>
  <sec>
    <title>3. Operation</title>
    <p>NeLS is inherently a distributed infrastructure of multiple microservices which naturally would be deployed on different servers. The scale and availability of the different resources to be integrated – such as compute, storage, identity providers, databases,
<italic>etc.</italic> – heavily influences its deployment. In Norway, the NeLS production instance is deployed on 7 different servers, including 2 storage master systems (additional slave storage nodes – sub-systems – are not counted).</p>
    <p>For testing or a proof-of-concept setup, all microservices and web components are possible to run on a single host with 2–4 cores and 64GB of memory, while the storage levels would naturally require their own setups.</p>
  </sec>
  <sec>
    <title>4 Workflows</title>
    <p>To cover the most prominent NeLS user needs, Galaxy workflows for analyzing RNA sequence data (prokaryotic and eukaryotic), and workflows for both the taxonomic and functional profiling of metagenomic data have been developed. In addition, workflows for the analysis of miRNAs and ChiP-seq analysis are available, see
<xref rid="T1" ref-type="table">Table 1</xref>. All workflows are maintained in order to provide the state-of-the-art tools for the analysis to the users. Upon demand, each work-flow can be modified to accommodate specific user needs,
<italic>e.g.</italic> that a tool is replaced by another tool, or version. A complete overview of the NeLS workflows and links to the Galaxy instance in which a workflow is available can be found in the
<ext-link ext-link-type="uri" xlink:href="https://nels.bioinfo.no/">NeLS portal</ext-link>.</p>
    <table-wrap id="T1" orientation="portrait" position="anchor">
      <label>Table 1. </label>
      <caption>
        <title>Current NeLS workflows</title>
      </caption>
      <table frame="hsides" rules="groups" content-type="article-table">
        <thead>
          <tr>
            <th align="left" rowspan="1" colspan="1">Category</th>
            <th align="left" rowspan="1" colspan="1">Name</th>
            <th align="left" rowspan="1" colspan="1">Description</th>
            <th align="left" rowspan="1" colspan="1">Node</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="left" rowspan="3" valign="top" colspan="1">DNA-seq</td>
            <td align="left" rowspan="1" colspan="1">Germline variant calling</td>
            <td align="left" rowspan="1" colspan="1">Discovery of germline variation in DNA-seq samples</td>
            <td align="left" rowspan="1" colspan="1">UiO</td>
          </tr>
          <tr>
            <td align="left" rowspan="1" colspan="1">Somatic variant calling</td>
            <td align="left" rowspan="1" colspan="1">Discovery of somatic variation based on a sample pair</td>
            <td align="left" rowspan="1" colspan="1">UiO</td>
          </tr>
          <tr>
            <td align="left" rowspan="1" colspan="1">LiceBase
<sup><xref rid="ref-20" ref-type="bibr">20</xref></sup>
<sup><xref ref-type="other" rid="P24">z</xref></sup> cDNA mapping</td>
            <td align="left" rowspan="1" colspan="1">cDNA to genome mapping workflow for sea lice samples</td>
            <td align="left" rowspan="1" colspan="1">UiB</td>
          </tr>
          <tr>
            <td align="left" rowspan="5" valign="top" colspan="1">RNA-seq</td>
            <td align="left" rowspan="1" colspan="1">Eukaryote RNA-Seq</td>
            <td align="left" rowspan="1" colspan="1">DE analysis between two collections of eukaryote
<break/>samples</td>
            <td align="left" rowspan="1" colspan="1">NTNU/UiB</td>
          </tr>
          <tr>
            <td align="left" rowspan="1" colspan="1">Prokaryote RNA-Seq</td>
            <td align="left" rowspan="1" colspan="1">DE analysis between two collections of prokaryote samples</td>
            <td align="left" rowspan="1" colspan="1">UiT</td>
          </tr>
          <tr>
            <td align="left" rowspan="1" colspan="1">LiceBase RNA-Seq</td>
            <td align="left" rowspan="1" colspan="1">Alignment and count workflow for multiple Sea Lice samples</td>
            <td align="left" rowspan="1" colspan="1">UiB</td>
          </tr>
          <tr>
            <td align="left" rowspan="1" colspan="1">RNA-seq counts - STAR
<sup><xref rid="ref-21" ref-type="bibr">21</xref></sup>
</td>
            <td align="left" rowspan="1" colspan="1">Create RNA count matrix from RNA-seq FASTQ files</td>
            <td align="left" rowspan="1" colspan="1">UiB</td>
          </tr>
          <tr>
            <td align="left" rowspan="1" colspan="1">RNA-seq counts - HISAT2
<sup><xref rid="ref-22" ref-type="bibr">22</xref></sup>
</td>
            <td align="left" rowspan="1" colspan="1">Create RNA count matrix from RNA-seq FASTQ files</td>
            <td align="left" rowspan="1" colspan="1">UiB</td>
          </tr>
          <tr>
            <td align="left" rowspan="2" valign="top" colspan="1">miRNA-seq</td>
            <td align="left" rowspan="1" colspan="1">miRNA prediction</td>
            <td align="left" rowspan="1" colspan="1">Prediction of miRNA</td>
            <td align="left" rowspan="1" colspan="1">UiO</td>
          </tr>
          <tr>
            <td align="left" rowspan="1" colspan="1">miRNA processing</td>
            <td align="left" rowspan="1" colspan="1">Alignment and DE analysis between two collections of samples</td>
            <td align="left" rowspan="1" colspan="1">NTNU</td>
          </tr>
          <tr>
            <td align="left" rowspan="1" colspan="1">ChIP-Seq</td>
            <td align="left" rowspan="1" colspan="1">ChIP-Seq analysis</td>
            <td align="left" rowspan="1" colspan="1">
              <italic>workflows in testing, to be released soon</italic>
            </td>
            <td align="left" rowspan="1" colspan="1">NTNU/UiO</td>
          </tr>
          <tr>
            <td align="left" rowspan="2" valign="top" colspan="1">Metagenomes</td>
            <td align="left" rowspan="1" colspan="1">Taxonomic classification</td>
            <td align="left" rowspan="1" colspan="1">Taxonomic profiling of 16S rRNA reads from shotgun reads</td>
            <td align="left" rowspan="1" colspan="1">UiT</td>
          </tr>
          <tr>
            <td align="left" rowspan="1" colspan="1">META-pipe
<sup><xref rid="ref-23" ref-type="bibr">23</xref>,
<xref rid="ref-24" ref-type="bibr">24</xref></sup>
</td>
            <td align="left" rowspan="1" colspan="1">Functional annotation of assembled metagenomic shotgun
<break/>samples</td>
            <td align="left" rowspan="1" colspan="1">UiT</td>
          </tr>
        </tbody>
      </table>
    </table-wrap>
    <p>To ensure data reproducibility and to reduce the compute time for the user, a common data repository with pre-indexed reference genomes has been built. The repository is available across all five Galaxy instances.</p>
    <p>For first-time users of the NeLS Galaxy, a quick start guide that contains information on the Galaxy basics is available on each NeLS Galaxy start page, and more detailed documentation and tutorials on the NeLS workflows are also available there. Finally, the user can contact the national help desk or access a Q&amp;A forum directly from the NeLS Galaxy.</p>
  </sec>
  <sec>
    <title>5 Use cases</title>
    <sec>
      <title>5.1 Main steps in an ordinary NeLS project</title>
      <p>In a project with non-sensitive data, a user will perform the following steps (See
<xref ref-type="fig" rid="f3">Figure 3e</xref> (a)-(e))</p>
      <fig fig-type="figure" id="f3" orientation="portrait" position="anchor">
        <label>Figure 3. </label>
        <caption>
          <title>Illustration of the main stps in an ordinary NeLS project.</title>
        </caption>
        <graphic xlink:href="f1000research-7-16472-g0002"/>
      </fig>
      <list list-type="simple">
        <list-item>
          <label>(a)</label>
          <p>Log in to the NeLS portal. If the user does not have an account, and neither has a FEiDE account, they can easily apply for a NeLS account.</p>
        </list-item>
        <list-item>
          <label>(b)</label>
          <p>Upload data to NeLS repository using SSH or Filezilla
<sup><xref ref-type="other" rid="P25">x</xref></sup>. If the data are generated by a Norwegian high-throughput sequencing core facility,
<italic>e.g.</italic> one linked with the Norwegian Consortium for Sequencing and Personalized Medicine (NorSeq
<sup><xref ref-type="other" rid="P26">y</xref></sup>), the user is offered to have the data uploaded directly from the core facility.</p>
        </list-item>
        <list-item>
          <label>(c)</label>
          <p>(Recommended) Synchronize data to Storage Level II (StoreBioinfo) for annotation and long-term storage.</p>
        </list-item>
        <list-item>
          <label>(d)</label>
          <p>Log in to one of the Galaxy instances,
<italic>e.g.</italic>
<ext-link ext-link-type="uri" xlink:href="https://galaxy-ntnu.bioinfo.no">?https://galaxy-ntnu.bioinfo.no</ext-link>.</p>
        </list-item>
        <list-item>
          <label>(e)</label>
          <p>Get data from NeLS Storage Level I to Galaxy, and run Galaxy tools and/or workflows. Share or publish Galaxy history.</p>
        </list-item>
        <list-item>
          <label>(f)</label>
          <p>Copy new results to Storage Level I and synchronize to Storage Level II (recommended).</p>
        </list-item>
      </list>
    </sec>
    <sec>
      <title>5.2 META-pipe</title>
      <p>META-pipe
<sup><xref rid="ref-23" ref-type="bibr">23</xref>–
<xref rid="ref-25" ref-type="bibr">25</xref></sup>, developed within the ELIXIR Marine metagenomics project
<sup><xref rid="ref-26" ref-type="bibr">26</xref>,
<xref rid="ref-27" ref-type="bibr">27</xref></sup>, efficiently produces full-length annotated genes from metagenomic assemblies, and offers the extensive annotation options, flexibility, and visualization needed to pick interesting targets for further investigation. The NeLS version of META-pipe provides taxonomic and functional analysis from whole-genome shotgun sequence data. It supports high-throughput sequencing data and provides assembly, focusing the analysis on full-length genes. The pipeline consists of three major modules: preprocessing, taxonomic classification, and functional analysis. All modules are available as individual workflows, except for assembly in pre-processing, which is run manually on either a high-memory computer or our supercomputer. Workflows can be tailored to the specific needs for the analysis of a sample and it is also possible to add additional steps or to omit some of the steps.</p>
      <p>To use META-pipe, the user follows the generic steps for login and data upload above, using the NeLS Galaxy instance of UiT
<sup><xref ref-type="other" rid="P27">aa</xref></sup> and the NeLS portal to administrate the data of the metagenomics project. Input files are transferred from the NeLS project in Storage Level I, to the Galaxy history of the user using the provided NeLS data transfer tools in Galaxy tool menu.</p>
      <p>To analyze the data, the user selects the META-pipe tool in Galaxy and then configures the pipeline parameters such as which tools to run, input files, reference database versions, and output formats. Once the workflow is configured, the user presses the execute button in Galaxy to execute the pipeline in the background. This will create a history element in Galaxy where the user can view the current status of the job. Currently queued or running jobs are colored yellow, and completed jobs are colored green. When the job is done, the user can examine the output data in the Galaxy view panel, transfer results to the NeLS project in Storage Level II, or download the files to their own computer.</p>
    </sec>
    <sec>
      <title>5.3 Sensitive data</title>
      <p>NeLS was not designed for hosting sensitive data such as human genome data from Norwegian patients. ELIXIR Norway is collaborating with the TSD project and infrastructure
<sup><xref ref-type="other" rid="P28">ab</xref><xref rid="ref-19" ref-type="bibr">19</xref></sup>, created by USIT (The University Centre of Information Technology) at the University of Oslo, to offer a service to researchers in Norway for storing and processing sensitive data, including health data.</p>
      <p>NeLS allows for seamless data transfer from the NeLS storage services (Layer I) to the TSD File Lock servers for import of supplementary non-sensitive data that user projects would need available inside TSD to interpret their sensitive data.</p>
      <p>Workflow development for sequencing data analysis
<italic>etc.</italic> performed in ELIXIR Norway is implemented either as tools and workflow definitions for Galaxy or as software containers, such that workflows can be deployed in the appropriate compute environment to facilitate analysis of both sensitive and non-sensitive data. ELIXIR Norway and TSD are working towards a Galaxy service in TSD, and the aspect of workflow mobility is also a key aspect in the Nordic project Tryggve2
<sup><xref ref-type="other" rid="P29">ac</xref></sup>, with ELIXIR partners from Norway, Finland, Sweden, and Denmark, and respective national infrastructures for sensitive data.</p>
    </sec>
    <sec>
      <title>5.4 Example bioinformatics analysis project</title>
      <p>To illustrate how NeLS is used in daily operation of the help desk of ELIXIR Norway, we include an example. The help desk was contacted by a researcher wanting to analyze 15 RNA-Seq samples from the Atlantic salmon. We decided that the already prepared RNA-Seq workflow in our Galaxy instance at NTNU Trondheim consisting of HISAT2 alignment
<sup><xref rid="ref-22" ref-type="bibr">22</xref></sup>, followed by read assignment by featureCounts (subRead package)
<sup><xref rid="ref-28" ref-type="bibr">28</xref></sup> and differential expression analysis in voom
<sup><xref rid="ref-29" ref-type="bibr">29</xref></sup>, would be suitable for the initial analysis of the data. Atlantic salmon is not an organism with pre-processed genome and transcriptome readily available, so our help desk first had to create a HISAT2-indexed reference genome from the original Atlantic salmon genome FASTA file and transcriptome GFF file downloaded from SalmoBase
<sup><xref rid="ref-30" ref-type="bibr">30</xref></sup>. The initial indexing (using HISAT2 indexing with 1.5TB of memory) was done by the ELIXIR Norway staff at NMBU Ås responsible for SalmoBase. This step only needs to be performed once for any reference genome, and can be reused for other users targeting the same organism. The indexed reference was made available for selection in the workflow by ELIXIR Norway staff at NTNU. To run the workflow, the NTNU help desk created a shared project in NeLS Storage Level I layer, and shared the project with the researcher. They in turn uploaded the raw sequencing data to the shared project in NeLS (then becoming available to the responsible person in the help desk), who ran the RNA-Seq workflow in the Galaxy environment. The workflow made use of the dataset collection feature in Galaxy to run alignment and read-assignment on all 15 samples in a single step. Sample group assignments for comparison in differential expression analysis can be defined at the beginning of the workflow, or by adding assignment and comparisons during a re-run of the last step in the workflow (voom analysis). In this way, the user only needs to run the computationally demanding alignment and assignment steps once, but still have the flexibility to change samples assignments and group comparisons in subsequent analysis. In total, four group comparisons were made, reporting differentially expressed genes in each comparison. The total processing and analysis were done with a minimal effort for the user who basically only had to 1) upload the data, 2) define a dataset collection, 3) select the correct organism reference genome (for alignment) and transcriptome (for counting), and 4) define the sample groups assignments and the groups to be compared (differential analysis).</p>
    </sec>
  </sec>
  <sec>
    <title>6 Unified service toward data-generating platforms</title>
    <p>National or other large data-generating platforms, such as the Norwegian Consortium for Sequencing and Personalized Medicine (NorSeq
<sup><xref ref-type="other" rid="P30">ad</xref></sup>) produce user-requested sequencing for multiple purposes. The data are produced on receipt of DNA samples, and these may be of both human and non-human nature, requiring different data handling procedures. The goal is to provide a unified and seamless user experience, in which the user is provided with a resulting dataset in an environment that is suitably equipped with compute resources, relevant analytical tools, reference data, and initial analysis results. All of this should be provided and documented with no action required from the user after the initial agreement. This requires a tight collaboration between the data-generating platform, the national hardware (storage, compute) resources, as well as the ELIXIR help desk facilitating for the user experience in providing relevant tools, workflows, support, and documentation.</p>
    <p>Non-sensitive data handling is coordinated through the use of NeLS and its layered architecture. NorSeq staff uploads the generated data to a NeLS project area created by ELIXIR Norway help desk on behalf of the research group ordering the sequencing. After verification of the uploaded data, ELIXIR Norway help desk assists the research group in synchronizing the data also to the Store-Bioinfo services at the Norwegian Infrastructure for Research Data (NIRD), and provides access in different roles to the different members of the research project. Users may then analyze the data utilizing the Galaxy front ends in the NeLS ecosystem, and receive support and training from the ELIXIR Norway help desk.</p>
    <p>Sensitive data handling is achieved by utilization of Services for Sensitive Data (TSD)
<sup><xref rid="ref-19" ref-type="bibr">19</xref></sup>. NorSeq staff uploads the generated data to a special TSD project that allows for initial data analysis using ELIXIR Norway provided workflows jointly by NorSeq and ELIXIR Norway help desk staff, before the raw and processed data are made fully available to the user’s TSD project.</p>
  </sec>
  <sec>
    <title>7 Discussion</title>
    <p>We have described the NeLS system developed to serve a broad spectrum of bioinformatics users, with focus on Norwegian users and on genomics data. The system supports data storage, sharing, and data analysis in a project-oriented fashion. A strength of the system is that it utilizes a federated identity provider allowing most users to use their institutional login. Furthermore, it integrates storage and compute resources offered by the generic einfrastructure Sigma2, set-up and funded to support users across all research fields in Norway. This avoids duplication of effort and caters for a more harmonized policy with respect to allocations of compute and storage between life science and other fields. An additional strength of the system is that it has interfaces adapted to both advanced users through a programmatic interface (API) and SSH, and to less computer-savvy users through a web portal. This allows different categories of users to work efficiently with the system, and to collaborate through joint projects. The system has been in production since 2015, and has been adapted according to user feedback accumulated over a series of workshops.</p>
    <p>The system has been designed to use existing open-source solutions whenever possible. We believe this strategy produces a system that is easier to maintain and therefore more sustainable. NeLS has been developed in an iterative fashion with short agile development cycles facilitating adaptation to changing needs.</p>
    <p>Until now, we have had one instance of NeLS running at the University of Bergen, linked with five instances of Galaxy, one at each of the partner institutions in ELIXIR Norway. For the future, we are investigating a more dynamic approach launching Galaxy instances on demand.</p>
    <p>NeLS itself does not provide the level of security required for handling sensitive data. To support such projects, NeLS is linked with the TSD (Services for Sensitive Data) platform in Oslo
<sup><xref rid="ref-19" ref-type="bibr">19</xref></sup>. NeLS and TSD are integrated, allowing transfer of data and workflows between the systems, making for more resource-efficient support of both types of projects benefiting both their operation and their users.</p>
    <p>NeLS uses the national Federated Electronic Identity provider (FEiDE) linking all Norwegian universities. The technology used is the same as that used for the ELIXIR Authentication and Authorisation Infrastructure (AAI)
<sup><xref rid="ref-15" ref-type="bibr">15</xref></sup>. It is therefore possible to extend NeLS to also support ELIXIR AAI identity provision. NeLS has so far been designed and resourced for supporting Norwegian projects, and new policies – and ideally also new funding mechanisms – would be needed to extend the scope beyond Norwegian projects.</p>
    <p>The NeLS system can be used as an example of how to set up a flexible and relatively light-weight system providing bioinformatics projects with data storage, sharing, and analysis. The NeLS source code is available on GitHub and can helpin the building of similar projects elsewhere, although adaptations must be expected, for example to integrate with storage and compute resources.</p>
    <p>The modularity of NeLS allows its parts to be reused in other contexts. An example is the integration of NeLS with the SEEK platform
<sup><xref rid="ref-2" ref-type="bibr">2</xref>,
<xref rid="ref-3" ref-type="bibr">3</xref></sup>, where users can link data sets in NeLS with their metadata in SEEK. Future work may include functionality for allowing users to export annotated data from NeLS (optionally integrating linked metadata from SEEK) into public data repositories such as ArrayExpress
<sup><xref rid="ref-31" ref-type="bibr">31</xref></sup> and PRIDE
<sup><xref rid="ref-32" ref-type="bibr">32</xref></sup>.</p>
  </sec>
  <sec>
    <title>8 Conclusions</title>
    <p>The NeLS system is in production and serves as an important platform for the operation of ELIXIR Norway and its help desk for users in molecular life sciences. The system will therefore be maintained and supported in the foreseeable future. We benefit from sharing experiences with other similar projects within and beyond ELIXIR, through the wide adoption of Galaxy across many ELIXIR nodes.</p>
  </sec>
  <sec>
    <title>Data availability</title>
    <p>All data underlying the results are available as part of the article and no additional source data are required.</p>
  </sec>
  <sec>
    <title>Software availability</title>
    <p>Bio.Tools
<sup><xref rid="ref-33" ref-type="bibr">33</xref></sup> ID:
<italic>NeLS</italic> (
<ext-link ext-link-type="uri" xlink:href="https://bio.tools/nels">https://bio.tools/nels</ext-link>)</p>
    <p>RRID: SCR_016301</p>
    <p>NeLS is available at
<ext-link ext-link-type="uri" xlink:href="https://nels.bioinfo.no">https://nels.bioinfo.no</ext-link>, without extra registration for all Norwegian academic users (via FEiDE
<sup><xref ref-type="other" rid="P31">ae</xref></sup>), and with registration upon request for all other users.</p>
    <p>The source code of the core NeLS modules is available at
<ext-link ext-link-type="uri" xlink:href="https://github.com/elixir-no-nels/nels-core">https://github.com/elixir-no-nels/nels-core</ext-link>, under the Apache License 2.0
<sup><xref ref-type="other" rid="P32">af</xref></sup>.</p>
    <p>Archived source code at the time of publication is available here:
<ext-link ext-link-type="uri" xlink:href="http://doi.org/10.5281/zenodo.1251639">http://doi.org/10.5281/zenodo.1251639</ext-link> under an Apache License 2.0
<sup><xref rid="ref-34" ref-type="bibr">34</xref></sup>.</p>
  </sec>
  <sec>
    <title>Use cases</title>
    <p>The source code of the module integrating NeLS with the national Service for Sensitive Data (TSD), can be found within the above repository and archive in
<italic>elixir-no-nels/nels-core/tsd-proxy</italic>.</p>
    <p>The source code of the integration module of META-pipe with NeLS, including Galaxy front end and HPC back end (Stallo supercomputer at UiT), is available under the MIT license
<sup><xref ref-type="other" rid="P33">ag</xref></sup> at
<ext-link ext-link-type="uri" xlink:href="https://gitlab.com/uit-sfb/meta-pipe-galaxy-wrapper">https://gitlab.com/uit-sfb/meta-pipe-galaxy-wrapper</ext-link>, archived in
<xref rid="ref-35" ref-type="bibr">35</xref>.</p>
  </sec>
  <sec>
    <title>Notes</title>
    <p id="P1">a
<ext-link ext-link-type="uri" xlink:href="https://basespace.illumina.com">https://basespace.illumina.com</ext-link>
</p>
    <p id="P2">b
<ext-link ext-link-type="uri" xlink:href="https://www.geneious.com">https://www.geneious.com</ext-link>
</p>
    <p id="P3">c
<xref rid="ref-14" ref-type="bibr">14</xref>,
<italic>pp.</italic> 53–56, 61–64,
<ext-link ext-link-type="uri" xlink:href="https://bora.uib.no/bitstream/handle/1956/10658/thesis.pdf#page=61">https://bora.uib.no/bitstream/ handle/1956/10658/thesis.pdf#page=61</ext-link>
</p>
    <p id="P4">d
<ext-link ext-link-type="uri" xlink:href="https://www.sigma2.no">https://www.sigma2.no</ext-link>
</p>
    <p id="P5">e
<ext-link ext-link-type="uri" xlink:href="https://wiki.oasis-open.org/security/FrontPage">https://wiki.oasis-open.org/security/FrontPage</ext-link>
</p>
    <p id="P6">f
<ext-link ext-link-type="uri" xlink:href="https://www.feide.no/introducing-feide">https://www.feide.no/introducing-feide</ext-link>
</p>
    <p id="P7">g
<ext-link ext-link-type="uri" xlink:href="https://simplesamlphp.org">https://simplesamlphp.org</ext-link>
</p>
    <p id="P8">h
<ext-link ext-link-type="uri" xlink:href="https://www.rabbitmq.com">https://www.rabbitmq.com</ext-link>
</p>
    <p id="P9">i
<ext-link ext-link-type="uri" xlink:href="https://projects.spring.io/spring-security/">https://projects.spring.io/spring-security/</ext-link>
</p>
    <p id="P10">j
<ext-link ext-link-type="uri" xlink:href="https://tools.ietf.org/html/rfc5849">https://tools.ietf.org/html/rfc5849</ext-link>
</p>
    <p id="P11">kServices for Sensitive Data, in Norwegian
<italic>Tjenester for Sensitive Data</italic>
</p>
    <p id="P12">l
<ext-link ext-link-type="uri" xlink:href="https://zenprojects.github.io/Apache-Authmemcookie-Module/">https://zenprojects.github.io/Apache-Authmemcookie-Module/</ext-link>
</p>
    <p id="P13">m
<ext-link ext-link-type="uri" xlink:href="https://memcached.org">https://memcached.org</ext-link>
</p>
    <p id="P14">n
<ext-link ext-link-type="uri" xlink:href="https://galaxyproject.org/admin/config/pulsar/">https://galaxyproject.org/admin/config/pulsar/</ext-link>
</p>
    <p id="P15">o
<ext-link ext-link-type="uri" xlink:href="https://galaxy-uit.bioinfo.no">https://galaxy-uit.bioinfo.no</ext-link>
</p>
    <p id="P16">p
<ext-link ext-link-type="uri" xlink:href="https://www.adaptivecomputing.com/products/open-source/torque">https://www.adaptivecomputing.com/products/open-source/torque</ext-link>
</p>
    <p id="P17">q
<ext-link ext-link-type="uri" xlink:href="https://www.freebsd.org/">https://www.freebsd.org/</ext-link>
</p>
    <p id="P18">r
<ext-link ext-link-type="uri" xlink:href="https://en.wikipedia.org/wiki/ZFS">https://en.wikipedia.org/wiki/ZFS</ext-link>
</p>
    <p id="P19">s
<ext-link ext-link-type="uri" xlink:href="https://irods.org/">https://irods.org/</ext-link>
</p>
    <p id="P20">t
<ext-link ext-link-type="uri" xlink:href="https://tools.ietf.org/html/rfc5849">https://tools.ietf.org/html/rfc5849</ext-link>
</p>
    <p id="P21">u
<ext-link ext-link-type="uri" xlink:href="https://pypi.org/project/tornado/">https://pypi.org/project/tornado/</ext-link>
</p>
    <p id="P22">v
<ext-link ext-link-type="uri" xlink:href="https://github.com/joestump/python-oauth2">https://github.com/joestump/python-oauth2</ext-link>
</p>
    <p id="P23">w
<ext-link ext-link-type="uri" xlink:href="https://digitallifenorway.org/">https://digitallifenorway.org/</ext-link>
</p>
    <p id="P25">x
<ext-link ext-link-type="uri" xlink:href="https://filezilla-project.org/">https://filezilla-project.org/</ext-link>
</p>
    <p id="P26">y
<ext-link ext-link-type="uri" xlink:href="https://www.norseq.org">https://www.norseq.org</ext-link>
</p>
    <p id="P24">z
<ext-link ext-link-type="uri" xlink:href="https://licebase.org">licebase.org</ext-link>
</p>
    <p id="P27">aa
<ext-link ext-link-type="uri" xlink:href="https://galaxy-uit.bioinfo.no">https://galaxy-uit.bioinfo.no</ext-link>
</p>
    <p id="P28">abServices for Sensitive Data, in Norwegian
<italic>Tjenester for Sensitive Data</italic>
</p>
    <p id="P29">ac
<ext-link ext-link-type="uri" xlink:href="https://neic.no/tryggve2/">https://neic.no/tryggve2/</ext-link>
</p>
    <p id="P30">ad
<ext-link ext-link-type="uri" xlink:href="https://www.norseq.org">https://www.norseq.org</ext-link>
</p>
    <p id="P31">ae
<ext-link ext-link-type="uri" xlink:href="https://www.feide.no/introducing-feide">https://www.feide.no/introducing-feide</ext-link>
</p>
    <p id="P32">af
<ext-link ext-link-type="uri" xlink:href="https://www.apache.org/licenses/LICENSE-2.0.html">https://www.apache.org/licenses/LICENSE-2.0.html</ext-link>
</p>
    <p id="P33">ag
<ext-link ext-link-type="uri" xlink:href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</ext-link>
</p>
  </sec>
</body>
<back>
  <ack>
    <title>Acknowledgements</title>
    <p>We acknowledge valuable user feedback from NeLS users and our collaborators in the national sequencing platform NorSeq. We acknowledge Prof. Atle M. Bones and Mahsa Jalili for allowing us to include their project as an example of a bioinformatics analysis in NeLS.</p>
  </ack>
  <ref-list>
    <ref id="ref-1">
      <label>1</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Nygård</surname><given-names>S</given-names></name><name><surname>Jonassen</surname><given-names>I</given-names></name></person-group>:
<article-title>Norwegian Bioinformatics Platform.</article-title><source><italic>NBS Nytt.</italic></source><year>2014</year>;<volume>38</volume>(<issue>2</issue>):<fpage>32</fpage>–<lpage>35</lpage>.
<ext-link ext-link-type="uri" xlink:href="https://www.biokjemisk.no/download/nbs-nytt/2014/NBS_nytt_2_2014.pdf#page=32">Reference Source</ext-link></mixed-citation>
    </ref>
    <ref id="ref-2">
      <label>2</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Wolstencroft</surname><given-names>K</given-names></name><name><surname>Owen</surname><given-names>S</given-names></name><name><surname>Krebs</surname><given-names>O</given-names></name><etal/></person-group>:
<article-title>Semantic Data and Models Sharing in Systems Biology: The Just Enough Results Model and the SEEK Platform.</article-title>In
<italic>Proceedings of the 12th International Semantic Web Conference - Part II.</italic>ISWC ’13, New York, NY, USA, Springer-Verlag New York, Inc.<year>2013</year>;<fpage>212</fpage>–<lpage>227</lpage>.
<pub-id pub-id-type="doi">10.1007/978-3-642-41338-4_14</pub-id></mixed-citation>
    </ref>
    <ref id="ref-3">
      <label>3</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Wolstencroft</surname><given-names>K</given-names></name><name><surname>Owen</surname><given-names>S</given-names></name><name><surname>Krebs</surname><given-names>O</given-names></name><etal/></person-group>:
<article-title>SEEK: a systems biology data and model management platform.</article-title><source><italic>BMC Syst Biol.</italic></source><year>2015</year>;<volume>9</volume>(<issue>1</issue>):<fpage>33</fpage>.
<pub-id pub-id-type="doi">10.1186/s12918-015-0174-y</pub-id><!--<pub-id pub-id-type="pmcid">4702362</pub-id>--><?supplied-pmid 26160520?><pub-id pub-id-type="pmid">26160520</pub-id></mixed-citation>
    </ref>
    <ref id="ref-4">
      <label>4</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Reich</surname><given-names>M</given-names></name><name><surname>Liefeld</surname><given-names>T</given-names></name><name><surname>Ocana</surname><given-names>M</given-names></name><etal/></person-group>:
<article-title>GenomeSpace: an environment for frictionless bioinformatics.</article-title><source><italic>F1000Posters.</italic></source>Poster.<year>2013</year><volume>4</volume>:<fpage>804</fpage><ext-link ext-link-type="uri" xlink:href="https://f1000research.com/posters/1093972">Reference Source</ext-link></mixed-citation>
    </ref>
    <ref id="ref-5">
      <label>5</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Garamszegi</surname><given-names>S</given-names></name><name><surname>Mesirov</surname><given-names>JP</given-names></name></person-group>,
<collab>The GenomeSpace Team</collab>:
<article-title>GenomeSpace: An environment for frictionless bioinformatics [v1; not peer reviewed].</article-title><source><italic>F1000Res.</italic></source>Poster.<year>2015</year>;<volume>4</volume>(<issue>ISCB Comm J.</issue>):<fpage>349</fpage><pub-id pub-id-type="doi">10.7490/f1000research.1110097.1</pub-id></mixed-citation>
    </ref>
    <ref id="ref-6">
      <label>6</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Qu</surname><given-names>K</given-names></name><name><surname>Garamszegi</surname><given-names>S</given-names></name><name><surname>Wu</surname><given-names>F</given-names></name><etal/></person-group>:
<article-title>Integrative genomic analysis by interoperation of bioinformatics tools in GenomeSpace.</article-title><source><italic>Nat Methods.</italic></source><year>2016</year>;<volume>13</volume>(<issue>3</issue>):<fpage>245</fpage>–<lpage>247</lpage>.
<pub-id pub-id-type="doi">10.1038/nmeth.3732</pub-id><!--<pub-id pub-id-type="pmcid">4767623</pub-id>--><?supplied-pmid 26780094?><pub-id pub-id-type="pmid">26780094</pub-id></mixed-citation>
    </ref>
    <ref id="ref-7">
      <label>7</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Sandve</surname><given-names>GK</given-names></name><name><surname>Gundersen</surname><given-names>S</given-names></name><name><surname>Rydbeck</surname><given-names>H</given-names></name><etal/></person-group>:
<article-title>The Genomic HyperBrowser: inferential genomics at the sequence level.</article-title><source><italic>Genome Biol.</italic></source><year>2010</year>;<volume>11</volume>(<issue>12</issue>):<fpage>R121</fpage>.
<pub-id pub-id-type="doi">10.1186/gb-2010-11-12-r121</pub-id><!--<pub-id pub-id-type="pmcid">3046481</pub-id>--><?supplied-pmid 21182759?><pub-id pub-id-type="pmid">21182759</pub-id></mixed-citation>
    </ref>
    <ref id="ref-8">
      <label>8</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Sandve</surname><given-names>GK</given-names></name><name><surname>Gundersen</surname><given-names>S</given-names></name><name><surname>Johansen</surname><given-names>M</given-names></name><etal/></person-group>:
<article-title>The Genomic HyperBrowser: an analysis web server for genome-scale data.</article-title><source><italic>Nucleic Acids Res.</italic></source><year>2013</year>;<volume>41</volume>(<issue>Web Server Issue</issue>):<fpage>W133</fpage>–<lpage>W141</lpage>.
<pub-id pub-id-type="doi">10.1093/nar/gkt342</pub-id><!--<pub-id pub-id-type="pmcid">3692097</pub-id>--><?supplied-pmid 23632163?><pub-id pub-id-type="pmid">23632163</pub-id></mixed-citation>
    </ref>
    <ref id="ref-9">
      <label>9</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Simovski</surname><given-names>B</given-names></name><name><surname>Vodák</surname><given-names>D</given-names></name><name><surname>Gundersen</surname><given-names>S</given-names></name><etal/></person-group>:
<article-title>GSuite HyperBrowser: integrative analysis of dataset collections across the genome and epigenome.</article-title><source><italic>GigaScience.</italic></source><year>2017</year>;<volume>6</volume>(<issue>7</issue>):<fpage>1</fpage>–<lpage>12</lpage>.
<pub-id pub-id-type="doi">10.1093/gigascience/gix032</pub-id><!--<pub-id pub-id-type="pmcid">5493745</pub-id>--><?supplied-pmid 28459977?><pub-id pub-id-type="pmid">28459977</pub-id></mixed-citation>
    </ref>
    <ref id="ref-10">
      <label>10</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Giardine</surname><given-names>B</given-names></name><name><surname>Riemer</surname><given-names>C</given-names></name><name><surname>Hardison</surname><given-names>RC</given-names></name><etal/></person-group>:
<article-title>Galaxy: a platform for interactive large-scale genome analysis.</article-title><source><italic>Genome Res.</italic></source><year>2005</year>;<volume>15</volume>(<issue>10</issue>):<fpage>1451</fpage>–<lpage>1455</lpage>.
<pub-id pub-id-type="doi">10.1101/gr.4086505</pub-id><!--<pub-id pub-id-type="pmcid">1240089</pub-id>--><?supplied-pmid 16169926?><pub-id pub-id-type="pmid">16169926</pub-id></mixed-citation>
    </ref>
    <ref id="ref-11">
      <label>11</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Afgan</surname><given-names>E</given-names></name><name><surname>Baker</surname><given-names>D</given-names></name><name><surname>van den Beek</surname><given-names>M</given-names></name><etal/></person-group>:
<article-title>The Galaxy platform for accessible, reproducible and collaborative biomedical analyses: 2016 update.</article-title><source><italic>Nucleic Acids Res.</italic></source><year>2016</year>;<volume>44</volume>(<issue>W1</issue>):<fpage>W3</fpage>–<lpage>W10</lpage>.
<pub-id pub-id-type="doi">10.1093/nar/gkw343</pub-id><!--<pub-id pub-id-type="pmcid">4987906</pub-id>--><?supplied-pmid 27137889?><pub-id pub-id-type="pmid">27137889</pub-id></mixed-citation>
    </ref>
    <ref id="ref-12">
      <label>12</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Kumar</surname><given-names>S</given-names></name><name><surname>Skjaeveland</surname><given-names>A</given-names></name><name><surname>Orr</surname><given-names>RJ</given-names></name><etal/></person-group>:
<article-title>AIR: A batch-oriented web program package for construction of supermatrices ready for phylogenomic analyses.</article-title><source><italic>BMC Bioinformatics.</italic></source><year>2009</year>;<volume>10</volume>(<issue>1</issue>):<fpage>357</fpage>.
<pub-id pub-id-type="doi">10.1186/1471-2105-10-357</pub-id><!--<pub-id pub-id-type="pmcid">2777179</pub-id>--><?supplied-pmid 19863793?><pub-id pub-id-type="pmid">19863793</pub-id></mixed-citation>
    </ref>
    <ref id="ref-13">
      <label>13</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Kumar</surname><given-names>S</given-names></name><name><surname>Krabberød</surname><given-names>AK</given-names></name><name><surname>Neumann</surname><given-names>RS</given-names></name><etal/></person-group>:
<article-title>BIR Pipeline for Preparation of Phylogenomic Data.</article-title><source><italic>Evol Bioinform Online.</italic></source><year>2015</year>;<volume>11</volume>:<fpage>79</fpage>–<lpage>83</lpage>.
<pub-id pub-id-type="doi">10.4137/EBO.S10189</pub-id><!--<pub-id pub-id-type="pmcid">4412416</pub-id>--><?supplied-pmid 25987827?><pub-id pub-id-type="pmid">25987827</pub-id></mixed-citation>
    </ref>
    <ref id="ref-14">
      <label>14</label>
      <mixed-citation publication-type="thesis"><person-group person-group-type="author"><name><surname>Kalaš</surname><given-names>M</given-names></name></person-group>:
<article-title>Efforts towards accessible and reliable bioinformatics.</article-title>PhD thesis, University of Bergen, Norway,<year>2015</year><pub-id pub-id-type="doi">10.5281/zenodo.33715</pub-id></mixed-citation>
    </ref>
    <ref id="ref-15">
      <label>15</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Linden</surname><given-names>M</given-names></name><name><surname>Procházka</surname><given-names>M</given-names></name></person-group>:
<article-title>ELIXIR Authentication and Authorisation Infrastructure (AAI) [version 1; not peer reviewed].</article-title><source><italic>F1000Res.</italic></source>Poster.<year>2016</year>;<volume>5</volume>(<issue>ELIXIR</issue>):<fpage>332</fpage><pub-id pub-id-type="doi">10.7490/f1000research.1111411.1</pub-id></mixed-citation>
    </ref>
    <ref id="ref-16">
      <label>16</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Fielding</surname><given-names>RT</given-names></name></person-group>:
<article-title>Architectural Styles and the Design of Network-based Software Architectures</article-title>. PhD thesis, University of California, Irvine,<year>2000</year><ext-link ext-link-type="uri" xlink:href="https://www.ics.uci.edu/~fielding/pubs/dissertation/fielding_dissertation.pdf">Reference Source</ext-link></mixed-citation>
    </ref>
    <ref id="ref-17">
      <label>17</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Richardson</surname><given-names>L</given-names></name><name><surname>Ruby</surname><given-names>S</given-names></name><name><surname>Hansson</surname><given-names>DH</given-names></name></person-group>:
<article-title>RESTful Web Services</article-title>. O’Reilly,<year>2007</year><ext-link ext-link-type="uri" xlink:href="https://archive.org/details/RESTfulWebServices">Reference Source</ext-link></mixed-citation>
    </ref>
    <ref id="ref-18">
      <label>18</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Richardson</surname><given-names>L</given-names></name><name><surname>Amundsen</surname><given-names>M</given-names></name><name><surname>Ruby</surname><given-names>S</given-names></name></person-group>:
<article-title>RESTful Web APIs</article-title>. O’Reilly,<year>2013</year><ext-link ext-link-type="uri" xlink:href="http://shop.oreilly.com/product/0636920028468.do">Reference Source</ext-link></mixed-citation>
    </ref>
    <ref id="ref-19">
      <label>19</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Azab</surname><given-names>A</given-names></name><name><surname>Domanska</surname><given-names>D</given-names></name></person-group>:
<article-title>Software Provisioning Inside a Secure Environment as Docker Containers Using STROLL File-System</article-title>. In
<italic>2016 16th IEEE/ACM International Symposium on Cluster, Cloud and Grid Computing (CCGrid)</italic> IEEE,<year>2016</year>;<fpage>674</fpage>–<lpage>683</lpage>.
<pub-id pub-id-type="doi">10.1109/CCGrid.2016.106</pub-id>
</mixed-citation>
    </ref>
    <ref id="ref-20">
      <label>20</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Eichner</surname><given-names>C</given-names></name><name><surname>Dondrup</surname><given-names>M</given-names></name><name><surname>Nilsen</surname><given-names>F</given-names></name></person-group>:
<article-title>RNA sequencing reveals distinct gene expression patterns during the development of parasitic larval stages of the salmon louse (
<italic>Lepeophtheirus salmonis</italic>).</article-title><source><italic>J Fish Dis.</italic></source><year>2018</year>;<volume>41</volume>(<issue>6</issue>):<fpage>1005</fpage>–<lpage>1029</lpage>.
<pub-id pub-id-type="doi">10.1111/jfd.12770</pub-id><?supplied-pmid 29368347?><pub-id pub-id-type="pmid">29368347</pub-id></mixed-citation>
    </ref>
    <ref id="ref-21">
      <label>21</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Dobin</surname><given-names>A</given-names></name><name><surname>Davis</surname><given-names>CA</given-names></name><name><surname>Schlesinger</surname><given-names>F</given-names></name><etal/></person-group>:
<article-title>STAR: ultrafast universal RNA-seq aligner.</article-title><source><italic>Bioinformatics.</italic></source><year>2013</year>;<volume>29</volume>(<issue>1</issue>):<fpage>15</fpage>–<lpage>21</lpage>.
<pub-id pub-id-type="doi">10.1093/bioinformatics/bts635</pub-id><!--<pub-id pub-id-type="pmcid">3530905</pub-id>--><?supplied-pmid 23104886?><pub-id pub-id-type="pmid">23104886</pub-id></mixed-citation>
    </ref>
    <ref id="ref-22">
      <label>22</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Kim</surname><given-names>D</given-names></name><name><surname>Langmead</surname><given-names>B</given-names></name><name><surname>Salzberg</surname><given-names>SL</given-names></name></person-group>:
<article-title>HISAT: a fast spliced aligner with low memory requirements.</article-title><source><italic>Nat Methods.</italic></source><year>2015</year>;<volume>12</volume>(<issue>4</issue>):<fpage>357</fpage>–<lpage>360</lpage>.
<pub-id pub-id-type="doi">10.1038/nmeth.3317</pub-id><!--<pub-id pub-id-type="pmcid">4655817</pub-id>--><?supplied-pmid 25751142?><pub-id pub-id-type="pmid">25751142</pub-id></mixed-citation>
    </ref>
    <ref id="ref-23">
      <label>23</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Robertsen</surname><given-names>EM</given-names></name><name><surname>Kahlke</surname><given-names>T</given-names></name><name><surname>Raknes</surname><given-names>IA</given-names></name><etal/></person-group>:
<article-title>META-pipe-Pipeline Annotation, Analysis and Visualization of Marine Metagenomic Sequence Data.</article-title><source><italic>CoRR.</italic></source><year>2016</year>; abs/1604.04103.
<ext-link ext-link-type="uri" xlink:href="https://arxiv.org/ftp/arxiv/papers/1604/1604.04103.pdf">Reference Source</ext-link></mixed-citation>
    </ref>
    <ref id="ref-24">
      <label>24</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Agafonov</surname><given-names>A</given-names></name><name><surname>Mattila</surname><given-names>K</given-names></name><name><surname>Tuan</surname><given-names>CD</given-names></name><etal/></person-group>:
<article-title>META-pipe cloud setup and execution [version 2; referees: 1 approved, 1 approved with reservations].</article-title><source><italic>F1000Res.</italic></source><year>2018</year>;<volume>6</volume>(<issue>ELIXIR</issue>):<fpage>2060</fpage><pub-id pub-id-type="doi">10.12688/f1000research.13204.2</pub-id></mixed-citation>
    </ref>
    <ref id="ref-25">
      <label>25</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Raknes</surname><given-names>IA</given-names></name><name><surname>Bongo</surname><given-names>LA</given-names></name></person-group>:
<article-title>META-pipe Authorization service [version 1; referees: 2 approved with reservations].</article-title><source><italic>F1000Res.</italic></source><year>2018</year>;<volume>7</volume>(<issue>ELIXIR</issue>):<fpage>32</fpage><pub-id pub-id-type="doi">10.12688/f1000research.13256.1</pub-id></mixed-citation>
    </ref>
    <ref id="ref-26">
      <label>26</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Robertsen</surname><given-names>EM</given-names></name><name><surname>Raknes</surname><given-names>IA</given-names></name><name><surname>Tartari</surname><given-names>G</given-names></name><etal/></person-group>:
<article-title>ELIXIR Pilot: Marine metagenomics [version 1; not peer reviewed].</article-title><source><italic>F1000Res.</italic></source>Poster.<year>2016</year>;<volume>5</volume>(<issue>ELIXIR</issue>):<fpage>864</fpage><pub-id pub-id-type="doi">10.7490/f1000research.1111868.1</pub-id></mixed-citation>
    </ref>
    <ref id="ref-27">
      <label>27</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Robertsen</surname><given-names>EM</given-names></name><name><surname>Denise</surname><given-names>H</given-names></name><name><surname>Mitchell</surname><given-names>A</given-names></name><etal/></person-group>:
<article-title>ELIXIR pilot action: Marine metagenomics – towards a domain specific set of sustainable services [version 1; referees: 1 approved, 2 approved with reservations].</article-title><source><italic>F1000Res.</italic></source><year>2017</year>;<volume>6</volume>(<issue>ELIXIR</issue>):<fpage>70</fpage>.
<pub-id pub-id-type="doi">10.12688/f1000research.10443.1</pub-id><!--<pub-id pub-id-type="pmcid">5461914</pub-id>--><?supplied-pmid 28620454?><pub-id pub-id-type="pmid">28620454</pub-id></mixed-citation>
    </ref>
    <ref id="ref-28">
      <label>28</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Liao</surname><given-names>Y</given-names></name><name><surname>Smyth</surname><given-names>GK</given-names></name><name><surname>Shi</surname><given-names>W</given-names></name></person-group>:
<article-title>featureCounts: an efficient general purpose program for assigning sequence reads to genomic features.</article-title><source><italic>Bioinformatics.</italic></source><year>2014</year>;<volume>30</volume>(<issue>7</issue>):<fpage>923</fpage>–<lpage>930</lpage>.
<pub-id pub-id-type="doi">10.1093/bioinformatics/btt656</pub-id><?supplied-pmid 24227677?><pub-id pub-id-type="pmid">24227677</pub-id></mixed-citation>
    </ref>
    <ref id="ref-29">
      <label>29</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Law</surname><given-names>CW</given-names></name><name><surname>Chen</surname><given-names>Y</given-names></name><name><surname>Shi</surname><given-names>W</given-names></name><etal/></person-group>:
<article-title>voom: Precision weights unlock linear model analysis tools for RNA-seq read counts.</article-title><source><italic>Genome Biol.</italic></source><year>2014</year>;<volume>15</volume>(<issue>22</issue>):<fpage>R29</fpage>.
<pub-id pub-id-type="doi">10.1186/gb-2014-15-2-r29</pub-id><!--<pub-id pub-id-type="pmcid">4053721</pub-id>--><?supplied-pmid 24485249?><pub-id pub-id-type="pmid">24485249</pub-id></mixed-citation>
    </ref>
    <ref id="ref-30">
      <label>30</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Samy</surname><given-names>JKA</given-names></name><name><surname>Mulugeta</surname><given-names>TD</given-names></name><name><surname>Nome</surname><given-names>T</given-names></name><etal/></person-group>:
<article-title>SalmoBase: an integrated molecular data resource for
<italic>Salmonid</italic> species.</article-title><source><italic>BMC Genomics.</italic></source><year>2017</year>;<volume>18</volume>(<issue>1</issue>):<fpage>482</fpage>.
<pub-id pub-id-type="doi">10.1186/s12864-017-3877-1</pub-id><!--<pub-id pub-id-type="pmcid">5485693</pub-id>--><?supplied-pmid 28651544?><pub-id pub-id-type="pmid">28651544</pub-id></mixed-citation>
    </ref>
    <ref id="ref-31">
      <label>31</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Parkinson</surname><given-names>H</given-names></name><name><surname>Sarkans</surname><given-names>U</given-names></name><name><surname>Shojatalab</surname><given-names>M</given-names></name><etal/></person-group>:
<article-title>ArrayExpress--a public repository for microarray gene expression data at the EBI.</article-title><source><italic>Nucleic Acids Res.</italic></source><year>2005</year>;<volume>33</volume>(<issue>Database issue</issue>):<fpage>D553</fpage>–<lpage>5</lpage>.
<pub-id pub-id-type="doi">10.1093/nar/gki056</pub-id><!--<pub-id pub-id-type="pmcid">540010</pub-id>--><?supplied-pmid 15608260?><pub-id pub-id-type="pmid">15608260</pub-id></mixed-citation>
    </ref>
    <ref id="ref-32">
      <label>32</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Vizcaíno</surname><given-names>JA</given-names></name><name><surname>Reisinger</surname><given-names>F</given-names></name><name><surname>Côté</surname><given-names>R</given-names></name><etal/></person-group>:
<article-title>PRIDE: Data Submission and Analysis.</article-title><source><italic>Curr Protoc Protein Sci.</italic></source><year>2010</year>; Chapter 25: Unit 25.4.
<pub-id pub-id-type="doi">10.1002/0471140864.ps2504s60</pub-id><?supplied-pmid 20393974?><pub-id pub-id-type="pmid">20393974</pub-id></mixed-citation>
    </ref>
    <ref id="ref-33">
      <label>33</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Ison</surname><given-names>J</given-names></name><name><surname>Rapacki</surname><given-names>K</given-names></name><name><surname>Ménager</surname><given-names>H</given-names></name><etal/></person-group>:
<article-title>Tools and data services registry: a community effort to document bioinformatics resources.</article-title><source><italic>Nucleic Acids Res.</italic></source><year>2016</year>;<volume>44</volume>(<issue>D1</issue>):<fpage>D38</fpage>–<lpage>47</lpage>.
<pub-id pub-id-type="doi">10.1093/nar/gkv1116</pub-id><!--<pub-id pub-id-type="pmcid">4702812</pub-id>--><?supplied-pmid 26538599?><pub-id pub-id-type="pmid">26538599</pub-id></mixed-citation>
    </ref>
    <ref id="ref-34">
      <label>34</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Tekle</surname><given-names>KM</given-names></name><name><surname>Li</surname><given-names>X</given-names></name><name><surname>Zhang</surname><given-names>W</given-names></name><etal/></person-group>:
<article-title>elixir-no-nels/nels-core: NeLS core 2018-05-16.</article-title><source><italic>Zenodo.</italic></source><year>2018</year><pub-id pub-id-type="doi">10.5281/zenodo.1251639</pub-id></mixed-citation>
    </ref>
    <ref id="ref-35">
      <label>35</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Bongo</surname><given-names>AL</given-names></name><name><surname>Raknes</surname><given-names>IA</given-names></name></person-group>:
<article-title>META-pipe Galaxy Wrapper</article-title>. Software version.
<source><italic>Zenodo.</italic></source><year>2018</year><pub-id pub-id-type="doi">10.5281/zenodo.1256891</pub-id></mixed-citation>
    </ref>
  </ref-list>
</back>
<sub-article id="report35602" article-type="peer-review">
  <front-stub>
    <article-id pub-id-type="doi">10.5256/f1000research.16472.r35602</article-id>
    <title-group>
      <article-title>Referee response for version 1</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <name>
          <surname>Mueller</surname>
          <given-names>Wolfgang</given-names>
        </name>
        <xref ref-type="aff" rid="r35602a1">1</xref>
        <role>Referee</role>
      </contrib>
      <aff id="r35602a1"><label>1</label>Heidelberg Institute of Theoretical Studies gGmbH, Heidelberg, Germany</aff>
    </contrib-group>
    <author-notes>
      <fn fn-type="COI-statement">
        <p><bold>Competing interests: </bold>I am coauthor on a Nettab Abstract with Inge Jonassen. No publication, but conference contribution. Collaboration on linking SEEK and NeLS.</p>
      </fn>
    </author-notes>
    <pub-date pub-type="epub">
      <day>13</day>
      <month>9</month>
      <year>2018</year>
    </pub-date>
    <related-article id="d35e3011" related-article-type="peer-reviewed-article" ext-link-type="doi" xlink:href="10.12688/f1000research.15119.1">Version 1</related-article>
    <custom-meta-group>
      <custom-meta>
        <meta-name>recommendation</meta-name>
        <meta-value>approve</meta-value>
      </custom-meta>
    </custom-meta-group>
  </front-stub>
  <body>
    <p>I am a member of ELIXIR, and as member of the FAIRDOM project, I am heavily involved with the SEEK system whose link to NeLS is hinted inside the paper. However, I have been only losely involved with that, so I was deemed to be an appropriate reviewer. In order to make things crystal clear, I hereby make my status visible.</p>
    <p> In my view, this paper has diverse functions:
<list list-type="bullet"><list-item><p>It provides an architectural view on how a comparatively lightweight combination of a variety of pre-existing tools can yield a powerful national research infrastructure.</p></list-item><list-item><p>It provides a short justification of many architectural decisions.</p></list-item><list-item><p>It describes main steps in an ordinary NeLS project.</p></list-item><list-item><p>It provides a description of typical use cases and a reference of workflows that can be run by users.</p></list-item></list>
</p>
    <p> I find the paper clear and readable.</p>
    <p> I second the major remark by Olivier Collin.</p>
    <p> I was also surprised to find a whole paper about an infra structure that does not reference the FAIR principles explicitly. I think they could provide some point of reference regarding the handling of metadata, identifiers, licenses.</p>
    <p> However, it is only a matter of making existing links to FAIR more explicit.  </p>
    <p> One suggestion: Please adjust the numbering in the drawings with the numbering of subsections in the paper. This would make things much easier.</p>
    <p> Bullet point 2.3 (c) references subsection 2.4, shouldn't this be 2.8, the public API? Please clarify.</p>
    <p>I have read this submission. I believe that I have an appropriate level of expertise to confirm that it is of an acceptable scientific standard.</p>
  </body>
</sub-article>
<sub-article id="report35600" article-type="peer-review">
  <front-stub>
    <article-id pub-id-type="doi">10.5256/f1000research.16472.r35600</article-id>
    <title-group>
      <article-title>Referee response for version 1</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <name>
          <surname>Collin</surname>
          <given-names>Olivier</given-names>
        </name>
        <xref ref-type="aff" rid="r35600a1">1</xref>
        <role>Referee</role>
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0002-8959-8402</contrib-id>
      </contrib>
      <aff id="r35600a1"><label>1</label>Univ Rennes, Inria, CNRS, IRISA F-35000, Rennes, France</aff>
    </contrib-group>
    <author-notes>
      <fn fn-type="COI-statement">
        <p><bold>Competing interests: </bold>No competing interests were disclosed.</p>
      </fn>
    </author-notes>
    <pub-date pub-type="epub">
      <day>16</day>
      <month>7</month>
      <year>2018</year>
    </pub-date>
    <related-article id="d35e3103" related-article-type="peer-reviewed-article" ext-link-type="doi" xlink:href="10.12688/f1000research.15119.1">Version 1</related-article>
    <custom-meta-group>
      <custom-meta>
        <meta-name>recommendation</meta-name>
        <meta-value>approve</meta-value>
      </custom-meta>
    </custom-meta-group>
  </front-stub>
  <body>
    <p>The authors describe the architecture of NeLS, the Norwegian e-Infrastructure for Life Sciences. Use cases provide an overview on how the NeLS infrastructure operates. The infrastructure can deal with sensitive and non-sensitive data.</p>
    <p> The microservices oriented architecture allowing several universities to propose a national service is well explicited. The integration with data-generating platforms will help users to manage efficiently their research processes.</p>
    <p> The article is well written and provides a good overview of the infrastructure.</p>
    <p> The description of the use case improves the understanding of the operations.</p>
    <p> Additional informations and source code are available on a GitHub repository. </p>
    <p>
      <bold>Comments</bold>
    </p>
    <p>
      <italic>Major remark :</italic>
    </p>
    <p> The data management could be more explicitely described in the article.</p>
    <p> The data analysis workflow is well described from the data analysis point of view but the usage of SEEK in the NeLS infrastructure is only briefly mentioned. Some additional description on SEEK usage and interest for NeLS users could improve the article.</p>
    <p> In the Figure 1 : there is a mention of "data curation into structured storage". This data curation is not explained in the text and this raises some questions. Is this data curation using SEEK ?</p>
    <p>
      <italic>Minor remarks :</italic>
    </p>
    <p> In the abstract, it is stated that "NeLS is also integrated with the SEEK platform in order to store large data files produced by experiments described in SEEK". This should be rephrased since it gives the impression that the SEEK platform is used to store large data files.</p>
    <p> In the second chapter of the introduction, the flow of ideas is not clear. A comparison is made between BaseSpace, Geneious and SEEK before mentioning GenomeSpace. Why compare BaseSpace, Geneious and SEEK that are tools that do not really compare  since the first two are focused on data analysis and the last on data management? Maybe there could be some rephrasing needed (this could also help to improve the data management focus mentioned in my first comment).</p>
    <p> Concerning BaseSpace and Geneious, it could be less judgemental to say that their service is chargeable instead of expensive. And to say that their platform is private.</p>
    <p> It could be interesting to describe briefly why the GenomeSpace setup could not be adapted.</p>
    <p> In the data reproducibility chapter some reference genomes are made available on the five Galaxy instances. Is it possible to describe how this is achieved and how everything is synced?</p>
    <p> Some quantitative data about the number of users are needed in order to better estimate the community covered.</p>
    <p> In the abstract there is a mention of a "project-oriented fashion". This expression is strange to me. Maybe replacing fashion by way or method or mode?</p>
    <p><italic>Typo </italic>:</p>
    <p> The headlines are numbered and sometimes there is a dot after the number and sometimes not. And they are not numbered in the templates if I am not mistaken.</p>
    <p>  In 2.1 Authentication</p>
    <p>  whether the user is who he claims to be  instead of whether the user is who they</p>
    <p> Page 9 col 1 line 29 : e-infrastructure</p>
    <p> Page 9 col 2 line 15 : some strange font glitches in the pdf file (but not online)</p>
    <p> Page 9 col 2 line 17 : can help in instead of helpin</p>
    <p>I have read this submission. I believe that I have an appropriate level of expertise to confirm that it is of an acceptable scientific standard.</p>
  </body>
</sub-article>
