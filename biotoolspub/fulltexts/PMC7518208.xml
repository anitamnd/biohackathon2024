<?properties open_access?>
<?DTDIdentifier.IdentifierValue -//NLM//DTD Journal Publishing DTD v2.3 20070202//EN?>
<?DTDIdentifier.IdentifierType public?>
<?SourceDTD.DTDName journalpublishing.dtd?>
<?SourceDTD.Version 2.3?>
<?ConverterInfo.XSLTName jp2nlmx2.xsl?>
<?ConverterInfo.Version 1?>
<front>
  <journal-meta>
    <journal-id journal-id-type="nlm-ta">J Pathol Inform</journal-id>
    <journal-id journal-id-type="iso-abbrev">J Pathol Inform</journal-id>
    <journal-id journal-id-type="publisher-id">JPI</journal-id>
    <journal-title-group>
      <journal-title>Journal of Pathology Informatics</journal-title>
    </journal-title-group>
    <issn pub-type="ppub">2229-5089</issn>
    <issn pub-type="epub">2153-3539</issn>
    <publisher>
      <publisher-name>Wolters Kluwer - Medknow</publisher-name>
      <publisher-loc>India</publisher-loc>
    </publisher>
  </journal-meta>
  <article-meta>
    <article-id pub-id-type="pmcid">7518208</article-id>
    <article-id pub-id-type="publisher-id">JPI-11-26</article-id>
    <article-id pub-id-type="doi">10.4103/jpi.jpi_11_20</article-id>
    <article-categories>
      <subj-group subj-group-type="heading">
        <subject>Original Article</subject>
      </subj-group>
    </article-categories>
    <title-group>
      <article-title>LibMI: An Open Source Library for Efficient Histopathological Image Processing</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <name>
          <surname>Dong</surname>
          <given-names>Yuxin</given-names>
        </name>
        <xref ref-type="aff" rid="aff1">1</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Puttapirat</surname>
          <given-names>Pargorn</given-names>
        </name>
        <xref ref-type="aff" rid="aff1">1</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Deng</surname>
          <given-names>Jingyi</given-names>
        </name>
        <xref ref-type="aff" rid="aff1">1</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Zhang</surname>
          <given-names>Xiangrong</given-names>
        </name>
        <xref ref-type="aff" rid="aff2">2</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Li</surname>
          <given-names>Chen</given-names>
        </name>
        <xref ref-type="aff" rid="aff1">1</xref>
        <xref ref-type="corresp" rid="cor1"/>
      </contrib>
    </contrib-group>
    <aff id="aff1"><label>1</label>School of Electronic and Information Engineering, Xi'an Jiaotong University, Xi'an, Shaanxi, China</aff>
    <aff id="aff2"><label>2</label>Institute of Intelligent Information Processing, Xidian University, Xi'an, Shaanxi, China</aff>
    <author-notes>
      <corresp id="cor1"><bold>Address for correspondence:</bold> Prof. Chen Li, School of Electronic and Information Engineering, Xi'an Jiaotong University, Xianning West Road, Xi'an Shaanxi, 710049 China. E-mail: <email xlink:href="cli@xjtu.edu.cn">cli@xjtu.edu.cn</email></corresp>
    </author-notes>
    <pub-date pub-type="collection">
      <year>2020</year>
    </pub-date>
    <pub-date pub-type="epub">
      <day>21</day>
      <month>8</month>
      <year>2020</year>
    </pub-date>
    <volume>11</volume>
    <elocation-id>26</elocation-id>
    <history>
      <date date-type="received">
        <day>15</day>
        <month>2</month>
        <year>2020</year>
      </date>
      <date date-type="rev-recd">
        <day>20</day>
        <month>4</month>
        <year>2020</year>
      </date>
      <date date-type="accepted">
        <day>25</day>
        <month>6</month>
        <year>2020</year>
      </date>
    </history>
    <permissions>
      <copyright-statement>Copyright: Â© 2020 Journal of Pathology Informatics</copyright-statement>
      <copyright-year>2020</copyright-year>
      <license license-type="open-access" xlink:href="http://creativecommons.org/licenses/by-nc-sa/4.0">
        <license-p>This is an open access journal, and articles are distributed under the terms of the Creative Commons Attribution-NonCommercial-ShareAlike 4.0 License, which allows others to remix, tweak, and build upon the work non-commercially, as long as appropriate credit is given and the new creations are licensed under the identical terms.</license-p>
      </license>
    </permissions>
    <abstract>
      <sec id="st1">
        <title>Background:</title>
        <p>Whole-slide images (WSIs) as a kind of image data are rapidly growing in the digital pathology domain. With unusual high resolution, these images make them hard to be supported by conventional tools or file formats. Thus, it obstructs data sharing and automated analysis. Here, we propose a library, LibMI, along with its open and standardized image file format. They can be used together to efficiently read, write, modify, and annotate large images.</p>
      </sec>
      <sec id="st2">
        <title>Materials and Methods:</title>
        <p>LibMI utilizes the concept of pyramid image structure and lazy propagation from a segment tree algorithm to support reading and modifying and to guarantee that both operations have linear time complexity. Further, a cache mechanism was introduced to speed up the program.</p>
      </sec>
      <sec id="st3">
        <title>Results:</title>
        <p>LibMI is an open and efficient library for histopathological image processing. To demonstrate its functions, we applied it to several tasks including image thresholding, microscopic color correction, and storing pixel-wise information on WSIs. The result shows that libMI is particularly suitable for modifying large images. Furthermore, compared with congeneric libraries and file formats, libMI and modifiable multiscale image (MMSI) run 18.237 times faster on read-only tasks.</p>
      </sec>
      <sec id="st4">
        <title>Conclusions:</title>
        <p>The combination of libMI library and MMSI file format enables developers to efficiently read and modify WSIs, thus can assist in pixel-wise image processing on extremely large images to promote building image processing pipeline. The library together with the data schema is freely available on GitLab: <ext-link ext-link-type="uri" xlink:href="https://gitlab.com/BioAI/libMI">https://gitlab.com/BioAI/libMI</ext-link>.</p>
      </sec>
    </abstract>
    <kwd-group>
      <kwd>Extremely large image</kwd>
      <kwd>image processing</kwd>
      <kwd>open format</kwd>
      <kwd>whole-slide image</kwd>
    </kwd-group>
  </article-meta>
</front>
<body>
  <sec sec-type="intro" id="sec1-1">
    <title>I<sc>NTRODUCTION</sc></title>
    <p>Digitizing pathology requires biomedical informatic tools which could facilitate storage and delivery of visual data which pathologists usually observe via a light microscope. The current challenge is that conventional image file systems cannot support the wide range of functionalities required for reading and writing of extremely large images. Over the last decade, the presence of whole-slide images (WSIs) in digital pathology drives the development of various open and proprietary file formats and tools. In 2013, introduction of OpenSlide[<xref rid="ref1" ref-type="bibr">1</xref>] marks the establishment of mainstream file formats, which has been widely adopted to store histopathological images, and becomes a <italic>de facto</italic> standard in digital pathology. Nevertheless, to our knowledge, none of the files readable by OpenSlide and other file formats offer ways to modify existing files and create a new one. A typical uncompressed WSI with full resolution can range between 1 and 20 GB in file size,[<xref rid="ref2" ref-type="bibr">2</xref><xref rid="ref3" ref-type="bibr">3</xref>] and a typical compressed WSI may easily take 1 GB of storage.[<xref rid="ref4" ref-type="bibr">4</xref>] The monstrous file size makes them relatively slow to process using conventional techniques. This tremendously increases computational burden and causes difficulties in providing holistic features for intelligent software. Thus, currently there are still limitations to modify WSIs. It remains to be a technical bottleneck obstructing data scientists to fully exploit the information and potentials in these images.[<xref rid="ref5" ref-type="bibr">5</xref>]</p>
    <p>The existing solutions separate a WSI into a number of smaller tiles using read-only libraries, e.g., OpenSlide[<xref rid="ref1" ref-type="bibr">1</xref>] or Bio-Formats,[<xref rid="ref6" ref-type="bibr">6</xref>] before processing by conventional image processing tools and libraries, e.g., OpenCV and Sci-kit image.[<xref rid="ref7" ref-type="bibr">7</xref><xref rid="ref8" ref-type="bibr">8</xref><xref rid="ref9" ref-type="bibr">9</xref><xref rid="ref10" ref-type="bibr">10</xref><xref rid="ref11" ref-type="bibr">11</xref>] Due to extremely large file size and image dimension, it is difficult to efficiently access WSIs while maintaining a decent reading and especially modifying speed. Furthermore, these images have different proprietary formats created by different WSI scanner vendors,[<xref rid="ref1" ref-type="bibr">1</xref>] e.g., Aperio (.svs,.tif) and Hamamatsu (.vms,.vmu,.ndpi). Each vendor provides a proprietary software to view the WSIs generated by its own scanners. The existence of proprietary file formats and software for viewing and analyzing presents three problems. First, the file formats directly obstruct free data sharing and curation of open data in this domain. Second, the proprietary viewing and analysis software prevents the development of general analysis pipelines which can be modified for different purposes. They also cannot be extended by existing open source image processing libraries. Third, the <italic>ad hoc</italic> solutions cannot support easy reuse of existing annotations and the interoperation between analysis software.[<xref rid="ref12" ref-type="bibr">12</xref><xref rid="ref13" ref-type="bibr">13</xref>] Large image processing lacks an universal and comprehensive solution.</p>
    <p>In this paper, we present libMI, an open source multiscale image library for manipulating WSIs. It is compatible with all proprietary WSI file formats and can read, write, and modify extremely large multiscale images at any resolutions. It also supports both pixel-wise geometrical and semantic annotations, e.g., regional boundaries and cancer grading in histopathological images. Along with the library, we present an open format called modifiable multiscale image (MMSI) to store large images based on SQLite with the library to access this format. Seamlessly working with libMI, the novel format supports efficient regional modification of extremely large images without the necessity of updating the entire image or cutting the image to tiles. The library works as a robust and efficient abstract layer for the proposed data format, and this is the first efficient implementation of reading and writing WSIs, thus can be used to enhance performance of relevant libraries or standards.[<xref rid="ref14" ref-type="bibr">14</xref><xref rid="ref15" ref-type="bibr">15</xref><xref rid="ref16" ref-type="bibr">16</xref>] Note that the library is not limited to WSIs but also capable to deal with large images in other domains, such as satellite and high-resolution panoramic images. The library and file format focus on a frequently encountered problem in image analysis, especially those artificial intelligent (AI) systems of computer vision in all domains.</p>
  </sec>
  <sec sec-type="methods" id="sec1-2">
    <title>M<sc>ATERIALS AND</sc> M<sc>ETHODS</sc></title>
    <sec id="sec2-1">
      <title>The libMI library</title>
      <p>LibMI was designed to read, write, modify, and annotate the WSI files. It treats each WSI file as a libMI project, which includes original image, labeling matrix, labeling table, and meta-data, as shown in <xref ref-type="fig" rid="F1">Figure 1</xref>. The mentioned objects would be saved as a folder with relevant files in it to provide portability and interoperability. Currently, we are using OpenSlide to read the image data from various proprietary digital slides, and further, modification can be made to support other large image formats such as DICOM, while hiding the working details of complex low-level systems, such as the organization of the data structure and the algorithms to process these data from the user.</p>
      <fig id="F1" position="float">
        <label>Figure 1</label>
        <caption>
          <p>The libMI project organization. Each project contains three components: (1) Whole-slide image data which include the original whole-slide image file and the labeling table stored in an SQLite file, (2) annotations which include geometrical annotations and pixel-wise semantic annotation labeling matrix stored in an modifiable multi-scale image file, and (3) related data which include the image meta-data stored in a JSON file</p>
        </caption>
        <graphic xlink:href="JPI-11-26-g001"/>
      </fig>
      <p>The library stores all important information in a single JSON file, which is a lightweight, text-based, language-independent data-interchange format for the portable representation of structured data.[<xref rid="ref17" ref-type="bibr">17</xref>] This file contains all parameters needed to process the image, as well as image meta-data which are the properties of the original WSI file. Most vendors provide WSI files that contain various properties, such as the number of down-sampled layers, available z-stack layers, and scanning resolution. LibMI provides public Application Programming Interface (APIs) to access existing properties and add new properties, which can be useful when new meta-data must be saved.</p>
      <p>The labeling matrix is stored in the MMSI open format that we proposed in this paper and is managed by our underlying library, which is based on the standardized SQLite schema. The matrix has the same dimension as the main image, with each pixel in the matrix describing which region each pixel belongs to with a unique ID number. Pixels with the same value can be recognized as being in the same region even though they may not be connected.</p>
      <p>Labeling table contains the definition of each matrix region which is linked by ID number. Since there could be billions of different regions, the labeling table is also divided into smaller sections, compressed by the DEFLATE algorithm, and saved as blobs in SQLite. The blobs are dynamically created when needed to save disk space. The possible value in the labeling table is up to 255 for every region ID.</p>
      <p>Intuitively, the proposed mechanism that incorporates MMSI labeling matrix with labeling table may seem to be redundant. Nevertheless, it is proposed to provide both efficiency and flexibility since MMSI matrix is strictly structured for read and write speed, and labeling table allows changes in the number of categories and addition in the description of each region. The combination of the labeling matrix and the labeling table provides the capability to annotate regions of any shape on the image and to give each region a corresponding label. Since the files in libMI projects are all standardized, including only SQLite and JSON, it is compatible with libraries or tools to directly access the project's data without the libMI library.</p>
    </sec>
    <sec id="sec2-2">
      <title>The modifiable multiscale image file format</title>
      <p>Since existing file formats cannot accommodate dynamically changing and complex data as needed in the WSIs, we propose MMSI which is an open file format to store extremely large images. It works with libMI library to store labeling matrices to support pixel-wise annotation. It can also store the WSI files to give high-efficiency read, write, and modify access of these images. MMSI stores images as a tile-based pyramidal structure, containing several layers with different sizes. The lowest layer has the same dimension as the original image, and the following adjacent layer has half of both the width and height of the previous layer. Every 2 Ã 2 tiles in one layer can be directly mapped to a single tile in the upper layer as depicted in <xref ref-type="fig" rid="F2">Figure 2a</xref>. Each layer is divided into tiles with the method as shown in <xref ref-type="fig" rid="F2">Figure 2b</xref>. Each single tile is stored as a blob in SQLite (<ext-link ext-link-type="uri" xlink:href="https://www.sqlite.org/">https://www.sqlite.org/</ext-link>). MMSI can use PNG or JPG format as the internal compression method, which is selected by the user.</p>
      <fig id="F2" position="float">
        <label>Figure 2</label>
        <caption>
          <p>Tiling mechanism of modifiable multiscale image. (a) 2 Ã 2 tiles in a higher layer can be directly mapped to one tile in the lower layer. (b) The schematic diagram of tiling method of a layer in the pyramid</p>
        </caption>
        <graphic xlink:href="JPI-11-26-g002"/>
      </fig>
      <p>Currently, the ability of MMSI format to partially modify large images is only used to make pixel-wise annotation, which is the main feature provided by libMI. Actually, this ability can benefit any process that requires modifications of data in large images, including general image preprocessing, noise reduction, image enhancement, and color value correction.</p>
    </sec>
    <sec id="sec2-3">
      <title>Underlying algorithms of modifiable multiscale image</title>
      <sec id="sec3-1">
        <title>Forward updating and backward updating</title>
        <p>To efficiently read and modify the images, we utilize the concept of two-dimensional segment tree and lazy propagation to minimize the calculation complexity. Each tile in the pyramid can be treated as a node on the tree, and each node has up to four children. Reading and modifying the tiles are the same as making queries and modifications. In this way, we can guarantee the upper limit of the number of tiles visited in each operation.</p>
        <p>Forward updating and backward updating are the two essential operations in the processing algorithms. The former one means passing the modification from one node to its children and resetting the lazy value, while another one means passing the modification from the node's children to itself. The time complexity of both operations is O (1).</p>
      </sec>
    </sec>
    <sec id="sec2-4">
      <title>Reading and modifying the image</title>
      <p>Since WSIs are very large, it is impossible to load the whole image into the memory, so only parts of the image would be accessed by the library. In different situations, one may need to get a thumbnail of the whole image or get detailed information in a small region. The resolution of region of interest (ROI) varies significantly in these two cases, but the actual resolutions the users need are limited by viewing hardware â computer displays. The concept of pyramid image is exploited to minimize the amount of data needed to read from hard disks.</p>
      <p>For each reading or modifying operation, two input parameters are required: A ROI to operate, and the actual resolution needed. Then, the appropriate downsample ratio (DSR) will be automatically calculated. Each layer has its own DSR, and the algorithm selects the preferred layer from them according to the following criterion: the layer with the highest DSR but still lower than the one requested by the user. In this way, we could get the output image with virtually no quality loss and guarantee the complexity to be minimized.</p>
      <p>Reading and modifying arbitrary regions of the labeling matrix are the two main operations provided by the MMSI processing library. After selecting the preferred layer, the system starts from the top layer which has the lowest resolution. Forward updating is applied to every tile in the top layer. Iterating through each above the preferred layer, both operations would have the linear complexity of O (4 n/3). <xref ref-type="fig" rid="F3">Figure 3</xref> shows the schematic diagram.</p>
      <fig id="F3" position="float">
        <label>Figure 3</label>
        <caption>
          <p>Schematic diagram of a reading or modifying operation. (a) Region of interest in the pyramid structure. (b) Region of interest in the preferred layer. (c) Tiles in region of interest needed to be accessed in this operation. (d) Tiles in region of interest but irrelevant to this operation</p>
        </caption>
        <graphic xlink:href="JPI-11-26-g003"/>
      </fig>
      <p>In both operations, forward updating needs to be applied to the lazy valued tiles before accessing matrix data in the ROI. All lazy valued tiles which are in the ROI and above the preferred layer as the colored regions as shown in <xref ref-type="fig" rid="F3">Figure 3a</xref> will be updated. Then, according to the type of requested operation, the algorithm will either read image data from the preferred layer or overwrite image data in the preferred layer.</p>
      <p>Modifying operation requires extra steps. The mechanism of lazy propagation can only guarantee that the modifications applied to higher layers are passed to lower layers. To update modifications in the opposite direction, backward updating is applied to all tiles in the green regions layer by layer from the bottom to the top after red regions as shown in <xref ref-type="fig" rid="F3">Figure 3b</xref> have been modified in each modifying operation.</p>
    </sec>
    <sec id="sec2-5">
      <title>The caching mechanism</title>
      <p>The bottleneck between the memory and the SQL database is caused by intensive compression and read and write operations. To alleviate the bottleneck, libMI records the times that each tile has been visited and uses a priority queue to determine which tile should be removed from cache, according to the Least Frequently Used Strategy. Size of the cache can be changed at runtime via libMI API to adjust the balance between memory occupation and processing speed.</p>
    </sec>
    <sec id="sec2-6">
      <title>Parallel processing</title>
      <p>LibMI supports parallel processing in each operation. Unlike OpenSlide and Bio-Formats that require developers to use multithreads explicitly by themselves, libMI hides all implementation details from users and allows them to access the file in a serial manner, as well as gain benefit from a parallel processing mechanism provided by libMI.</p>
    </sec>
  </sec>
  <sec sec-type="results" id="sec1-3">
    <title>R<sc>ESULTS</sc></title>
    <sec id="sec2-7">
      <title>Overview</title>
      <p>The proposed library, libMI, is capable of manipulating extremely large images and compatible with all OpenSlide-compatible WSI files,[<xref rid="ref1" ref-type="bibr">1</xref>] regardless of hardware limitations. It supports instantaneous reading, writing, and modifying image data of any region in any resolution without being forced to cut image into tiles or update an entire image and also recording pixel-wise geometrical and semantic annotations, such as cancer subtypes or gradings. It is written in C++ and also officially provides public standardized programmatic APIs for Python. We analyzed the upper limit of time complexity in each operation, which will take no more than 800 ms in normal scenarios when the processing resolution does not exceed 10 megapixels, which is more than resolution needed to fill 4K computer displays at 8.3 megapixels. LibMI could be used on different platforms including Linux, macOS, and Windows. Along with the libMI library, MMSI is the open format we proposed which is capable of storing any kind of large images with any resolution. LibMI and MMSI are both free and open source. The proposed open data format is built on other open formats including SQLite for the storage of large multiscale images and JSON for accompanying information about the WSI; thus, it can be accessed via not only libMI but also other tools as well. More information about the guideline and the openness is at libMI documentation: <ext-link ext-link-type="uri" xlink:href="https://bioai.gitlab.io/libMI-docs/">https://bioai.gitlab.io/libMI-docs/</ext-link>.</p>
    </sec>
    <sec id="sec2-8">
      <title>Performance</title>
      <p>The library is tested on an Intel Core i7-9750H CPU (2.60 GHz) with 16 GB RAM and 1 TB SSD under Windows 10 Operating System. We select four WSIs from The Cancer Genome Atlas (TCGA) with different dimensions to show the performance of MMSI processing different file sizes.[<xref rid="ref18" ref-type="bibr">18</xref>] <xref rid="T1" ref-type="table">Table 1</xref> shows the files used and their sizes, including the original WSI file, the file after converting to MMSI with JPG and PNG internal compression method, respectively, and the total size of all image tiles exported from the WSI saved in PNG format. It shows that MMSI using JPG compression method is slightly larger than the original file, while MMSI using PNG compression method is significantly larger. Therefore, MMSI using JPG is more suitable to store WSIs for read-only access after preprocessing, and MMSI using PNG is more suitable to store pixel-wise annotation data as these data are easier to compress. The time spent to convert a WSI into MMSI is listed in <xref rid="T2" ref-type="table">Table 2</xref>. When converting, image data are read and uncompressed by OpenSlide and then compressed again and written into MMSI tile by tile.</p>
      <table-wrap id="T1" position="float">
        <label>Table 1</label>
        <caption>
          <p>Whole-slide images files used in performance testing and their sizes in megabytes</p>
        </caption>
        <table frame="hsides" rules="groups">
          <thead>
            <tr>
              <th align="left" rowspan="1" colspan="1">ID</th>
              <th align="center" rowspan="1" colspan="1">File name</th>
              <th align="center" rowspan="1" colspan="1">Original</th>
              <th align="center" rowspan="1" colspan="1">MMSI (JPG)</th>
              <th align="center" rowspan="1" colspan="1">MMSI (PNG)</th>
              <th align="center" rowspan="1" colspan="1">Raw PNG</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="left" rowspan="1" colspan="1">1</td>
              <td align="center" rowspan="1" colspan="1">TCGA-BP-5201-01Z-00-DX1</td>
              <td align="center" rowspan="1" colspan="1">337</td>
              <td align="center" rowspan="1" colspan="1">557</td>
              <td align="center" rowspan="1" colspan="1">7649</td>
              <td align="center" rowspan="1" colspan="1">7640</td>
            </tr>
            <tr>
              <td align="left" rowspan="1" colspan="1">2</td>
              <td align="center" rowspan="1" colspan="1">TCGA-BP-4771-01Z-00-DX1</td>
              <td align="center" rowspan="1" colspan="1">806</td>
              <td align="center" rowspan="1" colspan="1">966</td>
              <td align="center" rowspan="1" colspan="1">12,173</td>
              <td align="center" rowspan="1" colspan="1">12,136</td>
            </tr>
            <tr>
              <td align="left" rowspan="1" colspan="1">3</td>
              <td align="center" rowspan="1" colspan="1">TCGA-B0-5098-01Z-00-DX1</td>
              <td align="center" rowspan="1" colspan="1">1034</td>
              <td align="center" rowspan="1" colspan="1">1346</td>
              <td align="center" rowspan="1" colspan="1">16,089</td>
              <td align="center" rowspan="1" colspan="1">15,998</td>
            </tr>
            <tr>
              <td align="left" rowspan="1" colspan="1">4</td>
              <td align="center" rowspan="1" colspan="1">TCGA-BP-4176-01Z-00-DX1</td>
              <td align="center" rowspan="1" colspan="1">1174</td>
              <td align="center" rowspan="1" colspan="1">1496</td>
              <td align="center" rowspan="1" colspan="1">18,450</td>
              <td align="center" rowspan="1" colspan="1">18,168</td>
            </tr>
          </tbody>
        </table>
        <table-wrap-foot>
          <fn>
            <p>MMSI: Modifiable multiscale image</p>
          </fn>
        </table-wrap-foot>
      </table-wrap>
      <table-wrap id="T2" position="float">
        <label>Table 2</label>
        <caption>
          <p>Time spent to convert whole-slide images into modifiable multiscale images in seconds (s)</p>
        </caption>
        <table frame="hsides" rules="groups">
          <thead>
            <tr>
              <th align="left" rowspan="1" colspan="1">ID</th>
              <th align="center" rowspan="1" colspan="1">File name</th>
              <th align="center" rowspan="1" colspan="1">MMSI (JPG)</th>
              <th align="center" rowspan="1" colspan="1">MMSI (PNG)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="left" rowspan="1" colspan="1">1</td>
              <td align="center" rowspan="1" colspan="1">TCGA-BP-5201-01Z-00-DX1</td>
              <td align="center" rowspan="1" colspan="1">534</td>
              <td align="center" rowspan="1" colspan="1">664</td>
            </tr>
            <tr>
              <td align="left" rowspan="1" colspan="1">2</td>
              <td align="center" rowspan="1" colspan="1">TCGA-BP-4771-01Z-00-DX1</td>
              <td align="center" rowspan="1" colspan="1">753</td>
              <td align="center" rowspan="1" colspan="1">1036</td>
            </tr>
            <tr>
              <td align="left" rowspan="1" colspan="1">3</td>
              <td align="center" rowspan="1" colspan="1">TCGA-B0-5098-01Z-00-DX1</td>
              <td align="center" rowspan="1" colspan="1">1258</td>
              <td align="center" rowspan="1" colspan="1">1802</td>
            </tr>
            <tr>
              <td align="left" rowspan="1" colspan="1">4</td>
              <td align="center" rowspan="1" colspan="1">TCGA-BP-4176-01Z-00-DX1</td>
              <td align="center" rowspan="1" colspan="1">1082</td>
              <td align="center" rowspan="1" colspan="1">1477</td>
            </tr>
          </tbody>
        </table>
        <table-wrap-foot>
          <fn>
            <p>MMSI: Modifiable multiscale image</p>
          </fn>
        </table-wrap-foot>
      </table-wrap>
      <p><xref ref-type="fig" rid="F4">Figure 4</xref> shows the relationship between the required resolution and processing time of both the reading and modifying operations accessing an MMSI file using PNG compression with a typical WSI dimension (80,000, 80,000). It shows the performance when running with cache size of 4000 tiles, or 1 GB of RAM. In normal circumstances where the number of pixels processed does not exceed 10 megapixels, the processing time is at most around 800 ms. Note that in some circumstances, the processing time of reading operations can exceed that of modifying ones. It is because of the utilization of lazy propagation so that modifications applied do not take effect immediately, while the results are still guaranteed to be correct. In these experiments, reading or modifying regions are randomly selected, and in real-world scenarios, the regions are likely to be continuous,[<xref rid="ref19" ref-type="bibr">19</xref>] so the cache mechanism will be utilized to gain even higher performance.</p>
      <fig id="F4" position="float">
        <label>Figure 4</label>
        <caption>
          <p>Processing time of libMI with cache size 16,000. X-axis is the requested resolution (megapixels) and Y-axis is the processing time (ms)</p>
        </caption>
        <graphic xlink:href="JPI-11-26-g004"/>
      </fig>
      <p>Besides the capability of efficiently modifying WSIs, which is not supported by any other tools, libMI can also achieve higher performance when providing read-only access to WSIs compared to congeneric software. The library is tested to perform read-only tasks on the four WSI files from TCGA, and the processing time is compared with other two WSI reading libraries: OpenSlide and Bio-Formats.[<xref rid="ref1" ref-type="bibr">1</xref><xref rid="ref6" ref-type="bibr">6</xref>] We randomly generated 100 reading requests for each WSI file and tested the speed using libMI to read MMSI files converted from proprietary files, as well as using OpenSlide and Bio-Formats to read these original files. We tested the performance of MMSI with different compression methods, different cache sizes, and different number of threads.</p>
      <p>The average reading speed for each WSI file is recorded in Tables <xref rid="T3" ref-type="table">3</xref> and <xref rid="T4" ref-type="table">4</xref>. The result shows that MMSI using PNG is 18.237 times faster than OpenSlide and 32.473 times faster than Bio-Formats in average, and MMSI using JPG is 40.621 times faster than OpenSlide and 70.921 times faster than Bio-Formats in average, while doing the same reading job. LibMI and MMSI together have gained significant speed advantage over congeneric libraries and file formats.</p>
      <table-wrap id="T3" position="float">
        <label>Table 3</label>
        <caption>
          <p>Average processing speed in megapixels and equivalent megabytes with different cache sizes</p>
        </caption>
        <table frame="hsides" rules="groups">
          <thead>
            <tr>
              <th align="left" rowspan="3" colspan="1">WSI ID Cache</th>
              <th align="center" colspan="2" rowspan="1">1</th>
              <th align="center" colspan="2" rowspan="1">2</th>
              <th align="center" colspan="2" rowspan="1">3</th>
              <th align="center" colspan="2" rowspan="1">4</th>
            </tr>
            <tr>
              <th align="left" colspan="2" rowspan="1">
                <hr/>
              </th>
              <th align="left" colspan="2" rowspan="1">
                <hr/>
              </th>
              <th align="left" colspan="2" rowspan="1">
                <hr/>
              </th>
              <th align="left" colspan="2" rowspan="1">
                <hr/>
              </th>
            </tr>
            <tr>
              <th align="center" rowspan="1" colspan="1">PNG</th>
              <th align="center" rowspan="1" colspan="1">JPG</th>
              <th align="center" rowspan="1" colspan="1">PNG</th>
              <th align="center" rowspan="1" colspan="1">JPG</th>
              <th align="center" rowspan="1" colspan="1">PNG</th>
              <th align="center" rowspan="1" colspan="1">JPG</th>
              <th align="center" rowspan="1" colspan="1">PNG</th>
              <th align="center" rowspan="1" colspan="1">JPG</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="left" rowspan="1" colspan="1">0</td>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
            </tr>
            <tr>
              <td align="left" rowspan="1" colspan="1">âMP/s</td>
              <td align="center" rowspan="1" colspan="1">273.67</td>
              <td align="center" rowspan="1" colspan="1">288.26</td>
              <td align="center" rowspan="1" colspan="1">222.50</td>
              <td align="center" rowspan="1" colspan="1">410.84</td>
              <td align="center" rowspan="1" colspan="1">242.82</td>
              <td align="center" rowspan="1" colspan="1">512.50</td>
              <td align="center" rowspan="1" colspan="1">226.30</td>
              <td align="center" rowspan="1" colspan="1">496.30</td>
            </tr>
            <tr>
              <td align="left" rowspan="1" colspan="1">âMB/s</td>
              <td align="center" rowspan="1" colspan="1">1094.70</td>
              <td align="center" rowspan="1" colspan="1">1153.04</td>
              <td align="center" rowspan="1" colspan="1">889.99</td>
              <td align="center" rowspan="1" colspan="1">1643.37</td>
              <td align="center" rowspan="1" colspan="1">971.28</td>
              <td align="center" rowspan="1" colspan="1">2050.00</td>
              <td align="center" rowspan="1" colspan="1">905.20</td>
              <td align="center" rowspan="1" colspan="1">1985.20</td>
            </tr>
            <tr>
              <td align="left" rowspan="1" colspan="1">1GB</td>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
            </tr>
            <tr>
              <td align="left" rowspan="1" colspan="1">âMP/s</td>
              <td align="center" rowspan="1" colspan="1">389.45</td>
              <td align="center" rowspan="1" colspan="1">925.91</td>
              <td align="center" rowspan="1" colspan="1">569.69</td>
              <td align="center" rowspan="1" colspan="1">1419.40</td>
              <td align="center" rowspan="1" colspan="1">740.15</td>
              <td align="center" rowspan="1" colspan="1">1291.23</td>
              <td align="center" rowspan="1" colspan="1">534.89</td>
              <td align="center" rowspan="1" colspan="1">1382.45</td>
            </tr>
            <tr>
              <td align="left" rowspan="1" colspan="1">âMB/s</td>
              <td align="center" rowspan="1" colspan="1">1557.79</td>
              <td align="center" rowspan="1" colspan="1">3703.64</td>
              <td align="center" rowspan="1" colspan="1">2278.75</td>
              <td align="center" rowspan="1" colspan="1">5677.60</td>
              <td align="center" rowspan="1" colspan="1">2960.61</td>
              <td align="center" rowspan="1" colspan="1">5164.92</td>
              <td align="center" rowspan="1" colspan="1">2139.57</td>
              <td align="center" rowspan="1" colspan="1">5529.81</td>
            </tr>
            <tr>
              <td align="left" rowspan="1" colspan="1">2GB</td>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
            </tr>
            <tr>
              <td align="left" rowspan="1" colspan="1">âMP/s</td>
              <td align="center" rowspan="1" colspan="1">534.82</td>
              <td align="center" rowspan="1" colspan="1">979.34</td>
              <td align="center" rowspan="1" colspan="1">645.73</td>
              <td align="center" rowspan="1" colspan="1">1589.59</td>
              <td align="center" rowspan="1" colspan="1">903.00</td>
              <td align="center" rowspan="1" colspan="1">1497.12</td>
              <td align="center" rowspan="1" colspan="1">893.28</td>
              <td align="center" rowspan="1" colspan="1">1458.06</td>
            </tr>
            <tr>
              <td align="left" rowspan="1" colspan="1">âMB/s</td>
              <td align="center" rowspan="1" colspan="1">2139.29</td>
              <td align="center" rowspan="1" colspan="1">3917.34</td>
              <td align="center" rowspan="1" colspan="1">2582.92</td>
              <td align="center" rowspan="1" colspan="1">6358.37</td>
              <td align="center" rowspan="1" colspan="1">3612.00</td>
              <td align="center" rowspan="1" colspan="1">5988.47</td>
              <td align="center" rowspan="1" colspan="1">3573.13</td>
              <td align="center" rowspan="1" colspan="1">5832.23</td>
            </tr>
            <tr>
              <td align="left" rowspan="1" colspan="1">4GB</td>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
              <td align="center" rowspan="1" colspan="1"/>
            </tr>
            <tr>
              <td align="left" rowspan="1" colspan="1">âMP/s</td>
              <td align="center" rowspan="1" colspan="1">630.23</td>
              <td align="center" rowspan="1" colspan="1">1003.07</td>
              <td align="center" rowspan="1" colspan="1">813.11</td>
              <td align="center" rowspan="1" colspan="1">1729.14</td>
              <td align="center" rowspan="1" colspan="1">1074.34</td>
              <td align="center" rowspan="1" colspan="1">1629.58</td>
              <td align="center" rowspan="1" colspan="1">1226.28</td>
              <td align="center" rowspan="1" colspan="1">1608.21</td>
            </tr>
            <tr>
              <td align="left" rowspan="1" colspan="1">âMB/s</td>
              <td align="center" rowspan="1" colspan="1">2520.91</td>
              <td align="center" rowspan="1" colspan="1">4012.26</td>
              <td align="center" rowspan="1" colspan="1">3252.42</td>
              <td align="center" rowspan="1" colspan="1">6916.58</td>
              <td align="center" rowspan="1" colspan="1">4297.37</td>
              <td align="center" rowspan="1" colspan="1">6518.32</td>
              <td align="center" rowspan="1" colspan="1">4905.10</td>
              <td align="center" rowspan="1" colspan="1">6432.83</td>
            </tr>
          </tbody>
        </table>
        <table-wrap-foot>
          <fn>
            <p>MP/s: Megapixels, MB/s: Megabytes, WSI: Whole-slide images</p>
          </fn>
        </table-wrap-foot>
      </table-wrap>
      <table-wrap id="T4" position="float">
        <label>Table 4</label>
        <caption>
          <p>Average processing speed in megapixels and equivalent megabytes with different thread numbers</p>
        </caption>
        <table frame="hsides" rules="groups">
          <thead>
            <tr>
              <th align="left" colspan="2" rowspan="1">Number of threads</th>
              <th align="center" colspan="2" rowspan="1">1</th>
              <th align="center" colspan="2" rowspan="1">2</th>
              <th align="center" colspan="2" rowspan="1">4</th>
              <th align="center" colspan="2" rowspan="1">8</th>
            </tr>
            <tr>
              <th align="left" colspan="2" rowspan="1">
                <hr/>
              </th>
              <th align="left" colspan="2" rowspan="1">
                <hr/>
              </th>
              <th align="left" colspan="2" rowspan="1">
                <hr/>
              </th>
              <th align="left" colspan="2" rowspan="1">
                <hr/>
              </th>
              <th align="left" colspan="2" rowspan="1">
                <hr/>
              </th>
            </tr>
            <tr>
              <th align="left" rowspan="1" colspan="1">Method</th>
              <th align="center" rowspan="1" colspan="1">WSI ID</th>
              <th align="center" rowspan="1" colspan="1">MP/s</th>
              <th align="center" rowspan="1" colspan="1">MB/s</th>
              <th align="center" rowspan="1" colspan="1">MP/s</th>
              <th align="center" rowspan="1" colspan="1">MB/s</th>
              <th align="center" rowspan="1" colspan="1">MP/s</th>
              <th align="center" rowspan="1" colspan="1">MB/s</th>
              <th align="center" rowspan="1" colspan="1">MP/s</th>
              <th align="center" rowspan="1" colspan="1">MB/s</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="left" rowspan="4" colspan="1">MMSI (PNG)</td>
              <td align="center" rowspan="1" colspan="1">1</td>
              <td align="center" rowspan="1" colspan="1">120.83</td>
              <td align="center" rowspan="1" colspan="1">483.33</td>
              <td align="center" rowspan="1" colspan="1">214.24</td>
              <td align="center" rowspan="1" colspan="1">856.95</td>
              <td align="center" rowspan="1" colspan="1">395.04</td>
              <td align="center" rowspan="1" colspan="1">1580.18</td>
              <td align="center" rowspan="1" colspan="1">630.23</td>
              <td align="center" rowspan="1" colspan="1">2520.91</td>
            </tr>
            <tr>
              <td align="center" rowspan="1" colspan="1">2</td>
              <td align="center" rowspan="1" colspan="1">212.63</td>
              <td align="center" rowspan="1" colspan="1">850.53</td>
              <td align="center" rowspan="1" colspan="1">346.30</td>
              <td align="center" rowspan="1" colspan="1">1385.22</td>
              <td align="center" rowspan="1" colspan="1">671.24</td>
              <td align="center" rowspan="1" colspan="1">2684.94</td>
              <td align="center" rowspan="1" colspan="1">813.11</td>
              <td align="center" rowspan="1" colspan="1">3252.42</td>
            </tr>
            <tr>
              <td align="center" rowspan="1" colspan="1">3</td>
              <td align="center" rowspan="1" colspan="1">250.97</td>
              <td align="center" rowspan="1" colspan="1">1003.89</td>
              <td align="center" rowspan="1" colspan="1">485.30</td>
              <td align="center" rowspan="1" colspan="1">1941.20</td>
              <td align="center" rowspan="1" colspan="1">726.84</td>
              <td align="center" rowspan="1" colspan="1">2907.35</td>
              <td align="center" rowspan="1" colspan="1">1074.34</td>
              <td align="center" rowspan="1" colspan="1">4297.37</td>
            </tr>
            <tr>
              <td align="center" rowspan="1" colspan="1">4</td>
              <td align="center" rowspan="1" colspan="1">238.58</td>
              <td align="center" rowspan="1" colspan="1">954.30</td>
              <td align="center" rowspan="1" colspan="1">365.88</td>
              <td align="center" rowspan="1" colspan="1">1463.51</td>
              <td align="center" rowspan="1" colspan="1">660.27</td>
              <td align="center" rowspan="1" colspan="1">2641.08</td>
              <td align="center" rowspan="1" colspan="1">1226.28</td>
              <td align="center" rowspan="1" colspan="1">4905.10</td>
            </tr>
            <tr>
              <td align="left" rowspan="4" colspan="1">MMSI (JPG)</td>
              <td align="center" rowspan="1" colspan="1">1</td>
              <td align="center" rowspan="1" colspan="1">231.51</td>
              <td align="center" rowspan="1" colspan="1">926.03</td>
              <td align="center" rowspan="1" colspan="1">368.04</td>
              <td align="center" rowspan="1" colspan="1">1472.18</td>
              <td align="center" rowspan="1" colspan="1">872.20</td>
              <td align="center" rowspan="1" colspan="1">3488.78</td>
              <td align="center" rowspan="1" colspan="1">1003.07</td>
              <td align="center" rowspan="1" colspan="1">4012.26</td>
            </tr>
            <tr>
              <td align="center" rowspan="1" colspan="1">2</td>
              <td align="center" rowspan="1" colspan="1">337.04</td>
              <td align="center" rowspan="1" colspan="1">1348.18</td>
              <td align="center" rowspan="1" colspan="1">688.40</td>
              <td align="center" rowspan="1" colspan="1">2753.60</td>
              <td align="center" rowspan="1" colspan="1">1233.98</td>
              <td align="center" rowspan="1" colspan="1">4935.93</td>
              <td align="center" rowspan="1" colspan="1">1729.14</td>
              <td align="center" rowspan="1" colspan="1">6916.58</td>
            </tr>
            <tr>
              <td align="center" rowspan="1" colspan="1">3</td>
              <td align="center" rowspan="1" colspan="1">407.96</td>
              <td align="center" rowspan="1" colspan="1">1631.84</td>
              <td align="center" rowspan="1" colspan="1">782.38</td>
              <td align="center" rowspan="1" colspan="1">3129.52</td>
              <td align="center" rowspan="1" colspan="1">1307.79</td>
              <td align="center" rowspan="1" colspan="1">5231.14</td>
              <td align="center" rowspan="1" colspan="1">1629.58</td>
              <td align="center" rowspan="1" colspan="1">6518.32</td>
            </tr>
            <tr>
              <td align="center" rowspan="1" colspan="1">4</td>
              <td align="center" rowspan="1" colspan="1">375.96</td>
              <td align="center" rowspan="1" colspan="1">1503.84</td>
              <td align="center" rowspan="1" colspan="1">659.43</td>
              <td align="center" rowspan="1" colspan="1">2637.72</td>
              <td align="center" rowspan="1" colspan="1">1393.99</td>
              <td align="center" rowspan="1" colspan="1">5575.98</td>
              <td align="center" rowspan="1" colspan="1">1608.21</td>
              <td align="center" rowspan="1" colspan="1">6432.83</td>
            </tr>
            <tr>
              <td align="left" rowspan="4" colspan="1">OpenSlide</td>
              <td align="center" rowspan="1" colspan="1">1</td>
              <td align="center" rowspan="1" colspan="1">10.81</td>
              <td align="center" rowspan="1" colspan="1">43.24</td>
              <td align="center" rowspan="1" colspan="1">20.82</td>
              <td align="center" rowspan="1" colspan="1">83.28</td>
              <td align="center" rowspan="1" colspan="1">37.55</td>
              <td align="center" rowspan="1" colspan="1">150.18</td>
              <td align="center" rowspan="1" colspan="1">50.51</td>
              <td align="center" rowspan="1" colspan="1">202.04</td>
            </tr>
            <tr>
              <td align="center" rowspan="1" colspan="1">2</td>
              <td align="center" rowspan="1" colspan="1">9.70</td>
              <td align="center" rowspan="1" colspan="1">38.82</td>
              <td align="center" rowspan="1" colspan="1">17.69</td>
              <td align="center" rowspan="1" colspan="1">70.75</td>
              <td align="center" rowspan="1" colspan="1">30.22</td>
              <td align="center" rowspan="1" colspan="1">120.88</td>
              <td align="center" rowspan="1" colspan="1">42.68</td>
              <td align="center" rowspan="1" colspan="1">170.73</td>
            </tr>
            <tr>
              <td align="center" rowspan="1" colspan="1">3</td>
              <td align="center" rowspan="1" colspan="1">11.97</td>
              <td align="center" rowspan="1" colspan="1">47.88</td>
              <td align="center" rowspan="1" colspan="1">21.73</td>
              <td align="center" rowspan="1" colspan="1">86.94</td>
              <td align="center" rowspan="1" colspan="1">33.92</td>
              <td align="center" rowspan="1" colspan="1">135.67</td>
              <td align="center" rowspan="1" colspan="1">46.54</td>
              <td align="center" rowspan="1" colspan="1">186.16</td>
            </tr>
            <tr>
              <td align="center" rowspan="1" colspan="1">4</td>
              <td align="center" rowspan="1" colspan="1">12.22</td>
              <td align="center" rowspan="1" colspan="1">48.88</td>
              <td align="center" rowspan="1" colspan="1">17.14</td>
              <td align="center" rowspan="1" colspan="1">68.57</td>
              <td align="center" rowspan="1" colspan="1">30.27</td>
              <td align="center" rowspan="1" colspan="1">121.06</td>
              <td align="center" rowspan="1" colspan="1">40.76</td>
              <td align="center" rowspan="1" colspan="1">163.06</td>
            </tr>
            <tr>
              <td align="left" rowspan="4" colspan="1">Bio-Formats</td>
              <td align="center" rowspan="1" colspan="1">1</td>
              <td align="center" rowspan="1" colspan="1">5.49</td>
              <td align="center" rowspan="1" colspan="1">21.98</td>
              <td align="center" rowspan="1" colspan="1">11.49</td>
              <td align="center" rowspan="1" colspan="1">45.94</td>
              <td align="center" rowspan="1" colspan="1">19.61</td>
              <td align="center" rowspan="1" colspan="1">78.45</td>
              <td align="center" rowspan="1" colspan="1">24.32</td>
              <td align="center" rowspan="1" colspan="1">97.28</td>
            </tr>
            <tr>
              <td align="center" rowspan="1" colspan="1">2</td>
              <td align="center" rowspan="1" colspan="1">4.15</td>
              <td align="center" rowspan="1" colspan="1">16.60</td>
              <td align="center" rowspan="1" colspan="1">8.39</td>
              <td align="center" rowspan="1" colspan="1">33.57</td>
              <td align="center" rowspan="1" colspan="1">15.74</td>
              <td align="center" rowspan="1" colspan="1">62.95</td>
              <td align="center" rowspan="1" colspan="1">21.37</td>
              <td align="center" rowspan="1" colspan="1">85.48</td>
            </tr>
            <tr>
              <td align="center" rowspan="1" colspan="1">3</td>
              <td align="center" rowspan="1" colspan="1">4.22</td>
              <td align="center" rowspan="1" colspan="1">16.88</td>
              <td align="center" rowspan="1" colspan="1">7.59</td>
              <td align="center" rowspan="1" colspan="1">30.38</td>
              <td align="center" rowspan="1" colspan="1">14.82</td>
              <td align="center" rowspan="1" colspan="1">59.26</td>
              <td align="center" rowspan="1" colspan="1">20.83</td>
              <td align="center" rowspan="1" colspan="1">83.34</td>
            </tr>
            <tr>
              <td align="center" rowspan="1" colspan="1">4</td>
              <td align="center" rowspan="1" colspan="1">4.99</td>
              <td align="center" rowspan="1" colspan="1">19.94</td>
              <td align="center" rowspan="1" colspan="1">9.25</td>
              <td align="center" rowspan="1" colspan="1">36.99</td>
              <td align="center" rowspan="1" colspan="1">16.88</td>
              <td align="center" rowspan="1" colspan="1">67.54</td>
              <td align="center" rowspan="1" colspan="1">22.09</td>
              <td align="center" rowspan="1" colspan="1">88.34</td>
            </tr>
          </tbody>
        </table>
        <table-wrap-foot>
          <fn>
            <p>MP/s: Megapixels, MB/s: Megabytes, WSI: Whole-slide images, MMSI: Modifiable multi-scale image</p>
          </fn>
        </table-wrap-foot>
      </table-wrap>
    </sec>
    <sec id="sec2-9">
      <title>Use Case I: Applying conventional image operations on whole-slide images</title>
      <p>In medical image processing, thresholding algorithms could generate a binary image according to a source image and a given threshold. It is one of the essential operations used to analyze the image data because it can effectively separate the foreground from the background. Further, color correction or normalization is another algorithm that is often applied to microscopic images to standardize the color representation. This example uses the Otsu algorithm for thresholding and histogram matching method for color correction.[<xref rid="ref20" ref-type="bibr">20</xref><xref rid="ref21" ref-type="bibr">21</xref>] Sample WSIs come from TCGA,[<xref rid="ref18" ref-type="bibr">18</xref>] as shown in <xref ref-type="fig" rid="F5">Figure 5</xref>.</p>
      <fig id="F5" position="float">
        <label>Figure 5</label>
        <caption>
          <p>Whole-slide image processed by conventional algorithms with assistances from libMI. (a and b) Source and result image in thresholding, (c-e) source image, target image, and result image of color correction, respectively</p>
        </caption>
        <graphic xlink:href="JPI-11-26-g005"/>
      </fig>
      <p>For thresholding, the example program iterates through tiles of the image using libMI library to obtain the intensity distribution of the image and to calculate the threshold and then iterates again to apply thresholding to the source image. The resulting image is stored in the MMSI format, and a thumbnail from a downsampled layer is obtained through libMI library.</p>
      <p>For color correction, the gist is similar. The program first iterates both the source and target images to obtain the histogram and then iterates the target image again to apply color correction, store the result in MMSI format, and get the final thumbnail.</p>
      <p>For normal images, these operations would not raise technical issues. However, for WSI, the operation must be applied to a small part of an image at a time due to hardware limitations. With libMI, developers can easily access image data of the WSIs tile by tile through the API of libMI library without any preprocessing and conveniently write the result image as another WSI file for further operations.</p>
    </sec>
    <sec id="sec2-10">
      <title>Usage Case II: Freehand pixel-wise annotation</title>
      <p>Pixel-wise reading and writing annotations are one of the major features proposed by libMI. This allows annotators to add freehand annotations and image processing algorithms to perform image segmentation. Figure <xref ref-type="fig" rid="F6">6</xref> shows the result of two consecutive writing operations which create overlapping freehand regions. The fact that libMI API allows developers to access the labeling matrix at any region and resolution makes pixel-wise modifications of labeling matrix possible. Intuitively, the modifications are made at the level where the annotator is currently viewing, and the modifications will be passed to other levels with different resolutions automatically. In the overlapping area of two annotations, the newer annotations would overwrite the former ones, for example (a) would be overwritten by the latter one (b) in <xref ref-type="fig" rid="F6">Figure 6</xref>. This example has demonstrated that the library is able to automatically choose the proper layer to satisfy the accessing resolution and pass the modifications between different layers.</p>
      <fig id="F6" position="float">
        <label>Figure 6</label>
        <caption>
          <p>The procedure of doing freehand pixel-wise annotation in libMI. The test program writes two freehand annotations (a and b) to two different lower layers in the modifiable multiscale image pyramidal structure and read the result (c) from a higher layer (DSR is downsample ratio)</p>
        </caption>
        <graphic xlink:href="JPI-11-26-g006"/>
      </fig>
    </sec>
    <sec id="sec2-11">
      <title>Code availability</title>
      <p>Both the libMI library and MMSI open format are freely available at <ext-link ext-link-type="uri" xlink:href="https://gitlab.com/BioAI/libMI">https://gitlab.com/BioAI/libMI</ext-link>under GNU General Public License v3.0, and the documentation for both libraries is available at <ext-link ext-link-type="uri" xlink:href="https://bioai.gitlab.io/libMI-docs/">https://bioai.gitlab.io/libMI-docs/</ext-link>.</p>
    </sec>
  </sec>
  <sec sec-type="discussion" id="sec1-4">
    <title>D<sc>ISCUSSION</sc></title>
    <p>Since there are no strict definitions of extremely large image, except its dimension, the description of types of image array which MMSI file format can support should be clarified. In theory, the dimension of extremely large images can be indefinitely large; however, different aspects of hardware limitations which establish a working environment which software should follow include disk read/write speed, memory size, graphic-processing unit processing throughput, and computer displays. In usual, we consider an image file larger than 6 GB when uncompressed, which is (40,000, 40,000) dimension with 32-bit pixels, as an extremely large image. As an anchor, we suggest consideration of displayable pixels which will generally reflect the display resolution at a given displaying cycle (image frame). The current reference we adopt is 4 K resolution, approved by The International Telecommunication Union (ITU), which has the processing resolution around 8.3 megapixels. Another aspect to consider is image bit-depth which has industry standard at 8-bit, 16-bit, and 24-bit per channel. To preserve compatibility with existing viewing tools and data format when parts of extremely large image are requested to be viewed, both libMI and MMSI could store image with higher bit depth at 64-bit for one pixel, so the color model can be either grayscale, true-color with alpha channels, or other widely used color models, e.g., ARGB, HSV, and CIE L*a*b*. The production of extremely large images can be made through two approaches. First, taking several normal-sized images and stitching them together such as those from WSI scanners or aerial imaging. Second, the image produced from a very high-resolution image sensor. In either case, images saved should not only be small but also highly accessible so that they can be utilized efficiently.</p>
    <p>The current version of libMI has achieved decent performance. We believe that the performance could be improved if the following limitations are addressed. The first is the reading and writing bottleneck. The libMI performance relies on fast disk reading and writing speed, and most of the processing time was taken by these operations. This problem is currently being addressed by a caching mechanism in libMI. The second is the compression time. In the cases that many sequential compression tasks are needed, the performance of the library may be affected. This problem is addressed by parallel processing mechanism in libMI. Finally, the performance of the library can benefit from better hardware with superior disk response time and read/write speed. LibMI uses the PNG lossless compression by default to avoid image quality deterioration after multiple modifying operations. Nevertheless, the JPEG lossy compression can also be utilized if only one-off modification is required to minimize the WSI file size.[<xref rid="ref22" ref-type="bibr">22</xref>]</p>
    <p>Previous works in pathology have shown the potentials and possibilities of WSIs in automatic screening, diagnosis, and treatment planning of cancer patients.[<xref rid="ref7" ref-type="bibr">7</xref><xref rid="ref23" ref-type="bibr">23</xref>] The centralized large-scale biomedical repositories hosting WSIs such as The Cancer Genome Atlas Project (TCGA) and Genotype-Tissue Expression Project (GTEx) have emerged,[<xref rid="ref18" ref-type="bibr">18</xref><xref rid="ref24" ref-type="bibr">24</xref>] and the performance of the repository distributing images to clients could be improved by letting viewers only access parts of WSIs without transferring entire files. Furthermore, efforts to tie nonimaging information in digital images have been made in numerous competitions, e.g., CAMELYON, TUPAC, and ICIAR.[<xref rid="ref25" ref-type="bibr">25</xref><xref rid="ref26" ref-type="bibr">26</xref><xref rid="ref27" ref-type="bibr">27</xref>] In those competitions, evaluations and developments of new and existing algorithms for automatic detection of cancer metastases in hematoxylin and eosin-stained WSIs were proposed. Not losing the medical meta-data along the way could benefit further analysis in the future.</p>
    <p>LibMI and MMSI may be implemented in all computational environments: Cloud servers and local machines. Currently, there are a number of WSI-compatible tools available for utilization including OpenHI, ASAP, QuPath, Cytomine, OpenSeadragon, and SlideJ.[<xref rid="ref12" ref-type="bibr">12</xref><xref rid="ref13" ref-type="bibr">13</xref><xref rid="ref28" ref-type="bibr">28</xref><xref rid="ref29" ref-type="bibr">29</xref><xref rid="ref30" ref-type="bibr">30</xref><xref rid="ref31" ref-type="bibr">31</xref>] These frameworks are successful implementations of computational pathology to support visualization, annotation, and further pathological analysis. Unfortunately, many of them were being forced to only support proprietary WSI file formats since the free and open ones are not available. Extending the read/write engine of the mentioned framework to include libMI would allow the image, annotations, and associated clinical data to be saved in a single unified file. Pathological e-learning resource database such as the Stanford Tissue Microarray Database and the âdigital lung pathologyâ could be upgraded by adopting libMI as well.[<xref rid="ref32" ref-type="bibr">32</xref><xref rid="ref33" ref-type="bibr">33</xref>] This would allow them to overcome the current shortcomings such as fixed magnification and limited number of views. In implementation, there are no limits to how the proposed library and file format could be utilized.</p>
    <p>LibMI also helps to save time and disk space in machine learning tasks which include WSIs. The conventional preprocessing method of WSI is to extract patches â fixed size small image tiles â which has the same dimensions as the input of analysis models; then, the annotation will be generated according to the tiles, e.g., image segmentation. This results in redundant disk space consumption. With the decent reading speed, libMI enables these machine learning algorithms to read image data from the WSIs directly during training, as well as pixel-wise annotation data. The functionality of pixel-wise annotation can also avoid the time consumed on converting soft overlay annotations. The only information that needs to be stored is the position of each patch, which is rather small compared to image data.</p>
  </sec>
  <sec sec-type="conclusions" id="sec1-5">
    <title>C<sc>ONCLUSIONS</sc></title>
    <p>Currently, no tools are available for some essential operations in WSIs, especially to partially modify WSI in a subregion at different accessing levels. The combination of libMI library and MMSI file format resolves the problems since they provide simplified access to the complex file organization such as multiscale image and accompanying data. Furthermore, since the libMI project organization and MMSI file format are standardized and open, it can be accessed by anyone with other tools. To our knowledge, no open format is currently in use and can support efficient storage and modification of extremely large images. Therefore, libMI encourages the sharing of intermediate and final analysis results. In addition, libMI can significantly reduce the time complexity of large image modifications because of partial file modification and efficient updating algorithms, unlike other open image file formats such as BigTIFF, which requires the entire file to be rewritten. The performance and efficiency of libMI are further enhanced by characteristics of SQLite, compression algorithm, cache mechanism, and parallel processing, resulting in higher reading efficiency compared to congeneric software or libraries. With the mentioned advantages, libMI enables easier sharing, modification, and writing of large image data.</p>
    <p>Since libMI is compatible with existing proprietary WSI formats, it can be integrated to existing systems without compatibility problems. Building analysis pipelines on libMI should be more straightforward since there is no need for complex preprocessing which transforms large images into smaller patches and keeping them in separated files. LibMI can promote the development of automated pipelines and the application of artificial intelligence in various domains, especially in pathology, since analyzing histopathological images is the key to assist automated diagnosis.</p>
    <sec id="sec2-12">
      <title>Financial support and sponsorship</title>
      <p>This work has been supported by The National Natural Science Foundation of China (61772409); The National Key Research and Development Program of China (2018YFC0910404); The consulting research project of the Chinese Academy of Engineering (The Online and Offline Mixed Educational Service System for âThe Belt and Roadâ Training in MOOC China); Project of China Knowledge Centre for Engineering Science and Technology; The innovation team from the Ministry of Education (IRT_17R86); and the Innovative Research Group of the National Natural Science Foundation of China (61721002).</p>
    </sec>
    <sec id="sec2-13" sec-type="COI-statement">
      <title>Conflicts of interest</title>
      <p>There are no conflicts of interest.</p>
    </sec>
  </sec>
</body>
<back>
  <fn-group>
    <fn fn-type="other">
      <p>Available FREE in open access from: <ext-link ext-link-type="uri" xlink:href="http://www.jpathinformatics.org/text.asp?2020/11/1/26/292718">http://www.jpathinformatics.org/text.asp?2020/11/1/26/292718</ext-link></p>
    </fn>
  </fn-group>
  <ref-list>
    <title>R<sc>EFERENCES</sc></title>
    <ref id="ref1">
      <label>1</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Goode</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Gilbert</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Harkes</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Jukic</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Satyanarayanan</surname>
            <given-names>M</given-names>
          </name>
        </person-group>
        <article-title>OpenSlide: A vendor-neutral software foundation for digital pathology</article-title>
        <source>J Pathol Inform</source>
        <year>2013</year>
        <volume>4</volume>
        <fpage>27</fpage>
        <pub-id pub-id-type="pmid">24244884</pub-id>
      </element-citation>
    </ref>
    <ref id="ref2">
      <label>2</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Boyce</surname>
            <given-names>BF</given-names>
          </name>
        </person-group>
        <article-title>An update on the validation of whole slide imaging systems following FDA approval of a system for a routine pathology diagnostic service in the United States</article-title>
        <source>Biotech Histochem</source>
        <year>2017</year>
        <volume>92</volume>
        <fpage>381</fpage>
        <lpage>9</lpage>
        <pub-id pub-id-type="pmid">28836859</pub-id>
      </element-citation>
    </ref>
    <ref id="ref3">
      <label>3</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Evans</surname>
            <given-names>AJ</given-names>
          </name>
          <name>
            <surname>Bauer</surname>
            <given-names>TW</given-names>
          </name>
          <name>
            <surname>Bui</surname>
            <given-names>MM</given-names>
          </name>
          <name>
            <surname>Cornish</surname>
            <given-names>TC</given-names>
          </name>
          <name>
            <surname>Duncan</surname>
            <given-names>H</given-names>
          </name>
          <name>
            <surname>Glassy</surname>
            <given-names>EF</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>US Food and Drug Administration approval of whole slide imaging for primary diagnosis: A key milestone is reached and new questions are raised</article-title>
        <source>Arch Pathol Lab Med</source>
        <year>2018</year>
        <volume>142</volume>
        <fpage>1383</fpage>
        <lpage>7</lpage>
        <pub-id pub-id-type="pmid">29708429</pub-id>
      </element-citation>
    </ref>
    <ref id="ref4">
      <label>4</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Singh</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Chubb</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Pantanowitz</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Parwani</surname>
            <given-names>A</given-names>
          </name>
        </person-group>
        <article-title>Standardization in digital pathology: Supplement 145 of the DICOM standards</article-title>
        <source>J Pathol Inform</source>
        <year>2011</year>
        <volume>2</volume>
        <fpage>23</fpage>
        <pub-id pub-id-type="pmid">21633489</pub-id>
      </element-citation>
    </ref>
    <ref id="ref5">
      <label>5</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Tabata</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Mori</surname>
            <given-names>I</given-names>
          </name>
          <name>
            <surname>Sasaki</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Itoh</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Shiraishi</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Yoshimi</surname>
            <given-names>N</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Whole-slide imaging at primary pathological diagnosis: Validation of whole-slide imaging-based primary pathological diagnosis at twelve Japanese academic institutes</article-title>
        <source>Pathol Int</source>
        <year>2017</year>
        <volume>67</volume>
        <fpage>547</fpage>
        <lpage>54</lpage>
        <pub-id pub-id-type="pmid">28980740</pub-id>
      </element-citation>
    </ref>
    <ref id="ref6">
      <label>6</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Linkert</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Rueden</surname>
            <given-names>CT</given-names>
          </name>
          <name>
            <surname>Allan</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Burel</surname>
            <given-names>JM</given-names>
          </name>
          <name>
            <surname>Moore</surname>
            <given-names>W</given-names>
          </name>
          <name>
            <surname>Patterson</surname>
            <given-names>A</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Metadata matters: Access to image data in the real world</article-title>
        <source>J Cell Biol</source>
        <year>2010</year>
        <volume>189</volume>
        <fpage>777</fpage>
        <lpage>82</lpage>
        <pub-id pub-id-type="pmid">20513764</pub-id>
      </element-citation>
    </ref>
    <ref id="ref7">
      <label>7</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Coudray</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Ocampo</surname>
            <given-names>PS</given-names>
          </name>
          <name>
            <surname>Sakellaropoulos</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Narula</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Snuderl</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>FenyÃ¶</surname>
            <given-names>D</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Classification and mutation prediction from non-small cell lung cancer histopathology images using deep learning</article-title>
        <source>Nat Med</source>
        <year>2018</year>
        <volume>24</volume>
        <fpage>1559</fpage>
        <lpage>67</lpage>
        <pub-id pub-id-type="pmid">30224757</pub-id>
      </element-citation>
    </ref>
    <ref id="ref8">
      <label>8</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Cruz-Roa</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Gilmore</surname>
            <given-names>H</given-names>
          </name>
          <name>
            <surname>Basavanhally</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Feldman</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Ganesan</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Shih</surname>
            <given-names>NN</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Accurate and reproducible invasive breast cancer detection in whole-slide images: A deep learning approach for quantifying tumor extent</article-title>
        <source>Sci Rep</source>
        <year>2017</year>
        <volume>7</volume>
        <fpage>46450</fpage>
        <pub-id pub-id-type="pmid">28418027</pub-id>
      </element-citation>
    </ref>
    <ref id="ref9">
      <label>9</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Yu</surname>
            <given-names>KH</given-names>
          </name>
          <name>
            <surname>Zhang</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Berry</surname>
            <given-names>GJ</given-names>
          </name>
          <name>
            <surname>Altman</surname>
            <given-names>RB</given-names>
          </name>
          <name>
            <surname>RÃ©</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Rubin</surname>
            <given-names>DL</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Predicting non-small cell lung cancer prognosis by fully automated microscopic pathology image features</article-title>
        <source>Nat Commun</source>
        <year>2016</year>
        <volume>7</volume>
        <fpage>12474</fpage>
        <pub-id pub-id-type="pmid">27527408</pub-id>
      </element-citation>
    </ref>
    <ref id="ref10">
      <label>10</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Bradski</surname>
            <given-names>G</given-names>
          </name>
        </person-group>
        <article-title>The OpenCV library</article-title>
        <source>Dobbs J Software Tools</source>
        <year>2000</year>
        <volume>4</volume>
        <fpage>2236121</fpage>
      </element-citation>
    </ref>
    <ref id="ref11">
      <label>11</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>van der Walt</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>SchÃ¶nberger</surname>
            <given-names>JL</given-names>
          </name>
          <name>
            <surname>Nunez-Iglesias</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Boulogne</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Warner</surname>
            <given-names>JD</given-names>
          </name>
          <name>
            <surname>Yager</surname>
            <given-names>N</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>scikit-image: Image processing in Python</article-title>
        <source>PeerJ</source>
        <year>2014</year>
        <volume>2</volume>
        <fpage>e453</fpage>
        <pub-id pub-id-type="pmid">25024921</pub-id>
      </element-citation>
    </ref>
    <ref id="ref12">
      <label>12</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Bankhead</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Loughrey</surname>
            <given-names>MB</given-names>
          </name>
          <name>
            <surname>FernÃ¡ndez</surname>
            <given-names>JA</given-names>
          </name>
          <name>
            <surname>Dombrowski</surname>
            <given-names>Y</given-names>
          </name>
          <name>
            <surname>McArt</surname>
            <given-names>DG</given-names>
          </name>
          <name>
            <surname>Dunne</surname>
            <given-names>PD</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>QuPath: Open source software for digital pathology image analysis</article-title>
        <source>Sci Rep</source>
        <year>2017</year>
        <volume>7</volume>
        <fpage>16878</fpage>
        <pub-id pub-id-type="pmid">29203879</pub-id>
      </element-citation>
    </ref>
    <ref id="ref13">
      <label>13</label>
      <element-citation publication-type="webpage">
        <person-group person-group-type="author">
          <name>
            <surname>Litjens</surname>
            <given-names>G</given-names>
          </name>
        </person-group>
        <source>Automated Slide Analysis Platform (ASAP)</source>
        <year>2015</year>
        <date-in-citation>[Last accessed on 2019 Jul 20]</date-in-citation>
        <comment>Available from: <uri xlink:type="simple" xlink:href="https://githubcom/computationalpathologygroup/ASAP">https://githubcom/computationalpathologygroup/ASAP</uri></comment>
      </element-citation>
    </ref>
    <ref id="ref14">
      <label>14</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>MarÃ©e</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Rollus</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>StÃ©vens</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Hoyoux</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Louppe</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Vandaele</surname>
            <given-names>R</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Collaborative analysis of multi-gigapixel imaging data using Cytomine</article-title>
        <source>Bioinformatics</source>
        <year>2016</year>
        <volume>32</volume>
        <fpage>1395</fpage>
        <lpage>401</lpage>
        <pub-id pub-id-type="pmid">26755625</pub-id>
      </element-citation>
    </ref>
    <ref id="ref15">
      <label>15</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Herrmann</surname>
            <given-names>MD</given-names>
          </name>
          <name>
            <surname>Clunie</surname>
            <given-names>DA</given-names>
          </name>
          <name>
            <surname>Fedorov</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Doyle</surname>
            <given-names>SW</given-names>
          </name>
          <name>
            <surname>Pieper</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Klepeis</surname>
            <given-names>V</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Implementing the DICOM standard for digital pathology</article-title>
        <source>J Pathol Inform</source>
        <year>2018</year>
        <volume>9</volume>
        <fpage>37</fpage>
        <pub-id pub-id-type="pmid">30533276</pub-id>
      </element-citation>
    </ref>
    <ref id="ref16">
      <label>16</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Marques Godinho</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Lebre</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Silva</surname>
            <given-names>LB</given-names>
          </name>
          <name>
            <surname>Costa</surname>
            <given-names>C</given-names>
          </name>
        </person-group>
        <article-title>An efficient architecture to support digital pathology in standard medical imaging repositories</article-title>
        <source>J Biomed Inform</source>
        <year>2017</year>
        <volume>71</volume>
        <fpage>190</fpage>
        <lpage>7</lpage>
        <pub-id pub-id-type="pmid">28602907</pub-id>
      </element-citation>
    </ref>
    <ref id="ref17">
      <label>17</label>
      <element-citation publication-type="webpage">
        <person-group person-group-type="author">
          <name>
            <surname>Crockford</surname>
            <given-names>D</given-names>
          </name>
        </person-group>
        <source>JSON: The fat-free alternative to XML</source>
        <year>2006</year>
        <date-in-citation>[Last accessed on 2019 Jul 20]</date-in-citation>
        <comment>Available from: <uri xlink:type="simple" xlink:href="http://wwwjsonorg/fatfreehtml">http://wwwjsonorg/fatfreehtml</uri></comment>
      </element-citation>
    </ref>
    <ref id="ref18">
      <label>18</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Tomczak</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>CzerwiÅska</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Wiznerowicz</surname>
            <given-names>M</given-names>
          </name>
        </person-group>
        <article-title>The Cancer Genome Atlas (TCGA): An immeasurable source of knowledge</article-title>
        <source>Contemp Oncol (Pozn)</source>
        <year>2015</year>
        <volume>19</volume>
        <fpage>A68</fpage>
        <lpage>77</lpage>
        <pub-id pub-id-type="pmid">25691825</pub-id>
      </element-citation>
    </ref>
    <ref id="ref19">
      <label>19</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Walkowski</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Lundin</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Szymas</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Lundin</surname>
            <given-names>J</given-names>
          </name>
        </person-group>
        <article-title>Students' performance during practical examination on whole slide images using view path tracking</article-title>
        <source>Diagn Pathol</source>
        <year>2014</year>
        <volume>9</volume>
        <fpage>208</fpage>
        <pub-id pub-id-type="pmid">25358824</pub-id>
      </element-citation>
    </ref>
    <ref id="ref20">
      <label>20</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Cheriet</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Said</surname>
            <given-names>JN</given-names>
          </name>
          <name>
            <surname>Suen</surname>
            <given-names>CY</given-names>
          </name>
        </person-group>
        <article-title>A recursive thresholding technique for image segmentation</article-title>
        <source>IEEE Trans Image Process</source>
        <year>1998</year>
        <volume>7</volume>
        <fpage>918</fpage>
        <lpage>21</lpage>
        <pub-id pub-id-type="pmid">18276308</pub-id>
      </element-citation>
    </ref>
    <ref id="ref21">
      <label>21</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>NyÃºl</surname>
            <given-names>LG</given-names>
          </name>
          <name>
            <surname>Udupa</surname>
            <given-names>JK</given-names>
          </name>
          <name>
            <surname>Zhang</surname>
            <given-names>X</given-names>
          </name>
        </person-group>
        <article-title>New variants of a method of MRI scale standardization</article-title>
        <source>IEEE Trans Med Imaging</source>
        <year>2000</year>
        <volume>19</volume>
        <fpage>143</fpage>
        <lpage>50</lpage>
        <pub-id pub-id-type="pmid">10784285</pub-id>
      </element-citation>
    </ref>
    <ref id="ref22">
      <label>22</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Zarella</surname>
            <given-names>MD</given-names>
          </name>
          <name>
            <surname>Bowman</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Aeffner</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Farahani</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Xthona</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Absar</surname>
            <given-names>SF</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>A practical guide to whole slide imaging: A white paper from the digital pathology association</article-title>
        <source>Arch Pathol Lab Med</source>
        <year>2019</year>
        <volume>143</volume>
        <fpage>222</fpage>
        <lpage>34</lpage>
        <pub-id pub-id-type="pmid">30307746</pub-id>
      </element-citation>
    </ref>
    <ref id="ref23">
      <label>23</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Signaevsky</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Prastawa</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Farrell</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Tabish</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Baldwin</surname>
            <given-names>E</given-names>
          </name>
          <name>
            <surname>Han</surname>
            <given-names>N</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Artificial intelligence in neuropathology: Deep learning-based assessment of tauopathy</article-title>
        <source>Lab Invest</source>
        <year>2019</year>
        <volume>99</volume>
        <fpage>1019</fpage>
        <lpage>29</lpage>
        <pub-id pub-id-type="pmid">30770886</pub-id>
      </element-citation>
    </ref>
    <ref id="ref24">
      <label>24</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Lonsdale</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Thomas</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Salvatore</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Phillips</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Lo</surname>
            <given-names>E</given-names>
          </name>
          <name>
            <surname>Shad</surname>
            <given-names>S</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>The genotype-tissue expression (GTEx) project</article-title>
        <source>Nat Genet</source>
        <year>2013</year>
        <volume>45</volume>
        <fpage>580</fpage>
        <lpage>5</lpage>
        <pub-id pub-id-type="pmid">23715323</pub-id>
      </element-citation>
    </ref>
    <ref id="ref25">
      <label>25</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Ehteshami Bejnordi</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Veta</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Johannes van Diest</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>van Ginneken</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Karssemeijer</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Litjens</surname>
            <given-names>G</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Diagnostic assessment of deep learning algorithms for detection of lymph node metastases in women with breast cancer</article-title>
        <source>JAMA</source>
        <year>2017</year>
        <volume>318</volume>
        <fpage>2199</fpage>
        <lpage>210</lpage>
        <pub-id pub-id-type="pmid">29234806</pub-id>
      </element-citation>
    </ref>
    <ref id="ref26">
      <label>26</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Veta</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Heng</surname>
            <given-names>YJ</given-names>
          </name>
          <name>
            <surname>Stathonikos</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Bejnordi</surname>
            <given-names>BE</given-names>
          </name>
          <name>
            <surname>Beca</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Wollmann</surname>
            <given-names>T</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Predicting breast tumor proliferation from whole-slide images: The TUPAC16 challenge</article-title>
        <source>Med Image Anal</source>
        <year>2019</year>
        <volume>54</volume>
        <fpage>111</fpage>
        <lpage>21</lpage>
        <pub-id pub-id-type="pmid">30861443</pub-id>
      </element-citation>
    </ref>
    <ref id="ref27">
      <label>27</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Aresta</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>AraÃºjo</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Kwok</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Chennamsetty</surname>
            <given-names>SS</given-names>
          </name>
          <name>
            <surname>Safwan</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Alex</surname>
            <given-names>V</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Bach: Grand challenge on breast cancer histology images</article-title>
        <source>Med Image Anal</source>
        <year>2019</year>
        <volume>56</volume>
        <fpage>122</fpage>
        <lpage>39</lpage>
        <pub-id pub-id-type="pmid">31226662</pub-id>
      </element-citation>
    </ref>
    <ref id="ref28">
      <label>28</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Puttapirat</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Zhang</surname>
            <given-names>H</given-names>
          </name>
          <name>
            <surname>Lian</surname>
            <given-names>Y</given-names>
          </name>
          <name>
            <surname>Wang</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Zhang</surname>
            <given-names>X</given-names>
          </name>
          <name>
            <surname>Yao</surname>
            <given-names>L</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>OpenHI-An open source framework for annotating histopathological image BIBM 2018</article-title>
        <source>IEEE International Conference on Bioinformatics and Biomedicine</source>
        <year>2018</year>
        <fpage>1076</fpage>
        <lpage>82</lpage>
      </element-citation>
    </ref>
    <ref id="ref29">
      <label>29</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>MarÃ©e</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Rollus</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>StÃ©vens</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Hoyoux</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Louppe</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Vandaele</surname>
            <given-names>R</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Cytomine: An open-source software for collaborative analysis of whole-slide images</article-title>
        <source>Diagn Pathol</source>
        <year>2016</year>
        <volume>1</volume>
        <fpage>13</fpage>
      </element-citation>
    </ref>
    <ref id="ref30">
      <label>30</label>
      <element-citation publication-type="webpage">
        <source>OpenSeadragon Project</source>
        <year>2013</year>
        <date-in-citation>[Last accessed on 2020 May 07]</date-in-citation>
        <comment>Available from: <uri xlink:type="simple" xlink:href="https://githubcom/openseadragon/openseadragon">https://githubcom/openseadragon/openseadragon</uri></comment>
      </element-citation>
    </ref>
    <ref id="ref31">
      <label>31</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Della Mea</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Baroni</surname>
            <given-names>GL</given-names>
          </name>
          <name>
            <surname>Pilutti</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Di Loreto</surname>
            <given-names>C</given-names>
          </name>
        </person-group>
        <article-title>SlideJ: An ImageJ plugin for automated processing of whole slide images</article-title>
        <source>PLoS One</source>
        <year>2017</year>
        <volume>12</volume>
        <fpage>e0180540</fpage>
        <pub-id pub-id-type="pmid">28683129</pub-id>
      </element-citation>
    </ref>
    <ref id="ref32">
      <label>32</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Marinelli</surname>
            <given-names>RJ</given-names>
          </name>
          <name>
            <surname>Montgomery</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Liu</surname>
            <given-names>CL</given-names>
          </name>
          <name>
            <surname>Shah</surname>
            <given-names>NH</given-names>
          </name>
          <name>
            <surname>Prapong</surname>
            <given-names>W</given-names>
          </name>
          <name>
            <surname>Nitzberg</surname>
            <given-names>M</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>The Stanford tissue microarray database</article-title>
        <source>Nucleic Acids Res</source>
        <year>2008</year>
        <volume>36</volume>
        <fpage>D871</fpage>
        <lpage>7</lpage>
        <pub-id pub-id-type="pmid">17989087</pub-id>
      </element-citation>
    </ref>
    <ref id="ref33">
      <label>33</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Kayser</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Kayser</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Radziszowski</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Oehmann</surname>
            <given-names>A</given-names>
          </name>
        </person-group>
        <article-title>From telepathology to virtual pathology institution: The new world of digital pathology</article-title>
        <source>Rom J Morphol Embryol</source>
        <year>1999</year>
        <volume>45</volume>
        <fpage>3</fpage>
        <lpage>9</lpage>
        <pub-id pub-id-type="pmid">15847374</pub-id>
      </element-citation>
    </ref>
  </ref-list>
</back>
