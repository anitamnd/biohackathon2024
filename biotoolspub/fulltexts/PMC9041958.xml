<?DTDIdentifier.IdentifierValue -//NLM//DTD Journal Publishing DTD v2.3 20070202//EN?>
<?DTDIdentifier.IdentifierType public?>
<?SourceDTD.DTDName journalpublishing.dtd?>
<?SourceDTD.Version 2.3?>
<?ConverterInfo.XSLTName nlm2jats3.xsl?>
<?ConverterInfo.Version 1?>
<?properties open_access?>
<processing-meta base-tagset="archiving" mathml-version="3.0" table-model="xhtml" tagset-family="jats">
  <restricted-by>pmc</restricted-by>
</processing-meta>
<front>
  <journal-meta>
    <journal-id journal-id-type="nlm-ta">Braz J Psychiatry</journal-id>
    <journal-id journal-id-type="iso-abbrev">Braz J Psychiatry</journal-id>
    <journal-id journal-id-type="publisher-id">bjp</journal-id>
    <journal-title-group>
      <journal-title>Brazilian Journal of Psychiatry</journal-title>
    </journal-title-group>
    <issn pub-type="ppub">1516-4446</issn>
    <issn pub-type="epub">1809-452X</issn>
    <publisher>
      <publisher-name>Associação Brasileira de Psiquiatria</publisher-name>
    </publisher>
  </journal-meta>
  <article-meta>
    <article-id pub-id-type="pmcid">9041958</article-id>
    <article-id pub-id-type="pmid">34320125</article-id>
    <article-id pub-id-type="doi">10.1590/1516-4446-2020-1675</article-id>
    <article-categories>
      <subj-group subj-group-type="heading">
        <subject>Original Article</subject>
      </subj-group>
    </article-categories>
    <title-group>
      <article-title>Honeycomb: a template for reproducible psychophysiological tasks for clinic, laboratory, and home use</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <name>
          <surname>Provenza</surname>
          <given-names>Nicole R.</given-names>
        </name>
        <xref rid="aff1" ref-type="aff">1</xref>
        <xref rid="aff2" ref-type="aff">2</xref>
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0002-6952-5417</contrib-id>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Gelin</surname>
          <given-names>Luiz Fernando Fracassi</given-names>
        </name>
        <xref rid="aff3" ref-type="aff">3</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Mahaphanit</surname>
          <given-names>Wasita</given-names>
        </name>
        <xref rid="aff4" ref-type="aff">4</xref>
        <xref rid="aff5" ref-type="aff">5</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>McGrath</surname>
          <given-names>Mary C.</given-names>
        </name>
        <xref rid="aff3" ref-type="aff">3</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Dastin-van Rijn</surname>
          <given-names>Evan M.</given-names>
        </name>
        <xref rid="aff1" ref-type="aff">1</xref>
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0002-1428-0723</contrib-id>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Fan</surname>
          <given-names>Yunshu</given-names>
        </name>
        <xref rid="aff1" ref-type="aff">1</xref>
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0003-2597-5173</contrib-id>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Dhar</surname>
          <given-names>Rashi</given-names>
        </name>
        <xref rid="aff3" ref-type="aff">3</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Frank</surname>
          <given-names>Michael J.</given-names>
        </name>
        <xref rid="aff4" ref-type="aff">4</xref>
        <xref rid="aff5" ref-type="aff">5</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Restrepo</surname>
          <given-names>Maria I.</given-names>
        </name>
        <xref rid="aff3" ref-type="aff">3</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Goodman</surname>
          <given-names>Wayne K.</given-names>
        </name>
        <xref rid="aff6" ref-type="aff">6</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Borton</surname>
          <given-names>David A.</given-names>
        </name>
        <xref rid="aff1" ref-type="aff">1</xref>
        <xref rid="aff5" ref-type="aff">5</xref>
        <xref rid="aff7" ref-type="aff">7</xref>
        <xref rid="cor1" ref-type="corresp"/>
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0003-0710-3005</contrib-id>
      </contrib>
      <aff id="aff1"><label>1</label>Brown University School of Engineering, Providence, RI, USA</aff>
      <aff id="aff2"><label>2</label>Charles Stark Draper Laboratory, Cambridge, MA, USA</aff>
      <aff id="aff3"><label>3</label>Center for Computation and Visualization, Brown University, Providence, RI, USA</aff>
      <aff id="aff4"><label>4</label>Department of Cognitive, Linguistic, and Psychological Sciences, Brown University, Providence, RI, USA</aff>
      <aff id="aff5"><label>5</label>Carney Institute for Brain Science, Brown University, Providence, RI, USA</aff>
      <aff id="aff6"><label>6</label>Menninger Department of Psychiatry and Behavioral Sciences, Baylor College of Medicine, Houston, TX, USA</aff>
      <aff id="aff7"><label>7</label>Department of Veterans Affairs, Providence VA Medical Center for Neurorestoration and Neurotechnology, Providence, RI, USA</aff>
    </contrib-group>
    <author-notes>
      <corresp id="cor1">Correspondence: David A. Borton, 184 Hope City Providence, RI, 02912, USA. E-mail: <email>david_borton@brown.edu</email>
</corresp>
    </author-notes>
    <pub-date pub-type="epub">
      <day>21</day>
      <month>7</month>
      <year>2021</year>
    </pub-date>
    <pub-date pub-type="collection">
      <season>Mar-Apr</season>
      <year>2022</year>
    </pub-date>
    <volume>44</volume>
    <issue>2</issue>
    <fpage>147</fpage>
    <lpage>155</lpage>
    <history>
      <date date-type="received">
        <day>1</day>
        <month>12</month>
        <year>2020</year>
      </date>
      <date date-type="accepted">
        <day>29</day>
        <month>3</month>
        <year>2021</year>
      </date>
    </history>
    <permissions>
      <license>
        <ali:license_ref xmlns:ali="http://www.niso.org/schemas/ali/1.0/" specific-use="textmining" content-type="ccbynclicense">https://creativecommons.org/licenses/by-nc/4.0/</ali:license_ref>
        <license-p>This is an Open Access article distributed under the terms of the Creative Commons Attribution Non-Commercial License, which permits unrestricted non-commercial use, distribution, and reproduction in any medium, provided the original work is properly cited.</license-p>
      </license>
    </permissions>
    <abstract>
      <sec>
        <title>Objective:</title>
        <p>To improve the ability of psychiatry researchers to build, deploy, maintain, reproduce, and share their own psychophysiological tasks. Psychophysiological tasks are a useful tool for studying human behavior driven by mental processes such as cognitive control, reward evaluation, and learning. Neural mechanisms during behavioral tasks are often studied via simultaneous electrophysiological recordings. Popular online platforms such as Amazon Mechanical Turk (MTurk) and Prolific enable deployment of tasks to numerous participants simultaneously. However, there is currently no task-creation framework available for flexibly deploying tasks both online and during simultaneous electrophysiology.</p>
      </sec>
      <sec>
        <title>Methods:</title>
        <p>We developed a task creation template, termed Honeycomb, that standardizes best practices for building jsPsych-based tasks. Honeycomb offers continuous deployment configurations for seamless transition between use in research settings and at home. Further, we have curated a public library, termed BeeHive, of ready-to-use tasks.</p>
      </sec>
      <sec>
        <title>Results:</title>
        <p>We demonstrate the benefits of using Honeycomb tasks with a participant in an ongoing study of deep brain stimulation for obsessive compulsive disorder, who completed repeated tasks both in the clinic and at home.</p>
      </sec>
      <sec>
        <title>Conclusion:</title>
        <p>Honeycomb enables researchers to deploy tasks online, in clinic, and at home in more ecologically valid environments and during concurrent electrophysiology.</p>
      </sec>
    </abstract>
    <kwd-group>
      <kwd>Neuropsychology</kwd>
      <kwd>psychophysiology</kwd>
      <kwd>electrophysiology</kwd>
      <kwd>task performance and analysis</kwd>
    </kwd-group>
  </article-meta>
</front>
<body>
  <sec sec-type="intro">
    <title>Introduction</title>
    <p>Psychophysiological tasks are a useful tool for studying mental functions, such as cognitive control, learning, and reward evaluation.<xref rid="B01" ref-type="bibr">1</xref>-<xref rid="B03" ref-type="bibr">3</xref> Deficits in executive functioning are a core feature of psychiatric disorders,<xref rid="B04" ref-type="bibr">4</xref> and analysis of behavioral task performance has revealed significant differences between healthy and psychiatric cohorts.<xref rid="B05" ref-type="bibr">5</xref>-<xref rid="B08" ref-type="bibr">8</xref> Assessing function across specific behavioral constructs, such as those defined by the Research Domain Criteria (RDoC), may provide insight into functional deficits that gold standard clinical assessments may not capture.<xref rid="B09" ref-type="bibr">9</xref>,<xref rid="B10" ref-type="bibr">10</xref> Online tools enable assessment of psychiatric symptoms alongside cognitive performance in large numbers of participants and allow for better delineation of functional deficits that cut across multiple clinical diagnoses. For example, groundbreaking work by Gillan et al.<xref rid="B08" ref-type="bibr">8</xref> to elucidate symptom dimensions associated with deficits in goal-directed control was made possible by large-scale online studies. Further, analysis of task behavior in large populations and at repeated intervals may help researchers better understand heterogeneity of phenotypes within a single diagnosis and variability in function over time within individuals.</p>
    <p>Conducting electrophysiological recordings during psychophysiological tasks may help elucidate the neural mechanisms of functional impairments across psychiatric disorders.<xref rid="B11" ref-type="bibr">11</xref>-<xref rid="B15" ref-type="bibr">15</xref> Electrophysiological recordings, such as scalp electroencephalography (EEG) or intracranial electroencephalography (iEEG), are most commonly conducted in formal research settings such as a laboratory or clinic. However, recent advances in implantable neuromodulation devices present new opportunities for administering tasks during chronic intracranial wireless recordings in the home environment.<xref rid="B16" ref-type="bibr">16</xref>,<xref rid="B17" ref-type="bibr">17</xref> As noted earlier, these new technologies present particularly exciting opportunities for neural biomarker exploration in severe cases of psychiatric disorders, such as obsessive compulsive disorder (OCD), where the neural underpinnings of symptoms remain unknown.<xref rid="B18" ref-type="bibr">18</xref>,<xref rid="B19" ref-type="bibr">19</xref> Electrophysiological studies require extensive time commitment from researchers and participants alike, and are therefore typically limited to a small number of research participants. Conversely, online task deployment enables the study of population behavior with limited burden on researchers and participants, but this advantage can come at the expense of data quality and participant engagement.</p>
    <p>Amazon Mechanical Turk (MTurk) (<ext-link xlink:href="https://www.mturk.com/" ext-link-type="uri">https://www.mturk.com/</ext-link>) is an internet crowd-sourcing labor marketplace that allows individuals, research groups, and businesses to quickly outsource their jobs to a virtual workforce. Originally intended for human intelligence validation tasks (e.g., labeling images for computer vision algorithm development) and survey participation, MTurk has been heavily used in the past decade for behavioral and psychological studies,<xref rid="B20" ref-type="bibr">20</xref> revolutionizing psychological science research. Given the platform’s initial intention, an open-source software called psiTurk was developed to help researchers interface with MTurk and run online studies without the need to create their own server software.<xref rid="B21" ref-type="bibr">21</xref> Prolific (Prolific, Oxford, UK), an alternative to MTurk, has gained recent popularity in behavioral research due to its flexible prescreening features. While Prolific does not provide hosting and database management, there are cloud solutions like Firebase (<ext-link xlink:href="https://firebase.google.com/" ext-link-type="uri">https://firebase.google.com/</ext-link>) and Supabase (<ext-link xlink:href="https://github.com/supabase/supabase" ext-link-type="uri">https://github.com/supabase/supabase</ext-link>) that can be leveraged as an easy-to-set-up and cost-effective solution.</p>
    <p>Deploying the same behavioral task online and in a research setting during concurrent electrophysiology is useful for comparing research participants’ behavior to that of a broader population. However, each deployment scenario has unique experimental needs. Online tasks require browser compatibility, whereas conducting concurrent electrophysiological recordings requires time synchronization of task behavior with the external recording system. Desktop-based applications allow event codes or “triggers” to be sent out from the machine running the task during important task events. Event codes are then recorded by the external system and provide a mechanism for precise time alignment between electrophysiological recordings and saved task data. Event code transmission is not possible during online task deployment; browsers are sandboxed environments without access to the system at large, including ports, for security and safety considerations. Today, enabling task deployment in different configurations and environments would likely require two different versions of the task maintained in separate software packages, which may impact task presentation and task performance. To our knowledge, there are currently no standardized methods to deploy psychophysiological tasks from a single code-base consistently to multiple targets online or in lab, and with or without concurrent electrophysiology.</p>
    <p>Here, we have combined, into an open-source task-template repository, well-accepted practices and technologies from the cognitive science and web development communities to build psychophysiological tasks that are ready for deployment to different settings (desktop or online) and support electrophysiological recordings, without significant changes to the code base. Deployment specifications are abstracted as parameters that are easy to configure, and application building is automated via GitHub actions, providing continuous delivery of easy-to-download executables, easing setup burden across research sites. The same code-base is used to maintain and deploy the identical task on Mechanical Turk, Prolific, and in research settings during concurrent electrophysiological recordings. We describe our best practice strategy for guaranteeing accuracy in the alignment of task events and electrophysiology with ±12 ms latency precision, and contribute plans for a low cost, open-source event trigger device that is compatible with Honeycomb and adaptable to most electrophysiology systems. Further, we demonstrate the utility of Honeycomb in psychiatric research by presenting task performance metrics over time from one participant with deep brain stimulation (DBS) for OCD that performed the Multi-Source Interference Task (MSIT) at repeated intervals in the clinic and at home. While the use of Honeycomb in the study of OCD is an example to showcase the utility of the approach, this work applies to a wide array of use cases beyond the example mentioned here (e.g., Honeycomb enables EEG, fMRI, and MEG studies to compare behavioral data against a complementary database from online studies). Lastly, we have curated a library of ready-to-use tasks made publicly available online on The Behavioral Task Hub, termed Beehive, to foster reproducible research across groups. The ability to write one codebase and use it flexibly across settings (with guaranteed consistency in instructions, timing, and other aspects) is an important advance that is highly relevant for psychiatry researchers and beyond.</p>
  </sec>
  <sec sec-type="methods">
    <title>Method</title>
    <p>Honeycomb is a task template repository that standardizes the configuration of jsPsych-based psychophysiological tasks to maintain readability while supporting the flexibility required to enable varied deployment scenarios. Honeycomb provides functionality for web-based and desktop application-based deployment, where the latter requires communication to peripherals for the synchronization of electrophysiological recordings.<xref rid="B22" ref-type="bibr">22</xref> Honeycomb addresses the key challenge of using a single code base to deliver a task in multiple environments. Tasks built using Honeycomb can easily be deployed as web applications and as cross-platform desktop applications.</p>
    <p>The architecture of Honeycomb is summarized in <xref rid="f01" ref-type="fig">Figure 1</xref> and explained in greater detailed in the <inline-supplementary-material xlink:href="bjp-44-02-147-s001.pdf" id="d95e269" content-type="local-data">online-only supplementary material</inline-supplementary-material>. Relevant definitions, detailed instructions on how to get started on Honeycomb, and the link to a central and open registry of behavioral tasks (Beehive) are also available as <inline-supplementary-material xlink:href="bjp-44-02-147-s001.pdf" id="d95e272" content-type="local-data">supplementary material</inline-supplementary-material>.</p>
    <p>To achieve deployment flexibility, Honeycomb is architected in a way that the task core, which is coded with jsPsych and React (<xref rid="f01" ref-type="fig">Figures 1.1</xref> and <xref rid="f01" ref-type="fig">1.2</xref>), can be built either as a desktop or a web application (<xref rid="f01" ref-type="fig">Figure 1</xref>, paths A and B, respectively). A task built with Honeycomb can be easily deployed as a static (serverless) web application to services like GitHub Pages, Firebase Hosting, Heroku, or others. This type of deployment can be used with services like Prolific. Furthermore, deploying a psiTurk task requires additional steps that are facilitated by included scripts (<xref rid="f01" ref-type="fig">Figure 1.4</xref>). To build cross-platform desktop applications, Honeycomb includes all the necessary files, helper functions, and scripts that create the installers and executables for Linux, MacOS, and Windows (<xref rid="f01" ref-type="fig">Figure 1.3</xref>). While a researcher can choose to manually build the applications, Honeycomb leverages GitHub Actions to preconfigure and automate the different deployment workflows (<xref rid="f01" ref-type="fig">Figure 1.5</xref>). Finally, to ensure that data are properly managed under the different deployments, Honeycomb supports different formats and mechanisms for saving data (<xref rid="f01" ref-type="fig">Figures 1.8</xref>, <xref rid="f01" ref-type="fig">1.9</xref>, and <xref rid="f01" ref-type="fig">1.10</xref>).</p>
    <sec>
      <title>Case study</title>
      <p>One participant (P1) underwent DBS surgery for treatment of severe, intractable OCD. The participant performed the MSIT at repeated intervals in the clinic and at home. To compare task performance between different locations, we deployed the same Honeycomb-based MSIT (<xref rid="f02" ref-type="fig">Figure 2A and 2B</xref>) both when participant P1 visited the clinic for DBS programming and when the participant was at home. Response times during the MSIT have been found to improve in response to effective DBS treatment for OCD.<xref rid="B23" ref-type="bibr">23</xref> Clinical assessments, including the Yale-Brown Obsessive Compulsive Scale (YBOCS), YBOCS II, Hamilton Depression Rating Scale (HDRS), and Young’s Mania Rating Scale (YMRS) were administered at each clinical visit.</p>
    </sec>
    <sec>
      <title>Ethics statement</title>
      <p>The participant gave informed consent and data presented were collected in accordance with recommendations of the federal human subjects regulations and under protocol H-40255 approved by the Baylor College of Medicine Institutional Review Board.</p>
    </sec>
    <sec>
      <title>Multi-source interference task</title>
      <p>The MSIT was designed to reliably elicit cognitive conflict in human participants.<xref rid="B24" ref-type="bibr">24</xref>,<xref rid="B25" ref-type="bibr">25</xref> MSIT consists of eight 48-trial blocks. Each trial begins with a 2-second fixation period followed by an image of three integers ranging from 0 to 3. The participant was given a keypad and asked to identify the unique number (“target”) ignoring its position. Congruent and incongruent trials are illustrated in <xref rid="f02" ref-type="fig">Figure 2A</xref> and <xref rid="f03" ref-type="fig">3B</xref>. The trial was congruent if the distractor was flanked by invalid targets (0). The trial was incongruent if the distractor was flanked by valid targets, and if the identity of the target did not match its keypad position. Task code is available at <ext-link xlink:href="https://github.com/brown-ccv/task-msit" ext-link-type="uri">https://github.com/brown-ccv/task-msit</ext-link>.</p>
    </sec>
    <sec>
      <title>Electroencephalography recordings</title>
      <p>Two systems were used to record EEG during MSIT: a 64-channel ActiCap BrainVision system with a BrainVision Trigger Box and photodiode (Brain Vision, Morrisville, USA) sampled at 5 kHz, and an Open Ephys acquisition board (Open Ephys, Cambridge, USA) with an open-source event trigger device and photodiode sampled at 30 kHz.</p>
    </sec>
    <sec>
      <title>Synchronization of task behavior to external recording system</title>
      <p>Previous studies have shown that stimulus and response timing varies across online and application-based experiment generators. Application-based deployment has been found to have 1 ms precision in saving behavioral timing data (e.g., stimulus presentation and response times), led by packages such as PsychToolBox and PsychoPy, while most online packages, including jsPsych, achieved sub 10 ms precision in saving behavioral timing data.<xref rid="B26" ref-type="bibr">26</xref> While application-based deployment enables higher timing precision, some groups have concluded that the sub 10 ms precision provided by online deployment is also suitable for measuring response times in behavioral research.<xref rid="B27" ref-type="bibr">27</xref> During concurrent electrophysiological recordings, an additional form of latency should be considered; the latency between the experiment generator (saved task behavior) and the event triggers detected on the external recording system. We thus propose a best practice method for synchronization of EEG and saved behavioral timing data and estimate the timing error for the method.</p>
      <p>To guarantee robust synchronization of EEG with saved task behavior, we utilized both a photodiode placed on the screen of the task monitor and event codes sent from the COM port of the task computer to either the BrainVision Trigger Box or the open-source event trigger device. The photodiode captures changes in brightness on the screen at very small latencies and is considered to be a ground truth estimate for when new stimuli are presented on a screen.<xref rid="B28" ref-type="bibr">28</xref> For example, during the MSIT, the lower right-hand corner of the screen was programmed to show a white dot for 40 ms when new stimuli were presented. The change in brightness is captured in an analog recording channel that provides an accurate time estimation of when the event happened but provides no information about what happened. The event codes can be programmed to carry information about what happened on the screen. For example, during MSIT, fixation crosses send a “1” code, and stimulus presentation sends a “2” code (<xref rid="f02" ref-type="fig">Figure 2C</xref>). Due to latencies of COM port communication however, timing of event codes is less accurate than that of the photodiode.</p>
    </sec>
    <sec>
      <title>Time synchronization error between task behavior and external recording system</title>
      <p>We quantified the latency between the photodiode recording, event codes, and jsPsych JSON saving to estimate the accuracy at which we can align task behavior to electrophysiological data. A single MSIT run (eight 48-trial blocks) from participant P1 was used to evaluate each acquisition system: the BrainVision/Trigger Box system and the Open Ephys/open-source event trigger system. Timing information for events was saved in three streams: elapsed time in JSON, photodiode pulses, and numeric event codes. Photodiode crossings were computed by finding the base of peaks in the difference time series identified using the MATLAB (MathWorks, Natick, USA) function findpeaks. In order to align the three streams, the time for the first photodiode threshold crossing was subtracted from the timing for all other photodiode and event code markers, and the corresponding event time in JSON was subtracted from all the JSON times. Differences in timing between the three streams were then computed for each event. The mean of each distribution of differences was then subtracted to account for any offset in the initial alignment point, and normal distributions were fit to the data using the MATLAB function fitdist. To quantify time synchronization error, we computed the latencies corresponding to the 2.5 and 97.5% percentiles of the normal distribution, and reported the absolute deviation from the mean. When using BrainVision, 95% of the latencies were within 23 ms between the JSON and event codes (<xref rid="f02" ref-type="fig">Figure 2D</xref>), within 12 ms between the JSON and photodiode (<xref rid="f02" ref-type="fig">Figure 2E</xref>), and within 25 ms between the photodiode and event codes. When using Open Ephys with the open-source event trigger, 95% of the latencies were within 42 ms between the JSON and event codes (<xref rid="f02" ref-type="fig">Figure 2D</xref>), within 16 ms between the JSON and photodiode (<xref rid="f02" ref-type="fig">Figure 2E</xref>), and within 45 ms between the photodiode and event codes.</p>
      <p>Utilizing the photodiode led to the least amount of error in time synchronization between EEG and task behavior (∼ 12 ms using the BrainVision Trigger Box and ∼ 16 ms using our open-source event trigger with Open Ephys). These time delays are dependent on the latency between when the stimulus is updated on the screen and the aforementioned latency (∼ 10 ms) between the jsPsych call and the saved timestamp in the output JSON (inherent to the experiment generator). The display of task stimuli on a presentation screen is dependent on-screen refresh rate. For example, 60 Hz screen refresh rate leads to a maximum of 16 ms of potential error between when the jsPsych call is made, and when the task stimulus is presented. We recommend including both the photodiode sensor and event trigger during a task, as it is beneficial both for redundancy and improved synchronization accuracy. The open-source event trigger device has a 20 ms increase in latency when compared to the BrainVision Trigger Box, however, in both cases, the photodiode will alleviate any latencies occurring due to COM port communication.</p>
    </sec>
    <sec>
      <title>Synchronization of task behavior to electrophysiological data collected on the same device</title>
      <p>Collecting synchronized task data and electrophysiology in the home environment presents different needs than a typical laboratory or clinic scenario. External electrophysiological recording systems are typically not available in the home environment, and therefore the event codes and photodiode cannot be used to aid in synchronization. Wireless, implantable neuromodulation devices are ideal for enabling participants to trigger their own recordings at home. Electrophysiological data were recorded using the Summit RC+S (Medtronic, Minneapolis, USA) via wireless data streaming from implanted electrodes to the tablet running the task. Each Summit RC+S data packet contains timing information for when it was received and an estimate for the latency between data creation and receipt. Together, these variables can be used to estimate the time of day when each packet was sampled. Task-related timestamps are saved to JSON on the same clock, allowing for direct alignment between the electrophysiological data and the task JSON file. The accuracy of this alignment will depend on the reliability of the estimate for the time between data generation and receipt, and latency inherent to the experiment generator. Without timing correction provided by the photodiode, we rely on JavaScript task timing accurate to the sub 10 ms level, as reported by Bridges et al.<xref rid="B26" ref-type="bibr">26</xref>
</p>
    </sec>
  </sec>
  <sec sec-type="results">
    <title>Results</title>
    <p>The participant met responder status (&gt; 35% reduction in YBOCS score) at ∼ 180 days after DBS (<xref rid="f03" ref-type="fig">Figure 3A</xref>). The participant performed the task accurately, and as expected we found a significant decrease in accuracy (<xref rid="f03" ref-type="fig">Figure 3B and 3C</xref>) and significant increase in response time (<xref rid="f03" ref-type="fig">Figure 3D and 3E</xref>) for incongruent trials compared to congruent trials. We found that, overall, the participant’s MSIT performance in the clinic and at home followed a similar trend. Accuracy and response time in the clinic and at home were not significantly different (<italic>t</italic> test, p &gt; 0.05) after accounting for the effect of drift over time. We also found that the characteristic conflict effects in the incongruent trials (i.e., lower accuracy and longer response time) were not only observed in the clinic (<xref rid="f03" ref-type="fig">triangles in Figures 3C and 3E</xref>), but also at home (dots in <xref rid="f03" ref-type="fig">Figures 3C</xref> and <xref rid="f03" ref-type="fig">3E</xref>). Collecting behavioral data at home did not compromise the quality of the data collected during the MSIT. Moreover, the flexibility of deploying a task at home has enabled ongoing data collection during the COVID-19 pandemic. We were able to keep collecting data despite restrictions on in-person interaction and travel.</p>
  </sec>
  <sec sec-type="discussion">
    <title>Discussion</title>
    <p>Currently, using a single code base to build online and desktop-based applications is time-consuming and difficult in popular task creation frameworks such as psychoPy, jsPsych, and PsychToolBox.<xref rid="B29" ref-type="bibr">29</xref> Maintaining separate code bases for online and desktop-based deployment is time-consuming and error prone. We developed software infrastructure for maintaining and deploying behavioral tasks both online and in research settings during concurrent electrophysiological recordings. We have organized all components that are common to task development and deployment into a template repository that follows best practices in web-deployment and psychophysiological task creation. This template allows for creation of new tasks that are easy to configure and deployment ready. Further, we have shown that we can accurately align Honeycomb task behavior with external electrophysiology systems with a ± 12 ms latency, and provide plans for a low-cost, open-source event trigger device that is compatible with Honeycomb and is adaptable to most electrophysiology recording platforms. Our motivation was to reduce startup costs for psychology and psychiatry researchers to build, deploy, maintain, and share their own tasks. Simultaneous online and desktop-based task deployment could enable characterization of population behavior and neural biomarker discovery for functional deficits underlying psychiatric disorders.</p>
    <p>Administering behavioral tasks both in large populations online and in small participant cohorts during electrophysiological recordings is important for furthering computational psychiatry research.<xref rid="B14" ref-type="bibr">14</xref>,<xref rid="B15" ref-type="bibr">15</xref> Assessing task behavior in a large population of participants allows for characterization of the full spectrum of behavior that can be expected from a behavioral task. Researchers can examine how subclinical measures of behavioral constructs implicated in psychiatric disorders, such as impulsivity or delusions, may predict task behavior in large samples.<xref rid="B30" ref-type="bibr">30</xref>,<xref rid="B31" ref-type="bibr">31</xref> For electrophysiological studies with relatively small cohort sizes, a study participant’s behavior can then be put in the context of a broader population. Flexible deployment enables researchers to quantify how subclinical measures and task behavior varies over time within single participants with limited burden on researchers and participants alike. Lastly, online deployment enables the collection of large samples for the sake of task parameter optimizations to achieve desired behavioral effects.</p>
    <p>To demonstrate the utility of cross-platform deployment in psychiatry, we presented MSIT performance over time from one participant with DBS for OCD. This work is part of an ongoing study aiming to identify neural biomarkers of OCD symptoms and adverse side effects of DBS in order to enable an adaptive DBS (aDBS) system for OCD. MSIT engages brain circuits related to cognitive control, and deficits in cognitive control have been found in OCD.<xref rid="B24" ref-type="bibr">24</xref>,<xref rid="B32" ref-type="bibr">32</xref>-<xref rid="B34" ref-type="bibr">34</xref> By monitoring MSIT performance both in the clinic before regularly scheduled DBS programming sessions and at home, we are able to quantify subtle changes in MSIT performance that may be reflected in or provide supplemental information to routine clinical assessments such as the YBOCS, YBOCS-II, HDRS, and YMRS. Honeycomb enabled us to avoid inconsistencies across the at-home and in clinic version of the task, such as subtle differences in stimulus presentation that could impact behavioral performance and the conclusions drawn from analysis. Additionally, without Honeycomb, it would have been time consuming to set up and maintain the different versions of the task, especially as minor tweaks (e.g., wording of instructions) were made over time. Analyzing how MSIT performance metrics change over time with clinical measures, both in the clinic and at home, may allow us to draw conclusions about how task performance may provide insight to functional deficits that contribute to symptoms, which may be a more productive avenue toward finding neural biomarkers relevant to psychiatry.<xref rid="B10" ref-type="bibr">10</xref>,<xref rid="B18" ref-type="bibr">18</xref> Further, in the future, we plan to use Honeycomb to compare MSIT performance in OCD participants to that of a normative population in a large-scale online study.</p>
    <p>In order to choose a task platform and language that would work for the complex needs of our experimental set up, customization was essential. Many groups aim to create psychophysiological tasks with minimal programming (more GUI based), however customizing these tasks to synchronize with electrophysiology or configure for flexible deployment is difficult or even impossible. While Honeycomb requires programming skills, which some may see as a disadvantage, tasks created with Honeycomb support various deployment configurations and can be extended beyond the functionality provided by our template. Likewise, we acknowledge that many laboratories and researchers have legacy code in other coding languages that do not allow for online deployment. To take advantage of Honeycomb, legacy code and new tasks would have to be converted to JavaScript. While this does require a time investment up front, there are several jsPsych tutorials to help programmers that are new to JavaScript get started.</p>
    <p>In the future, we would like to expand the capabilities of Honeycomb to be compatible with a greater variety of external electrophysiological recording systems. Currently, Honeycomb event code messages are compatible with the BrainVision Trigger Box, and our open-source event trigger device. While the open-source plans for the event trigger device provide most of the functionality for integration with external electrophysiology systems, custom-built adapters are necessary to connect the output of the event trigger device to the analog or digital input of the electrophysiology rig. We would also like to provide out-of-the-box builds for mobile platforms. Finally, we look to continue enhancing modularity and maintainability by introducing a command-line interface program that interactively asks questions to the user and generates a starter task according to the answers. This approach reduces the size of the source code and the builds by removing unused features and deployments. Moreover, upcoming changes and improvements to jsPsych will need to be incorporated to future versions of the Honeycomb.</p>
    <p>Lastly, through flexible online deployment of behavioral tasks, we hope to diversify the sample of the population used to represent human behavior in psychology and psychiatry research. Online deployment allows researchers to access populations that would otherwise be impossible to reach. Additionally, we aim to facilitate a way for researchers to continue data collection during the coronavirus disease 2019 (COVID-19) pandemic that can be easily transitioned back to research settings with concurrent electrophysiology when the pandemic is over.</p>
  </sec>
  <sec>
    <title>Data and material availability</title>
    <p>Code used to produce this manuscript is available on GitHub at <ext-link xlink:href="https://github.com/brown-ccv/honeycomb" ext-link-type="uri">https://github.com/brown-ccv/honeycomb</ext-link>.</p>
  </sec>
  <sec sec-type="COI-statement">
    <title>Disclosure</title>
    <p>Summit RC+S devices were donated by Medtronic. WKG and DAB have received device donations from Medtronic as part of the NIH BRAIN public-private-partnership program (PPP). WKG has received honoraria from Biohaven Pharmaceuticals and Neurocrine Biosciences. The other authors report no conflicts of interest.</p>
  </sec>
</body>
<back>
  <ack>
    <title>Acknowledgements</title>
    <p>Part of this research was conducted using computational resources and services at the Center for Computation and Visualization, Brown University. NRP, WM, EMD, MJF, WKG, and DAB were supported by the National Institutes of Health – National Institute of Neurological Disorders and Stroke (NIH-NINDS) BRAIN Initiative (contract UH3NS100549). NRP was supported by the Charles Stark Draper Laboratory Fellowship. EMD was supported by the Karen T. Romer Undergraduate Teaching and Research Award under guidance of DAB. WM and MJF were supported in part by NIMH R01 MH084840. We thank the participants and their families.</p>
  </ack>
  <fn-group>
    <fn fn-type="other">
      <p><bold>How to cite this article:</bold> Provenza NR, Gelin LFF, Mahaphanit W, McGrath MC, Dastin-van Rijn EM, Fan Y, et al. Honeycomb: a template for reproducible psychophysiological tasks for clinic, laboratory, and home use. Braz J Psychiatry. 2022;44:147-155. <ext-link xlink:href="http://dx.doi.org/10.1590/1516-4446-2020-1675" ext-link-type="uri">http://dx.doi.org/10.1590/1516-4446-2020-1675</ext-link></p>
    </fn>
  </fn-group>
  <ref-list>
    <title>References</title>
    <ref id="B01">
      <label>1</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Botvinick</surname>
            <given-names>MM</given-names>
          </name>
          <name>
            <surname>Braver</surname>
            <given-names>TS</given-names>
          </name>
          <name>
            <surname>Barch</surname>
            <given-names>DM</given-names>
          </name>
          <name>
            <surname>Carter</surname>
            <given-names>CS</given-names>
          </name>
          <name>
            <surname>Cohen</surname>
            <given-names>JD</given-names>
          </name>
        </person-group>
        <article-title>Conflict monitoring and cognitive control</article-title>
        <source>Psychol Rev</source>
        <year>2001</year>
        <volume>108</volume>
        <fpage>624</fpage>
        <lpage>52</lpage>
        <pub-id pub-id-type="pmid">11488380</pub-id>
      </element-citation>
    </ref>
    <ref id="B02">
      <label>2</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Gläscher</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Daw</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Dayan</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>O’Doherty</surname>
            <given-names>JP</given-names>
          </name>
        </person-group>
        <article-title>States versus rewards: dissociable neural prediction error signals underlying model-based and model-free reinforcement learning</article-title>
        <source>Neuron</source>
        <year>2010</year>
        <volume>66</volume>
        <fpage>585</fpage>
        <lpage>95</lpage>
        <pub-id pub-id-type="pmid">20510862</pub-id>
      </element-citation>
    </ref>
    <ref id="B03">
      <label>3</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Schultz</surname>
            <given-names>W</given-names>
          </name>
          <name>
            <surname>Tremblay</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Hollerman</surname>
            <given-names>JR</given-names>
          </name>
        </person-group>
        <article-title>Reward processing in primate orbitofrontal cortex and basal ganglia</article-title>
        <source>Cereb Cortex</source>
        <year>2000</year>
        <volume>10</volume>
        <fpage>272</fpage>
        <lpage>84</lpage>
        <pub-id pub-id-type="pmid">10731222</pub-id>
      </element-citation>
    </ref>
    <ref id="B04">
      <label>4</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Grisanzio</surname>
            <given-names>KA</given-names>
          </name>
          <name>
            <surname>Goldstein-Piekarski</surname>
            <given-names>AN</given-names>
          </name>
          <name>
            <surname>Wang</surname>
            <given-names>MY</given-names>
          </name>
          <name>
            <surname>Ahmed</surname>
            <given-names>AP</given-names>
          </name>
          <name>
            <surname>Samara</surname>
            <given-names>Z</given-names>
          </name>
          <name>
            <surname>Williams</surname>
            <given-names>LM</given-names>
          </name>
        </person-group>
        <article-title>Transdiagnostic symptom clusters and associations with brain, behavior, and daily function in mood, anxiety, and trauma disorders</article-title>
        <source>JAMA Psychiatry</source>
        <year>2018</year>
        <volume>75</volume>
        <fpage>201</fpage>
        <lpage>9</lpage>
        <pub-id pub-id-type="pmid">29197929</pub-id>
      </element-citation>
    </ref>
    <ref id="B05">
      <label>5</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Fineberg</surname>
            <given-names>NA</given-names>
          </name>
          <name>
            <surname>Potenza</surname>
            <given-names>MN</given-names>
          </name>
          <name>
            <surname>Chamberlain</surname>
            <given-names>SR</given-names>
          </name>
          <name>
            <surname>Berlin</surname>
            <given-names>HA</given-names>
          </name>
          <name>
            <surname>Menzies</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Bechara</surname>
            <given-names>A</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Probing compulsive and impulsive behaviors, from animal models to endophenotypes: a narrative review</article-title>
        <source>Neuropsychopharmacology</source>
        <year>2010</year>
        <volume>35</volume>
        <fpage>591</fpage>
        <lpage>604</lpage>
        <pub-id pub-id-type="pmid">19940844</pub-id>
      </element-citation>
    </ref>
    <ref id="B06">
      <label>6</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Trivedi</surname>
            <given-names>MH</given-names>
          </name>
          <name>
            <surname>Greer</surname>
            <given-names>TL</given-names>
          </name>
        </person-group>
        <article-title>Cognitive dysfunction in unipolar depression: implications for treatment</article-title>
        <source>J Affect Disord</source>
        <year>2014</year>
        <volume>152-4</volume>
        <fpage>19</fpage>
        <lpage>27</lpage>
      </element-citation>
    </ref>
    <ref id="B07">
      <label>7</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Robbins</surname>
            <given-names>TW</given-names>
          </name>
          <name>
            <surname>Gillan</surname>
            <given-names>CM</given-names>
          </name>
          <name>
            <surname>Smith</surname>
            <given-names>DG</given-names>
          </name>
          <name>
            <surname>de Wit</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Ersche</surname>
            <given-names>KD</given-names>
          </name>
        </person-group>
        <article-title>Neurocognitive endophenotypes of impulsivity and compulsivity: towards dimensional psychiatry</article-title>
        <source>Trends Cogn Sci</source>
        <year>2012</year>
        <volume>16</volume>
        <fpage>81</fpage>
        <lpage>91</lpage>
        <pub-id pub-id-type="pmid">22155014</pub-id>
      </element-citation>
    </ref>
    <ref id="B08">
      <label>8</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Gillan</surname>
            <given-names>CM</given-names>
          </name>
          <name>
            <surname>Kosinski</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Whelan</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Phelps</surname>
            <given-names>EA</given-names>
          </name>
          <name>
            <surname>Daw</surname>
            <given-names>ND</given-names>
          </name>
        </person-group>
        <article-title>Characterizing a psychiatric symptom dimension related to deficits in goal-directed control</article-title>
        <source>Elife</source>
        <year>2016</year>
        <volume>5</volume>
        <fpage>e11305</fpage>
        <pub-id pub-id-type="pmid">26928075</pub-id>
      </element-citation>
    </ref>
    <ref id="B09">
      <label>9</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Insel</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Cuthbert</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Garvey</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Heinssen</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Pine</surname>
            <given-names>DS</given-names>
          </name>
          <name>
            <surname>Quinn</surname>
            <given-names>K</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Research domain criteria (RDoC): toward a new classification framework for research on mental disorders</article-title>
        <source>Am J Psychiatry</source>
        <year>2010</year>
        <volume>167</volume>
        <fpage>748</fpage>
        <lpage>51</lpage>
        <pub-id pub-id-type="pmid">20595427</pub-id>
      </element-citation>
    </ref>
    <ref id="B10">
      <label>10</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Widge</surname>
            <given-names>AS</given-names>
          </name>
          <name>
            <surname>Ellard</surname>
            <given-names>KK</given-names>
          </name>
          <name>
            <surname>Paulk</surname>
            <given-names>AC</given-names>
          </name>
          <name>
            <surname>Basu</surname>
            <given-names>I</given-names>
          </name>
          <name>
            <surname>Yousefi</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Zorowitz</surname>
            <given-names>S</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Treating refractory mental illness with closed-loop brain stimulation: progress towards a patient-specific transdiagnostic approach</article-title>
        <source>Exp Neurol</source>
        <year>2017</year>
        <volume>287</volume>
        <fpage>461</fpage>
        <lpage>72</lpage>
        <pub-id pub-id-type="pmid">27485972</pub-id>
      </element-citation>
    </ref>
    <ref id="B11">
      <label>11</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Johnson</surname>
            <given-names>EL</given-names>
          </name>
          <name>
            <surname>Kam</surname>
            <given-names>JW</given-names>
          </name>
          <name>
            <surname>Tzovara</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Knight</surname>
            <given-names>RT</given-names>
          </name>
        </person-group>
        <article-title>Insights into human cognition from intracranial EEG: a review of audition, memory, internal cognition, and causality</article-title>
        <source>J Neural Eng</source>
        <year>2020</year>
        <volume>17</volume>
        <fpage>051001</fpage>
        <pub-id pub-id-type="pmid">32916678</pub-id>
      </element-citation>
    </ref>
    <ref id="B12">
      <label>12</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Pujara</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Koenigs</surname>
            <given-names>M</given-names>
          </name>
        </person-group>
        <article-title>Mechanisms of reward circuit dysfunction in psychiatric illness: prefrontal-striatal interactions</article-title>
        <source>Neuroscientist</source>
        <year>2014</year>
        <volume>20</volume>
        <fpage>82.95</fpage>
        <lpage>82.95</lpage>
        <pub-id pub-id-type="pmid">23924665</pub-id>
      </element-citation>
    </ref>
    <ref id="B13">
      <label>13</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Whitton</surname>
            <given-names>AE</given-names>
          </name>
          <name>
            <surname>Treadway</surname>
            <given-names>MT</given-names>
          </name>
          <name>
            <surname>Pizzagalli</surname>
            <given-names>DA</given-names>
          </name>
        </person-group>
        <article-title>Reward processing dysfunction in major depression, bipolar disorder and schizophrenia</article-title>
        <source>Curr Opin Psychiatry</source>
        <year>2015</year>
        <volume>28</volume>
        <fpage>7</fpage>
        <lpage>12</lpage>
        <pub-id pub-id-type="pmid">25415499</pub-id>
      </element-citation>
    </ref>
    <ref id="B14">
      <label>14</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Browning</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Carter</surname>
            <given-names>CS</given-names>
          </name>
          <name>
            <surname>Chatham</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Den Ouden</surname>
            <given-names>H</given-names>
          </name>
          <name>
            <surname>Gillan</surname>
            <given-names>CM</given-names>
          </name>
          <name>
            <surname>Baker</surname>
            <given-names>JT</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Realizing the clinical potential of computational psychiatry: report from the banbury center meeting, February 2019</article-title>
        <source>Biol Psychiatry</source>
        <year>2020</year>
        <volume>88</volume>
        <fpage>e5</fpage>
        <lpage>10</lpage>
        <pub-id pub-id-type="pmid">32113656</pub-id>
      </element-citation>
    </ref>
    <ref id="B15">
      <label>15</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Huys</surname>
            <given-names>QJ</given-names>
          </name>
          <name>
            <surname>Maia</surname>
            <given-names>TV</given-names>
          </name>
          <name>
            <surname>Frank</surname>
            <given-names>MJ</given-names>
          </name>
        </person-group>
        <article-title>Computational psychiatry as a bridge from neuroscience to clinical applications</article-title>
        <source>Nat Neurosci</source>
        <year>2016</year>
        <volume>19</volume>
        <fpage>404</fpage>
        <lpage>13</lpage>
        <pub-id pub-id-type="pmid">26906507</pub-id>
      </element-citation>
    </ref>
    <ref id="B16">
      <label>16</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Skarpaas</surname>
            <given-names>TL</given-names>
          </name>
          <name>
            <surname>Jarosiewicz</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Morrell</surname>
            <given-names>MJ</given-names>
          </name>
        </person-group>
        <article-title>Brain-responsive neurostimulation for epilepsy (RNS® System)</article-title>
        <source>Epilepsy Res</source>
        <year>2019</year>
        <volume>153</volume>
        <fpage>68</fpage>
        <lpage>70</lpage>
        <pub-id pub-id-type="pmid">30850259</pub-id>
      </element-citation>
    </ref>
    <ref id="B17">
      <label>17</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Stanslaski</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Herron</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Chouinard</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Bourget</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Isaacson</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Kremen</surname>
            <given-names>V</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>A chronically implantable neural coprocessor for investigating the treatment of neurological disorders</article-title>
        <source>IEEE Trans Biomed Circuits Syst</source>
        <year>2018</year>
        <volume>12</volume>
        <fpage>1230</fpage>
        <lpage>45</lpage>
        <pub-id pub-id-type="pmid">30418885</pub-id>
      </element-citation>
    </ref>
    <ref id="B18">
      <label>18</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Provenza</surname>
            <given-names>NR</given-names>
          </name>
          <name>
            <surname>Matteson</surname>
            <given-names>ER</given-names>
          </name>
          <name>
            <surname>Allawala</surname>
            <given-names>AB</given-names>
          </name>
          <name>
            <surname>Barrios-Anderson</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Sheth</surname>
            <given-names>SA</given-names>
          </name>
          <name>
            <surname>Viswanathan</surname>
            <given-names>A</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>The case for adaptive neuromodulation to treat severe intractable mental disorders</article-title>
        <source>Front Neurosci</source>
        <year>2019</year>
        <volume>13</volume>
        <fpage>152</fpage>
        <pub-id pub-id-type="pmid">30890909</pub-id>
      </element-citation>
    </ref>
    <ref id="B19">
      <label>19</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Olsen</surname>
            <given-names>ST</given-names>
          </name>
          <name>
            <surname>Basu</surname>
            <given-names>I</given-names>
          </name>
          <name>
            <surname>Bilge</surname>
            <given-names>MT</given-names>
          </name>
          <name>
            <surname>Kanabar</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Boggess</surname>
            <given-names>MJ</given-names>
          </name>
          <name>
            <surname>Rockhill</surname>
            <given-names>AP</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Case report of dual-site neurostimulation and chronic recording of cortico-striatal circuitry in a patient with treatment refractory obsessive compulsive disorder</article-title>
        <source>Front Hum Neurosci</source>
        <year>2020</year>
        <volume>14</volume>
        <fpage>569973</fpage>
        <pub-id pub-id-type="pmid">33192400</pub-id>
      </element-citation>
    </ref>
    <ref id="B20">
      <label>20</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Buhrmester</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Kwang</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Gosling</surname>
            <given-names>SD</given-names>
          </name>
        </person-group>
        <article-title>Amazon’s mechanical Turk: a new source of inexpensive, yet high-quality data?</article-title>
        <source>Perspect Psychol Sci</source>
        <year>2011</year>
        <volume>6</volume>
        <fpage>3</fpage>
        <lpage>5</lpage>
        <pub-id pub-id-type="pmid">26162106</pub-id>
      </element-citation>
    </ref>
    <ref id="B21">
      <label>21</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Gureckis</surname>
            <given-names>TM</given-names>
          </name>
          <name>
            <surname>Martin</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>McDonnell</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Rich</surname>
            <given-names>AS</given-names>
          </name>
          <name>
            <surname>Markant</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Coenen</surname>
            <given-names>A</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>psiTurk: an open-source framework for conducting replicable behavioral experiments online</article-title>
        <source>Behav Res Methods</source>
        <year>2016</year>
        <volume>48</volume>
        <fpage>829</fpage>
        <lpage>42</lpage>
        <pub-id pub-id-type="pmid">26428910</pub-id>
      </element-citation>
    </ref>
    <ref id="B22">
      <label>22</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>de Leeuw</surname>
            <given-names>JR</given-names>
          </name>
        </person-group>
        <article-title>jsPsych: a JavaScript library for creating behavioral experiments in a Web browser</article-title>
        <source>Behav Res Methods</source>
        <year>2015</year>
        <volume>47</volume>
        <fpage>1</fpage>
        <lpage>12</lpage>
        <pub-id pub-id-type="pmid">24683129</pub-id>
      </element-citation>
    </ref>
    <ref id="B23">
      <label>23</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Widge</surname>
            <given-names>AS</given-names>
          </name>
          <name>
            <surname>Zorowitz</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Basu</surname>
            <given-names>I</given-names>
          </name>
          <name>
            <surname>Paulk</surname>
            <given-names>AC</given-names>
          </name>
          <name>
            <surname>Cash</surname>
            <given-names>SS</given-names>
          </name>
          <name>
            <surname>Eskandar</surname>
            <given-names>EN</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Deep brain stimulation of the internal capsule enhances human cognitive control and prefrontal cortex function</article-title>
        <source>Nat Commun</source>
        <year>2019</year>
        <volume>10</volume>
        <fpage>1536</fpage>
        <pub-id pub-id-type="pmid">30948727</pub-id>
      </element-citation>
    </ref>
    <ref id="B24">
      <label>24</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Bush</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Shin</surname>
            <given-names>LM</given-names>
          </name>
        </person-group>
        <article-title>The Multi-Source Interference Task: an fMRI task that reliably activates the cingulo-frontal-parietal cognitive/attention network</article-title>
        <source>Nat Protoc</source>
        <year>2006</year>
        <volume>1</volume>
        <fpage>308</fpage>
        <lpage>13</lpage>
        <pub-id pub-id-type="pmid">17406250</pub-id>
      </element-citation>
    </ref>
    <ref id="B25">
      <label>25</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Bush</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Shin</surname>
            <given-names>LM</given-names>
          </name>
          <name>
            <surname>Holmes</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Rosen</surname>
            <given-names>BR</given-names>
          </name>
          <name>
            <surname>Vogt</surname>
            <given-names>BA</given-names>
          </name>
        </person-group>
        <article-title>The Multi-Source Interference Task: validation study with fMRI in individual subjects</article-title>
        <source>Mol Psychiatry</source>
        <year>2003</year>
        <volume>8</volume>
        <fpage>60</fpage>
        <lpage>70</lpage>
        <pub-id pub-id-type="pmid">12556909</pub-id>
      </element-citation>
    </ref>
    <ref id="B26">
      <label>26</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Bridges</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Pitiot</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>MacAskill</surname>
            <given-names>MR</given-names>
          </name>
          <name>
            <surname>Peirce</surname>
            <given-names>JW</given-names>
          </name>
        </person-group>
        <article-title>The timing mega-study: comparing a range of experiment generators, both lab-based and online</article-title>
        <source>PeerJ</source>
        <year>2020</year>
        <volume>8</volume>
        <fpage>e9414</fpage>
        <pub-id pub-id-type="pmid">33005482</pub-id>
      </element-citation>
    </ref>
    <ref id="B27">
      <label>27</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>de</surname>
            <given-names>Leeuw JR</given-names>
          </name>
          <name>
            <surname>Motz</surname>
            <given-names>BA</given-names>
          </name>
        </person-group>
        <article-title>Psychophysics in a Web browser? Comparing response times collected with JavaScript and Psychophysics Toolbox in a visual search task</article-title>
        <source>Behav Res Methods</source>
        <year>2016</year>
        <volume>48</volume>
        <fpage>1</fpage>
        <lpage>12</lpage>
        <pub-id pub-id-type="pmid">25761390</pub-id>
      </element-citation>
    </ref>
    <ref id="B28">
      <label>28</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Schultz</surname>
            <given-names>BG</given-names>
          </name>
          <name>
            <surname>Biau</surname>
            <given-names>E</given-names>
          </name>
          <name>
            <surname>Kotz</surname>
            <given-names>SA</given-names>
          </name>
        </person-group>
        <article-title>An open-source toolbox for measuring dynamic video framerates and synchronizing video stimuli with neural and behavioral responses</article-title>
        <source>J Neurosci Methods</source>
        <year>2020</year>
        <volume>343</volume>
        <fpage>108830</fpage>
        <pub-id pub-id-type="pmid">32603812</pub-id>
      </element-citation>
    </ref>
    <ref id="B29">
      <label>29</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Kleiner</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Brainard</surname>
            <given-names>DH</given-names>
          </name>
          <name>
            <surname>Pelli</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Ingling</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Murray</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Broussard</surname>
            <given-names>C</given-names>
          </name>
        </person-group>
        <article-title>What’s new in psychtoolbox-3?</article-title>
        <source>Percept</source>
        <year>2007</year>
        <volume>36</volume>
        <fpage>1</fpage>
        <lpage>16</lpage>
      </element-citation>
    </ref>
    <ref id="B30">
      <label>30</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Shapiro</surname>
            <given-names>DN</given-names>
          </name>
          <name>
            <surname>Chandler</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Mueller</surname>
            <given-names>PA</given-names>
          </name>
        </person-group>
        <article-title>Using mechanical Turk to study clinical populations</article-title>
        <source>Clin Psychol Sci</source>
        <year>2012</year>
        <volume>1</volume>
        <fpage>213</fpage>
        <lpage>20</lpage>
      </element-citation>
    </ref>
    <ref id="B31">
      <label>31</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Bronstein</surname>
            <given-names>MV</given-names>
          </name>
          <name>
            <surname>Everaert</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Castro</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Joormann</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Cannon</surname>
            <given-names>TD</given-names>
          </name>
        </person-group>
        <article-title>Pathways to paranoia: analytic thinking and belief flexibility</article-title>
        <source>Behav Res Ther</source>
        <year>2019</year>
        <volume>113</volume>
        <fpage>18</fpage>
        <lpage>24</lpage>
        <pub-id pub-id-type="pmid">30580159</pub-id>
      </element-citation>
    </ref>
    <ref id="B32">
      <label>32</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Shin</surname>
            <given-names>NY</given-names>
          </name>
          <name>
            <surname>Lee</surname>
            <given-names>TY</given-names>
          </name>
          <name>
            <surname>Kim</surname>
            <given-names>E</given-names>
          </name>
          <name>
            <surname>Kwon</surname>
            <given-names>JS</given-names>
          </name>
        </person-group>
        <article-title>Cognitive functioning in obsessive-compulsive disorder: a meta-analysis</article-title>
        <source>Psychol Med</source>
        <year>2014</year>
        <volume>44</volume>
        <fpage>1121</fpage>
        <lpage>30</lpage>
        <pub-id pub-id-type="pmid">23866289</pub-id>
      </element-citation>
    </ref>
    <ref id="B33">
      <label>33</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Voon</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Derbyshire</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Rück</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Irvine</surname>
            <given-names>MA</given-names>
          </name>
          <name>
            <surname>Worbe</surname>
            <given-names>Y</given-names>
          </name>
          <name>
            <surname>Enander</surname>
            <given-names>J</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Disorders of compulsivity: a common bias towards learning habits</article-title>
        <source>Mol Psychiatry</source>
        <year>2015</year>
        <volume>20</volume>
        <fpage>345</fpage>
        <lpage>52</lpage>
        <pub-id pub-id-type="pmid">24840709</pub-id>
      </element-citation>
    </ref>
    <ref id="B34">
      <label>34</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Vaghi</surname>
            <given-names>MM</given-names>
          </name>
          <name>
            <surname>Vértes</surname>
            <given-names>PE</given-names>
          </name>
          <name>
            <surname>Kitzbichler</surname>
            <given-names>MG</given-names>
          </name>
          <name>
            <surname>Apergis-Schoute</surname>
            <given-names>AM</given-names>
          </name>
          <name>
            <surname>van der Flier</surname>
            <given-names>FE</given-names>
          </name>
          <name>
            <surname>Fineberg</surname>
            <given-names>NA</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Specific frontostriatal circuits for impaired cognitive flexibility and goal-directed planning in obsessive-compulsive disorder: evidence from resting-state functional connectivity</article-title>
        <source>Biol Psychiatry</source>
        <year>2017</year>
        <volume>81</volume>
        <fpage>708</fpage>
        <lpage>17</lpage>
        <pub-id pub-id-type="pmid">27769568</pub-id>
      </element-citation>
    </ref>
  </ref-list>
</back>
<floats-group>
  <fig position="float" id="f01">
    <label>Figure 1</label>
    <caption>
      <title>Honeycomb architecture and workflow. Grey boxes show the pieces that are provided with Honeycomb. White boxes represent what the end-user will interact with. Icons on top left represent the language each piece is written on (<inline-graphic xlink:href="bjp-44-02-147-e001.jpg"/> javascript, <inline-graphic xlink:href="bjp-44-02-147-e002.jpg"/> python, <inline-graphic xlink:href="bjp-44-02-147-e003.jpg"/> GitHub Actions workflow). Dashed line indicates that continuous integration/continuous delivery (CI/CD) happens on GitHub's servers. Path A (gray arrows) summarizes the flow to generate native desktop applications, while path B (black arrows) show options for web-based deployments. 1. jsPsych is the core of Honeycomb. 2. React is a wrapper around jsPsych allowing for modularity and for setting up connections with backends. The arrows show that the same core code base can be used to create desktop applications via (3) Electron.js, or web applications either via (4) psiTurk, or directly as a React application. 5. The provided workflow files will trigger builds and deployments on GitHub servers via GitHub Actions. These actions can build desktop applications for Windows, Mac, and Linux and create an installer that the users/researchers can download to a desktop or tablet for use in the clinic or at home. In addition, GitHub Actions workflows can build and deploy web applications for access via a web browser. 8. Desktop applications are used in the clinic and at home. In this case the data are saved to the device’s file system. 9. psiTurk can be used to manage crowdsourcing via MTurk and the data are saved in the psiTurk database. 10. Researchers can choose to send a link directly to the participants or use other crowd-sourcing services, such as Prolific to distribute the link. In this case the data can be saved to any database (not provided by Honeycomb), or using services like Firebase to host the application and store the data.</title>
    </caption>
    <graphic xlink:href="bjp-44-02-147-g001" position="float"/>
  </fig>
  <fig position="float" id="f02">
    <label>Figure 2</label>
    <caption>
      <title>Task overview and event latency testing. A, B) For the Multi Source Interference Task (MSIT), participants are asked to report the one number that is different from the other two using a button box corresponding to the numbers 1, 2, and 3. Trials consist of a fixation period followed by the stimulus. In congruent trials (A), the distractor numbers are zeros and in incongruent trials (B) distractors are other valid numbers. C) Start timing for the fixation and stimulus events were saved in three streams: photodiode pulses, numeric event codes, and timestamps in JavaScript Object Notation (JSON). D-I) Timing latencies between the three streams (D/G: event codes – JSON, E/H: photodiode – JSON, F/I: event codes – photodiode) using BrainVision (D/E/F) and Open Ephys (G/H/I) were estimated by computing the difference in timing for each event. Normal distributions (black) were fit to the latency data and points within the 95% range are indicated in blue and those outside the range are indicated in orange. RT = response time.</title>
    </caption>
    <graphic xlink:href="bjp-44-02-147-g002" position="float"/>
  </fig>
  <fig position="float" id="f03">
    <label>Figure 3</label>
    <caption>
      <title>Task summary metrics collected in the clinic and at home are consistent over time. A) Clinical assessments measured during each clinical visit for participant P1. The shaded area corresponds to pre-deep brain stimulation (DBS). Black and grey dotted lines indicate the time of surgical implantation and the start of coronavirus disease (COVID-19) pandemic escalation, respectively. The red star marks the criterion of becoming a responder to DBS treatment, measured as a 35% decrease in YBOCS II score from pre-DBS baseline. (B, D) Participant P1’s MSIT task behavior measured in accuracy (P(correct)) in (B) and median response time (median RT) in (D) as a function of days since DBS was turned on. Orange and purple correspond to the congruent and incongruent task conditions, respectively. The triangles represent data collected in the clinic, and the circles represent data collected at home. (C, E) Violin plot showing the distribution of accuracy and median RT in congruent (orange) and incongruent (purple) trials for data collected at home (circles; lighter shade) and in the clinic (triangles; darker shade). White dots indicate the median of the distributions. Note that the at home distributions are not significantly different from the in-clinic distributions, after accounting for the influence of time (multiple linear regression with accuracy (or median RT) as the dependent variable, days from DBS on and the recording location (home or clinic) as the regressors. Congruent trials and incongruent trials were analyzed separately. In each case, the beta coefficient of the recording location is not significant (<italic>t</italic> test, p &gt; 0.05). Also note that accuracies were lower and median RTs were longer in incongruent trials than in congruent trials for both at-home data and in-clinic data (multiple linear regression with accuracy (or median RT) as the dependent variable, days from DBS on and the trial type (congruent or incongruent) as the regressors. At-home and in-clinic data were analyzed separately. In each case, the beta coefficient of the trial type variable is significant (<italic>t</italic> test, p &lt; 0.05). HDRS = Hamilton Depression Rating Scale; n.s. = non-significant; YBOCS II = the Second Edition of the Yale-Brown Obsessive-Compulsive Scale; YBOCS = Yale-Brown Obsessive-Compulsive Scale; YMRS = Young Mania Rating Scale.</title>
    </caption>
    <graphic xlink:href="bjp-44-02-147-g003" position="float"/>
  </fig>
</floats-group>
