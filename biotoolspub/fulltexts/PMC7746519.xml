<?DTDIdentifier.IdentifierValue thiemejournals30.xsd?>
<?DTDIdentifier.IdentifierType nschema?>
<?SourceDTD.DTDName thiemejournals30.xsd?>
<?SourceDTD.Version 3.0?>
<?ConverterInfo.XSLTName thiemexml2nlmx2.xsl?>
<?ConverterInfo.Version 1?>
<?properties open_access?>
<front>
  <journal-meta>
    <journal-id journal-id-type="nlm-ta">Methods Inf Med</journal-id>
    <journal-id journal-id-type="iso-abbrev">Methods Inf Med</journal-id>
    <journal-id journal-id-type="doi">10.1055/s-00035037</journal-id>
    <journal-title-group>
      <journal-title>Methods of Information in Medicine</journal-title>
    </journal-title-group>
    <issn pub-type="ppub">0026-1270</issn>
    <issn pub-type="epub">2511-705X</issn>
    <publisher>
      <publisher-name>Georg Thieme Verlag KG</publisher-name>
      <publisher-loc>Rüdigerstraße 14, 70469 Stuttgart, Germany</publisher-loc>
    </publisher>
  </journal-meta>
  <article-meta>
    <article-id pub-id-type="pmcid">7746519</article-id>
    <article-id pub-id-type="pmid">32777825</article-id>
    <article-id pub-id-type="doi">10.1055/s-0040-1712460</article-id>
    <article-id pub-id-type="publisher-id">20010026</article-id>
    <article-categories>
      <subj-group>
        <subject>Original Article</subject>
      </subj-group>
    </article-categories>
    <title-group>
      <article-title>APRICOT: Advanced Platform for Reproducible Infrastructures in the Cloud via Open Tools</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <name>
          <surname>Giménez-Alventosa</surname>
          <given-names>Vicent</given-names>
        </name>
        <xref rid="AF20010026-1" ref-type="aff">1</xref>
        <xref rid="CO20010026-1" ref-type="author-notes"/>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Segrelles</surname>
          <given-names>José Damián</given-names>
        </name>
        <xref rid="AF20010026-1" ref-type="aff">1</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Moltó</surname>
          <given-names>Germán</given-names>
        </name>
        <xref rid="AF20010026-1" ref-type="aff">1</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Roca-Sogorb</surname>
          <given-names>Mar</given-names>
        </name>
        <xref rid="AF20010026-2" ref-type="aff">2</xref>
      </contrib>
    </contrib-group>
    <aff id="AF20010026-1">
      <label>1</label>
      <institution>Instituto de Instrumentación para Imagen Molecular (I3M), Centro mixto CSIC—Universitat Politècnica de València, Valencia, Spain</institution>
    </aff>
    <aff id="AF20010026-2">
      <label>2</label>
      <institution>Quantitative Imaging Biomarkers in Medicine (QUIBIM), Valencia, Spain</institution>
    </aff>
    <author-notes>
      <corresp id="CO20010026-1"><bold>Address for correspondence </bold>Vicent Giménez-Alventosa <institution>Instituto de Instrumentación para Imagen Molecular (I3M), Centro mixto CSIC—Universitat Politècnica de València</institution><addr-line>Camino de Vera s/n, 46022 Valencia</addr-line><country>Spain</country><email>vicent.gimenez@i3m.upv.es</email></corresp>
    </author-notes>
    <pub-date pub-type="ppub">
      <month>12</month>
      <year>2020</year>
    </pub-date>
    <pub-date pub-type="epub">
      <day>10</day>
      <month>8</month>
      <year>2020</year>
    </pub-date>
    <volume>59</volume>
    <issue>Suppl 2</issue>
    <fpage>e33</fpage>
    <lpage>e45</lpage>
    <history>
      <date date-type="received">
        <day>13</day>
        <month>2</month>
        <year>2020</year>
      </date>
      <date date-type="accepted">
        <day>09</day>
        <month>4</month>
        <year>2020</year>
      </date>
    </history>
    <permissions>
      <copyright-statement>
The Author(s). This is an open access article published by Thieme under the terms of the Creative Commons Attribution-NonDerivative-NonCommercial-License, permitting copying and reproduction so long as the original work is given appropriate credit. Contents may not be used for commercial purposes, or adapted, remixed, transformed or built upon. (
<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://creativecommons.org/licenses/by-nc-nd/4.0/">https://creativecommons.org/licenses/by-nc-nd/4.0/</uri>
).
</copyright-statement>
      <copyright-year>2020</copyright-year>
      <copyright-holder>The Author(s).</copyright-holder>
      <license xmlns:xlink="http://www.w3.org/1999/xlink" license-type="open-access" xlink:href="https://creativecommons.org/licenses/by-nc-nd/4.0/">
        <license-p>This is an open-access article distributed under the terms of the Creative Commons Attribution-NonCommercial-NoDerivatives License, which permits unrestricted reproduction and distribution, for non-commercial purposes only; and use and reproduction, but not distribution, of adapted material for non-commercial purposes only, provided the original work is properly cited.</license-p>
      </license>
    </permissions>
    <abstract>
      <p><bold>Background</bold>
 Scientific publications are meant to exchange knowledge among researchers but the inability to properly reproduce computational experiments limits the quality of scientific research. Furthermore, bibliography shows that irreproducible preclinical research exceeds 50%, which produces a huge waste of resources on nonprofitable research at Life Sciences field. As a consequence, scientific reproducibility is being fostered to promote Open Science through open databases and software tools that are typically deployed on existing computational resources. However, some computational experiments require complex virtual infrastructures, such as elastic clusters of PCs, that can be dynamically provided from multiple clouds. Obtaining these infrastructures requires not only an infrastructure provider, but also advanced knowledge in the cloud computing field.
</p>
      <p><bold>Objectives</bold>
 The main aim of this paper is to improve reproducibility in life sciences to produce better and more cost-effective research. For that purpose, our intention is to simplify the infrastructure usage and deployment for researchers.
</p>
      <p><bold>Methods</bold>
 This paper introduces Advanced Platform for Reproducible Infrastructures in the Cloud via Open Tools (APRICOT), an open source extension for Jupyter to deploy deterministic virtual infrastructures across multiclouds for reproducible scientific computational experiments. To exemplify its utilization and how APRICOT can improve the reproduction of experiments with complex computation requirements, two examples in the field of life sciences are provided. All requirements to reproduce both experiments are disclosed within APRICOT and, therefore, can be reproduced by the users.
</p>
      <p><bold>Results</bold>
 To show the capabilities of APRICOT, we have processed a real magnetic resonance image to accurately characterize a prostate cancer using a Message Passing Interface cluster deployed automatically with APRICOT. In addition, the second example shows how APRICOT scales the deployed infrastructure, according to the workload, using a batch cluster. This example consists of a multiparametric study of a positron emission tomography image reconstruction.
</p>
      <p><bold>Conclusion</bold>
 APRICOT's benefits are the integration of specific infrastructure deployment, the management and usage for Open Science, making experiments that involve specific computational infrastructures reproducible. All the experiment steps and details can be documented at the same Jupyter notebook which includes infrastructure specifications, data storage, experimentation execution, results gathering, and infrastructure termination. Thus, distributing the experimentation notebook and needed data should be enough to reproduce the experiment.
</p>
    </abstract>
    <kwd-group>
      <title>Keywords</title>
      <kwd>reproducible science</kwd>
      <kwd>life science</kwd>
      <kwd>cloud computing</kwd>
      <kwd>elasticity</kwd>
    </kwd-group>
    <funding-group>
      <award-group>
        <funding-source>Ayudas para la contratación de personal investigador en formación de carácter predoctoral, programa VALi + d</funding-source>
        <award-id>ACIF/2018/148</award-id>
      </award-group>
      <award-group>
        <funding-source>Ministerio de Economía, Industria y Competitividad</funding-source>
        <award-id>TIN2016–79951-R</award-id>
      </award-group>
      <award-group>
        <funding-source>European Commission, Horizon 2020</funding-source>
        <award-id>826494</award-id>
      </award-group>
      <funding-statement><bold>Funding</bold>
This study was supported by the program “Ayudas para la contratación de personal investigador en formación de carácter predoctoral, programa VALi + d” under grant number ACIF/2018/148 from the Conselleria d'Educació of the Generalitat Valenciana and the “Fondo Social Europeo” (FSE). The authors would like to thank the Spanish “Ministerio de Economía, Industria y Competitividad” for the project “BigCLOE” with reference number TIN2016–79951-R and the European Commission, Horizon 2020 grant agreement No 826494 (PRIMAGE). The MRI prostate study case used in this article has been retrospectively collected from a project of prostate MRI biomarkers validation.
</funding-statement>
    </funding-group>
  </article-meta>
</front>
<body>
  <sec>
    <title>Introduction</title>
    <p>
Scientific publications are intended to share knowledge to be used by other researchers on their experiments. However, most publications do not provide the necessary information to verify and reproduce its results.
<xref rid="JR20010026-1" ref-type="bibr">1</xref>
Moreover, Freedman et al
<xref rid="JR20010026-2" ref-type="bibr">2</xref>
claims that “the cumulative prevalence of irreproducible preclinical research exceeds 50%,” and Baker
<xref rid="JR20010026-3" ref-type="bibr">3</xref>
shows that more than 90% of researchers consider that a reproducibility crisis exists in scientific publications. Nonreproducible science specially affects Life Sciences research, since these results should not be reused unless they can be trusted to avoid consequences on people's health. This results in a huge waste of resources on nonprofitable research.
<xref rid="JR20010026-2" ref-type="bibr">2</xref>
</p>
    <p>
As a result, scientific reproducibility has lately become a topic of interest for researchers and institutions which defend an open and reproducible science model. This aims at solving two old problems in scientific research: nonreproducible investigation and fraud. With that purpose, the European Commission introduced Open Science to “promote a new approach to the scientific process based on cooperative work and new ways of diffusing knowledge by using digital technologies and new collaborative tools.”
<xref rid="BR20010026-4" ref-type="bibr">4</xref>
In fact, European institutions consider that Open Science is a necessary factor for future research programs. In 2015, the EU Commission set three main goals for future research in the EU: Open Science, Open Innovation, and Open to the world.
<xref rid="BR20010026-4" ref-type="bibr">4</xref>
<xref rid="BR20010026-5" ref-type="bibr">5</xref>
To promote these goals, the EU is promoting the European Open Science Cloud (EOSC), which “aims to create a trusted environment for hosting and processing research data to support EU science in its global leading role.”
<xref rid="BR20010026-6" ref-type="bibr">6</xref>
Open Science is not only a European objective, but also for institutions around the world. For example, in the United States, several institutions promote initiatives for Open Science, like the “Berkeley Initiative for Transparency in the Social Sciences,”
<xref rid="OR20010026-7" ref-type="bibr">7</xref>
the Public Library of Science,
<xref rid="OR20010026-8" ref-type="bibr">8</xref>
and the “Center for Open Science.”
<xref rid="OR20010026-9" ref-type="bibr">9</xref>
</p>
    <p>
We focus in this contribution on the reproducibility of computational experiments, where the two basic components required are
<italic>data storage</italic>
and
<italic>computing infrastructure</italic>
. The former, data storage, provides a place to store the experiment input, intermediate, and resulting data, analysis code and software, documentation, etc. The latter, computing infrastructure, is where calculations are performed according to the software and hardware requirements. This requires access to some local or external storage to stage in the required data for experimentation.
</p>
    <p>
A general computational experiment workflow is represented in
<xref rid="FI20010026-1" ref-type="fig">Fig. 1</xref>
, where the
<italic>input data production</italic>
can be experimentally measured or simulated data, configuration values for simulations, input data files, etc. Then, the
<italic>data storage</italic>
can be provided not only by local storage but also by public cloud providers or open source storage platforms, such as Onedata.
<xref rid="OR20010026-10" ref-type="bibr">10</xref>
To be able to reproduce an experiment, the required input data, software/code, and documentation must be accessible to other researchers via some external and persistent storage. Finally, it is at the
<italic>Computational infrastructure</italic>
where the input data are processed to produce the final result. This infrastructure largely depends on the computational experiment and, therefore, it can be composed of a single computer, a cluster of computing nodes, a set of clusters at different cloud providers, etc. In any case, the computational infrastructure requires a data storage to get input data and save both intermediate data, if needed, and the final results.
</p>
    <fig id="FI20010026-1">
      <label>Fig. 1</label>
      <caption>
        <p>
Computational experimentation components.
</p>
      </caption>
      <graphic xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="10-1055-s-0040-1712460-i20010026-1"/>
    </fig>
    <p>
Also, the infrastructure requires some configured computational environment to perform the analysis, e.g., specific software. Some examples of research experiments in the field of Life Sciences following this pattern are described in the work by Chillarón et al,
<xref rid="JR20010026-11" ref-type="bibr">11</xref>
which takes computed tomography (CT) measured data to construct a medical image with few projections. Other examples include the work by Reader et al,
<xref rid="JR20010026-12" ref-type="bibr">12</xref>
which presents an algorithm to reconstruct positron emission tomography (PET) images with only one iteration over measured PET data and in the work by Giménez-Alventosa et al,
<xref rid="JR20010026-13" ref-type="bibr">13</xref>
that uses radioactive sources specifications as input and perform brachytherapy simulations to discuss the error produced by approximations used at cancer treatment planning.
</p>
    <p>
To achieve scientific reproducibility not only the data should adopt the FAIR principles (findable, accessible, interoperable, and reusable)
<xref rid="JR20010026-14" ref-type="bibr">14</xref>
but also the software involved should follow similar principles. Software should be available in a public online repository that can be reached by means of a web search engine (Findable). It should be available under an open, nonrestrictive, software license to allow free adoption and modification to fit different purposes (accessible). It should provide application programming interfaces and command line interfaces using best practices widely established in the software development communities to ease the integration among multiple software services (interoperable). It should have a proper documentation that allows newcomers to start adopting the software and find areas of applications that perhaps even the original developer team had never thought of (reusable). The computational requirements to reproduce the experiment should also follow the same principles for scientists to self-deploy them to easily carry out the executions on a similar execution environment to guarantee a successful execution.
</p>
    <p>Even though some computational experiments may run on a regular computer, others may require a significant computing effort or specific customization, thus requiring a complex infrastructure. This is usually provisioned from private or public cloud providers. However, the deployment and configuration can involve a significant effort by the researcher and advanced technical knowledge. This increases the difficulty not only for researchers to reproduce published experiments, but also for reviewers, who cannot afford to spend the required time to reproduce the whole experiment.</p>
    <p>
Recently, many new platforms have been created to promote and facilitate the adoption of Open Science for researchers. These platforms offer different services such as cloud infrastructure to execute code in certain programming languages,
<xref rid="OR20010026-15" ref-type="bibr">15</xref>
<xref rid="OR20010026-16" ref-type="bibr">16</xref>
article journals and data repositories,
<xref rid="OR20010026-10" ref-type="bibr">10</xref>
<xref rid="OR20010026-17" ref-type="bibr">17</xref>
<xref rid="JR20010026-18" ref-type="bibr">18</xref>
and shareable programming environments.
<xref rid="OR20010026-19" ref-type="bibr">19</xref>
<xref rid="OR20010026-20" ref-type="bibr">20</xref>
However, a lack of functionality stands out in these platforms related to the dynamic computational infrastructure deployment. Some experiments involve significant computational effort with specific distributed infrastructures or accelerated hardware devices, such as Message Passing Interface (MPI) clusters or GPGPUs. Current open science platforms cannot be used to reproduce these kind of experiments without a significant effort by the researcher and advanced technical knowledge such as infrastructure provisioning from multiclouds, understood as independent infrastructure deployments at different cloud providers, interconnection of nodes, and configuration of applications, job submission, etc.
</p>
    <p>
To address this lack of functionality, this paper introduces APRICOT (Advanced Platform for Reproducible Infrastructures in the Cloud via Open Tools), an extension for Jupyter
<xref rid="OR20010026-19" ref-type="bibr">19</xref>
notebooks to automatize the deployment, usage, and life-cycle management of virtualized computational infrastructures in multiclouds. We selected Jupyter because of its flexibility, ease of usage, capacity of module integration, and open source philosophy. APRICOT supports automatic deployment on multiclouds via a Jupyter plugin that uses both EC3 (elastic cloud compute cluster)
<xref rid="JR20010026-21" ref-type="bibr">21</xref>
and IM (infrastructure manager)
<xref rid="JR20010026-22" ref-type="bibr">22</xref>
to automatically provide and configure resources from multiple cloud back ends.
</p>
  </sec>
  <sec>
    <title>Objectives</title>
    <p>
The main aim of this paper is to improve reproducibility in the life sciences field to enable the production of better and more cost-effective research. For that purpose, our intention is to facilitate the infrastructure usage and deployment for researchers. Aimed at simplifying the researcher's technical effort, APRICOT offers a set of predefined cluster topologies such as “batch-cluster” or “MPI cluster.” These are automatically configured with common utilities like a local resource management system (LRMS), shared home via network file system (NFS), a set of compilers, etc. and specific ones such as MPI libraries. Thus, researchers only need to specify their (temporary) credentials for the provision of resources from a cloud, the infrastructure topology, the number of nodes, and their characteristics (number of central processing units [CPUs], memory, etc.). Data management can be achieved via Secure SHell (SSH) and it also integrated with Onedata
<xref rid="OR20010026-10" ref-type="bibr">10</xref>
to achieve on-demand caching and access to distributed datasets across providers.
</p>
    <p>APRICOT combines the computational narrative provided by Jupyter notebooks with the dynamic provision and integrated usage of virtual infrastructure from a cloud platform. This allows to create executable papers for reproducible science for research that involves specific computing requirements, which exceed those available in the researcher's computer.</p>
  </sec>
  <sec>
    <title>Methods</title>
    <p>This section has been divided in two major parts. First, we will discuss the previous-related work on reproducible science to motivate the need of our application. Then, we will discuss APRICOT's architecture and how researchers can adopt this tool to simplify and make their computational experiments reproducible.</p>
    <sec>
      <title>Related Work</title>
      <p>The main tools for reproducible science can be divided in two big blocks: those focusing on data storage and those focusing on data processing. The latter is not restricted to provide a physical infrastructure where the application is run but also include tools that provide common and shareable computing environments.</p>
      <p>On one hand, storage-oriented tools focus on the persistence of different kinds of elements for reproducible science where the researcher can upload the required data to reproduce a published experimentation. Also, we can find platforms to upload scientific research papers, open source code, etc. On the other hand, processing platforms provide physical infrastructure for data processing, platforms with implemented open source algorithms to be used by researchers, workflow pattern tools, and analysis workflows for specific problems, such as image recognition, etc. As we will see, most of them focus on creating easy-to-use shareable computational environments to promote reproducibility. Few of them provide simplified methods to deploy and configure virtualized computing infrastructure.</p>
      <p>
We can find in the literature code repositories for scientific reproducibility such as RunMyCode,
<xref rid="OR20010026-15" ref-type="bibr">15</xref>
an online code, and data repository associated with scientific publications (articles and working papers). In this regard, the open science framework
<xref rid="OR20010026-23" ref-type="bibr">23</xref>
helps sharing across institutions documents, materials, and data. Also, SEEK
<xref rid="JR20010026-24" ref-type="bibr">24</xref>
is a web-based catalog for sharing scientific research datasets, models or simulations, processes, and research outcomes. These platforms do not provide the ability to remotely execute the code but rather to be downloaded for local execution. This prevents applications with specific computing requirements to be executed.
</p>
      <p>
Scientific journals are starting to support reproducibility of results to some extent. This is the case of image processing on line (IPOL),
<xref rid="OR20010026-17" ref-type="bibr">17</xref>
a research journal of image processing and image analysis. In IPOL, each article contains a description of the published algorithm and its source code, an online demonstration and a set of reproducible experiments. Text and source code are peer-reviewed, ensuring articles are truly reproducible. However, this is restricted to the topic of the journal: image processing.
</p>
      <p>
There also exist open source tools such as the Galaxy project,
<xref rid="OR20010026-20" ref-type="bibr">20</xref>
an open source workflow engine aimed at creating rapid and reproducible analyses that runs on an underlying infrastructure and can be used via a web browser. These workflows can be shared as documented experiments. This tool provides a common environment for researchers to work, facilitating software configuration and infrastructure usage. Another platform with similar features is the reusable and reproducible research data analysis platform called REANA.
<xref rid="OR20010026-25" ref-type="bibr">25</xref>
REANA provides an environment to structure research input data and code using containerized environments and computational workflows allowing to instantiate and run the whole experiment on remote compute clouds, facilitating infrastructure usage. Experiments structured to be used with REANA can be easily reusable with the same input data, parameters, and code or changing them to obtain different results. These characteristics make REANA a suitable environment for Open Science in computational experiments. However, the infrastructure where Galaxy or REANA is installed must be deployed and configured in advance.
</p>
      <p>
Jupyter
<xref rid="OR20010026-19" ref-type="bibr">19</xref>
is an open source web application that allows users to create and share documents that contain live code, equations, visualizations, and narrative text. Documents, named “notebooks,” can be easily shared and are used to create and share a complete experimentation workflow. JupyterHub provides multitenant access to Jupyter notebooks, introducing the ability to spawn notebooks, for example, on a Kubernetes cluster or on public cloud platforms. However, this automated provision of resources is limited to the execution of the Jupyter notebook. The provision of additional complex virtual infrastructures to support the execution of the computational experiment described in the notebook is responsibility of the user.
</p>
      <p>
The aforementioned tools require external computing infrastructure to run the code. To alleviate this need, there exists completely managed reproducibility platforms, such as CodeOcean
<xref rid="OR20010026-16" ref-type="bibr">16</xref>
a cloud-based computational platform where researchers can define a compute capsule that includes code and data together with the specification of a computational environment based on Docker. Users can execute all the published code without installing software on local computers. However, the free tier is limited and a subscription is required to unlock additional features. Managed platforms such as Stencila
<xref rid="OR20010026-26" ref-type="bibr">26</xref>
allow researchers to create interactive, fully reproducible documents using familiar visual interfaces based on spreadsheets, thus restricting its applicability to cell-based calculations.
</p>
      <p>Existing reproducible science tools cover mainly the storage needs to provide easy and shareable environments for open science, as is the case of Jupyter notebooks or Galaxy instances. However, they do not provide a simplified method to deploy, configure, and use a personalized computing infrastructure from these environments. Even though some platforms like CodeOcean offer the possibility to execute code on a per-subscription basis, this approach is unfeasible for all kind of computational experiments and requires the users to lock-in to the platform. As mentioned before, some experiments involve significant computational effort and specific infrastructure characteristics, usually provided from private and public cloud providers, which require researchers to deploy a specific infrastructure and software configuration. Although there are tools to simplify the infrastructure deployment on multicloud platforms, they are not integrated in easy-to-use environments to encourage the use of these kind of infrastructures for reproducible science.</p>
      <p>To address this issue we introduce APRICOT, an open source platform that extends Jupyter notebooks with the ability of self-provision of customized virtual computing infrastructure from multiclouds to execute the applications resulting from the simulation to be reproduced. We selected Jupyter notebooks as the base tool because of its flexibility, usage facility, capacity of module integration, and open source philosophy. This allows to combine in a single Jupyter notebook the description of the experiment with the ability of the user for the self-provision of customized complex computing infrastructure required to reproduce the results of the computational experiment.</p>
    </sec>
    <sec>
      <title>APRICOT Architecture</title>
      <p>
APRICOT
<xref rid="FN20010026-1" ref-type="fn">a</xref>
is an open source extension to support customized virtual infrastructure deployment and usage from Jupyter notebooks. It allows multicloud infrastructure provisioning using a wizard-like graphical user interface (GUI) that guides the user step by step through the deployment process. For that purpose, APRICOT integrates several already existing open source components, which are summarized in
<xref rid="FI20010026-2" ref-type="fig">Fig. 2</xref>
. Each one performs a specific task to facilitate the infrastructure deployment on cloud providers. However, their standalone usage still requires advanced computational knowledge. Therefore, APRICOT has been designed to handle the communication between all these components and the user, automatizing the infrastructure deployment and fostering its usage among nonspecialized users. Next, we will briefly explain these components and their specific role:
</p>
      <list list-type="bullet">
        <list-item>
          <p>
IM
<xref rid="JR20010026-22" ref-type="bibr">22</xref>
is an open source tool that deploys complex and customized virtual infrastructures on Infrastructure as a Service (IaaS) cloud deployments, either public (such as Amazon Web Services [AWS], Google Cloud, or Microsoft Azure) or on-premises (such as OpenNebula and OpenStack). It automates the deployment, configuration, software installation, monitoring, and update of virtual infrastructures.
</p>
        </list-item>
        <list-item>
          <p>
CLUES (CLUster elasticity system)
<xref rid="JR20010026-27" ref-type="bibr">27</xref>
is an elasticity system for high performance computing clusters and cloud infrastructures. Its main function is to deploy cluster nodes on the cloud when they are needed via dynamic provisioning and automated integration in the LRMS and, conversely, to terminate them when they have been idle longer than a certain time.
</p>
        </list-item>
        <list-item>
          <p>
EC3
<xref rid="JR20010026-21" ref-type="bibr">21</xref>
is a tool to create elastic virtual clusters on top of IaaS cloud providers through the IM. To configure infrastructures, EC3 uses an infrastructure description language named RADL (Resource &amp; Application Description Language) and, therefore, RADL files will be used by APRICOT. Multiple independent configuration files can be used in a single infrastructure deployment to create a complex configuration recipe.
</p>
        </list-item>
        <list-item>
          <p>
Onedata
<xref rid="OR20010026-10" ref-type="bibr">10</xref>
is a global data access solution for science that provides access to distributed storage of scientific datasets, with automated caching and the ability to use multiple storage back ends. It can be used to store and share the data required to reproduce the experiments.
</p>
        </list-item>
      </list>
      <fig id="FI20010026-2">
        <label>Fig. 2</label>
        <caption>
          <p>
Open source components used by APRICOT. APRICOT, Advanced Platform for Reproducible Infrastructures in the Cloud via Open Tools.
</p>
        </caption>
        <graphic xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="10-1055-s-0040-1712460-i20010026-2"/>
      </fig>
      <p>
APRICOT's architecture aligns with the vision of the EOSC on the adoption of open source tools that can interoperate with the federated cloud infrastructures such as the one managed by EGI (European Grid Infrastructure). To this aim, both the IM and EC3 components were adopted, which are already integrated in the EOSC Marketplace
<xref rid="OR20010026-28" ref-type="bibr">28</xref>
and are able to provide resources from the EGI Federated Cloud.
<xref rid="OR20010026-28" ref-type="bibr">28</xref>
</p>
      <p>
As shown in
<xref rid="FI20010026-2" ref-type="fig">Fig. 2</xref>
, user interaction is managed via Jupyter notebooks. Then, the infrastructure deployment uses EC3
<xref rid="JR20010026-21" ref-type="bibr">21</xref>
and IM
<xref rid="JR20010026-22" ref-type="bibr">22</xref>
to support automated provision of computational resources from multiclouds. APRICOT provides its own Jupyter “magics” to manage the deployed infrastructure via the EC3 client, to perform data upload and download, to execute tasks, etc. These can be used in any kernel with “magic” commands support, thus being compatible with many programming languages in the Jupyter environment.
</p>
      <p>
Concerning cluster elasticity, CLUES is automatically installed at the deployed virtual clusters to provide additional nodes when needed. Finally, Onedata are used as the default storage provider relying on an existing Onedata provider, such as those available to support the EGI Data Hub
<xref rid="FN20010026-2" ref-type="fn">b</xref>
. However, the user can adopt any external storage platform by installing the required client in the cluster front-end to upload and download data.
</p>
      <p>To develop a reproducible computational experiment using APRICOT, a researcher documents in a Jupyter notebook how the experimentation will be executed and how to obtain or generate the required data. Then, the researcher specifies the computing infrastructure requirements and topology, from a set of predefined topologies, which can be extended via additional RADL documents. Finally, all the commands to execute the experimentation should be documented and executed in the Jupyter notebook. To allow this requirement, APRICOT implements a set of IPython magic functions so that the executed instructions are actually performed in the deployed infrastructures, not in the execution environment provided by the Jupyter notebook.</p>
      <p>
Therefore, APRICOT is composed of an open source Jupyter notebook extension, used to deploy infrastructures, and a set of IPython magic functions for infrastructure use and management. The complete architecture schema is shown in
<xref rid="FI20010026-3" ref-type="fig">Fig. 3</xref>
.
</p>
      <fig id="FI20010026-3">
        <label>Fig. 3</label>
        <caption>
          <p>
APRICOT architecture. APRICOT, Advanced Platform for Reproducible Infrastructures in the Cloud via Open Tools.
</p>
        </caption>
        <graphic xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="10-1055-s-0040-1712460-i20010026-3"/>
      </fig>
      <p>
First, APRICOT includes a GUI to guide the user on the infrastructure deployment process (
<xref rid="FI20010026-4" ref-type="fig">Fig. 4</xref>
shows the deployment steps and
<xref rid="FI20010026-5" ref-type="fig">Fig. 5</xref>
shows screenshots of the GUI). The configuration includes the cluster topology, cloud provider, number of workers, etc. At the end of this step, the APRICOT plugin will instruct the EC3 client, using Bash Magic functions
<xref rid="FN20010026-3" ref-type="fn">c</xref>
to deploy the specified infrastructure. Then, EC3 will delegate on the IM provisioning of the virtual machines to the specified cloud provider to provide the infrastructure. Access credentials are automatically generated and stored by EC3 and, thus, APRICOT will contact EC3 to gather the appropriate credentials to perform remote command execution via SSH on the front-end node of the provisioned cluster.
</p>
      <fig id="FI20010026-4">
        <label>Fig. 4</label>
        <caption>
          <p>
Steps of the APRICOT deployment plugin. APRICOT, Advanced Platform for Reproducible Infrastructures in the Cloud via Open Tools.
</p>
        </caption>
        <graphic xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="10-1055-s-0040-1712460-i20010026-4"/>
      </fig>
      <fig id="FI20010026-5">
        <label>Fig. 5</label>
        <caption>
          <p>
Screenshots of the APRICOT deployment plugin. APRICOT, Advanced Platform for Reproducible Infrastructures in the Cloud via Open Tools.
</p>
        </caption>
        <graphic xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="10-1055-s-0040-1712460-i20010026-5"/>
      </fig>
      <p>
To configure infrastructures, APRICOT uses a set of predefined RADL configuration files that describe the computing requirements, in terms of CPUs, random access memory (RAM), disk space, etc. and include Ansible
<xref rid="OR20010026-29" ref-type="bibr">29</xref>
roles to perform the unattended installation of software. The used RADL files depend on the selected topology by the user. However, it is possible to use the EC3 client to reconfigure an existing cluster using additional RADL files. Alternatively, users can choose the “Advanced” topology option to manually select the infrastructure configuration using a set of RADL files.
</p>
      <p>APRICOT Magics implement IPython magic functions to manage and use deployed infrastructures. Most of these instructions will be executed in the infrastructure front-end through remote SSH. Since Magics can be executed in all kernels with this support, APRICOT instructions can be executed in any language interpreted for one of these kernels. However, as it happens with all Jupyter nonbuilt-in Magics, APRICOT Magics must be loaded in each notebook before being used.</p>
      <p>Notice that APRICOT just provides the infrastructure deployment, but the underlying computing infrastructure is not handled by APRICOT. So, if sensible data will be processed, the user must ensure that the infrastructure provider offers the required security measures. This is automatically enforced by major public cloud providers. Additionally, the user may decide to adopt additional risk mitigation strategies such as data encryption both at rest and in transit.</p>
      <p>
Finally, a Docker image is being maintained to create a ready to use containerized Jupyter server with APRICOT installed and configured, available in Docker Hub
<xref rid="FN20010026-4" ref-type="fn">d</xref>
.
</p>
    </sec>
  </sec>
  <sec>
    <title>Results</title>
    <p>
To assess the effectiveness of the developed platform, this section introduces two reproducible experiments which are distributed alongside this document, publicly available as Jupyter notebooks in GitHub
<xref rid="FN20010026-5" ref-type="fn">e</xref>
. The examples are installed in the provided Docker image for the convenience of the reader. These demonstrates the complete execution of a real magnetic resonance imaging (MRI) processing and a multiparametric analysis for medical image reconstruction using APRICOT to deploy, use, and manage the required infrastructure. Therefore, this section represents a summary of the experimentation whereas further details can be obtained on the companion Jupyter notebook.
</p>
    <p>The aim of the first experimentation (MRI image processing) is to provide a real use case for our platform using a MPI cluster. On the other hand, the PET image reconstruction example uses simulated data and is intended to be used to evaluate APRICOT characteristics.</p>
    <sec>
      <title>Infrastructure</title>
      <p>
To perform both experiments, we used an on-premises cloud managed by the OpenNebula
<xref rid="OR20010026-30" ref-type="bibr">30</xref>
and the KVM hypervisor. The storage area network is a Dell Equallogic PS4210 with 16 TB available. The physical infrastructure constituted of two type of nodes. The first one had 240 GB of solid state disk, 64 GB of memory RAM, two Intel(R) Xeon(R) CPU E5–2683 v3 2.00GHz processors with 14 cores each one, two Ethernet network adapter of 1 Gbps, and another one of 10 Gbps. The second node type had 250 GB of solid state disk, 128 GB of memory RAM, two Intel(R) Xeon(R) CPU E5–2660 v4 2.00 GHz processors with 14 cores each one and three Ethernet network adapters, two of 1 Gbps, and a third of 10 Gbps.
</p>
      <p>On that on-premises cloud we deployed two different topologies. For the MRI example, we used an MPI cluster formed by one front-end and three working nodes. All the nodes have been configured with the same characteristics: one CPU and 4 GB of RAM with 20 GB disk space. On the other hand, for the image reconstruction experimentation, we used a virtual elastic batch cluster with one front-end and two initial working nodes. Both the front-end and the working nodes have the same characteristics: two CPUs, 2 GB of RAM, and 20 GB of disk storage.</p>
      <p>The OS image used on each experiment is a plain Ubuntu with version 16.04 and 18.04 LTS, configured using the “MPI cluster” and “Batch Cluster” option from the APRICOT deploy plugin respectively. Also, we recommend to configure the cluster so that all the working nodes are pre-provisioned at deployment time to avoid the delay introduced when nodes are dynamically provided when jobs are submitted to the LRMS.</p>
      <p>To further illustrate the multicloud features of the platform, we also reproduced the second experiment using the AWS public cloud provider with a cluster formed by one front-end and two working nodes. We used the “t2.small” (2 GiB and 1 vCPU) instance type to deploy the front-end node and two “t2.micro” (1 GiB and 1 vCPU) instances for working nodes. The cluster was deployed at the “us-east-1” region using an Ubuntu 16.04 AMI. Note that the selection of these instance types strictly responds to a cost saving strategy aiming to illustrate the ability of the platform to deploy on a public cloud. More powerful instance types would result in a significantly higher performance of the application.</p>
      <p>All the required source codes to execute the experiment have been stored at the aforementioned GitHub repository alongside with the notebook to facilitate the reproducibility of this experiment. We stored input data in a public Amazon S3 bucket and not in OneData to facilitate access for the readers, since no access token is required to retrieve the data.</p>
      <p>The following section introduces both experiments and discusses the obtained results.</p>
    </sec>
    <sec>
      <title>MRI Image Processing</title>
      <p>
Prostate cancer (PCa) is the second most frequent malignancy (after lung cancer) in men worldwide, counting 1,276,106 new cases and causing 358,989 deaths (3.8% of all deaths caused by cancer in men) in 2018.
<xref rid="JR20010026-31" ref-type="bibr">31</xref>
Early detection of PCa allows for appropriate management of the disease, and prognostic biomarkers can help clinicians make an appropriate therapeutic decision for each patient and avoid unnecessary treatment.
<xref rid="JR20010026-32" ref-type="bibr">32</xref>
</p>
      <p>
Due to recent progress in imaging, and particularly in MRI, the so-called multiparametric MRI that combines T2-weighted imaging (T2W) with functional pulse sequences such as diffusion-weighted imaging or dynamic contrast-enhanced (DCE) imaging has shown excellent results in PCa detection and has become the standard of care to achieve accurate and reproducible diagnosis of PCa.
<xref rid="JR20010026-33" ref-type="bibr">33</xref>
<xref rid="JR20010026-34" ref-type="bibr">34</xref>
</p>
      <p>Pharmacokinetic modeling of the DCE-MRI signal is used to derive estimates of factors related to blood volume and permeability that are hallmarks of the angiogenic phenotype associated with most cancers. The accuracy of DCE relies on the ability to model the pharmacokinetics of an injected tracer, or contrast agent, using the signal intensity changes on sequential magnetic resonance images.</p>
      <p>
The first pharmacokinetic model was proposed by Kety,
<xref rid="JR20010026-35" ref-type="bibr">35</xref>
who described flow-limited tracer uptake in tissue. This was followed by several pharmacokinetic models proposed by Tofts et al,
<xref rid="JR20010026-36" ref-type="bibr">36</xref>
Brix et al,
<xref rid="JR20010026-37" ref-type="bibr">37</xref>
and Larsson et al.
<xref rid="JR20010026-38" ref-type="bibr">38</xref>
</p>
      <p>
The majority of these models are based on the characterization of the contrast exchange rate between the plasma and the extracellular space through parameters such as
<italic>
K
<sup>trans</sup></italic>
, that represents the rate at which the contrast agent transfers from the blood to the interstitial space (indicating the tumor microcirculation), the reflux constant,
<italic>
K
<sub>ep</sub></italic>
, that reflects the rate at which the contrast agent transfers from the extravascular extracellular space back to the blood and the extravascular extracellular leakage volume fraction
<italic>
v
<sub>e</sub></italic>
, which predominantly reflects the percentage of contrast agent in the extravascular extracellular space.
</p>
      <p>
The study of these parameters helps characterize PCa, so estimating them accurately and robustly is a fundamental step. These parameters are calculated using the Tofts model,
<xref rid="JR20010026-39" ref-type="bibr">39</xref>
which is equivalent to the generalized kinetic model,
<xref rid="JR20010026-40" ref-type="bibr">40</xref>
</p>
      <disp-formula id="DF20010026-1">
        <graphic xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="10-1055-s-0040-1712460-df20010026-1.gif"/>
      </disp-formula>
      <p>
where interesting parameters are
<italic>
K
<sup>trans</sup></italic>
, which is the transfer coefficient between blood plasma and the compartment, and the extracellular extravascular fractional volume (
<italic>
v
<sub>e</sub></italic>
). Also,
<italic>
k
<sub>ep</sub></italic>
is defined as
<italic>
k
<sub>ep</sub></italic>
 = 
<italic>
K
<sup>trans</sup></italic>
/
<italic>
v
<sub>e</sub></italic>
, and
<italic>
C
<sub>t</sub></italic>
is the concentration of lesson tissue defined as
<italic>
C
<sub>t</sub></italic>
 = 
<italic>
C
<sub>1</sub>
v
<sub>e</sub></italic>
, where
<italic>
C
<sub>1</sub></italic>
is the leakage space concentration.
</p>
      <p>
To solve
<xref rid="DF20010026-1" ref-type="disp-formula">Eq. (1)</xref>
, we use the same approach as given in Flouri et al.
<xref rid="JR20010026-41" ref-type="bibr">41</xref>
Here, the model is restructured and expressed as a convolution as follows,
</p>
      <disp-formula id="DF20010026-2">
        <graphic xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="10-1055-s-0040-1712460-df20010026-2.gif"/>
      </disp-formula>
      <p>
where
<italic>T</italic>
 
<italic>=</italic>
 
<italic>
1/k
<sub>ep</sub></italic>
and
<italic>a</italic>
(
<italic>t</italic>
) function is an experimental measure, so is only available at discrete times. The previous model is evaluated for values of
<italic>T</italic>
 ≠ 0 by interpolating linearly between the measured values of
<italic>a</italic>
(
<italic>t</italic>
). Instead, for
<italic>T</italic>
 = 0 the result is
<italic>f</italic>
(
<italic>t</italic>
) = 
<italic>a</italic>
(
<italic>t</italic>
).
</p>
      <p>
Our case study consisted of a prostate image with 256 × 256 × 56 voxels and 30 time points for each one. We fitted this image using the
<xref rid="DF20010026-2" ref-type="disp-formula">Eq. (2)</xref>
implemented at the provided code in the APRICOT repository, which uses the ROOT libraries from CERN.
<xref rid="JR20010026-42" ref-type="bibr">42</xref>
This analysis was performed using a MPI cluster with three working nodes, reducing the total computation time almost a factor 3 compared with the same experimentation performed on a single node. As a sample of the result,
<xref rid="FI20010026-6" ref-type="fig">Fig. 6</xref>
shows four images that represent the resulting
<italic>
v
<sub>e</sub></italic>
map of four planes.
</p>
      <fig id="FI20010026-6">
        <label>Fig. 6</label>
        <caption>
          <p>
MRI
<italic>
v
<sub>e</sub></italic>
maps for a real case of prostate image with 256 × 256 × 56 planes with 30 time points on each one. Images correspond to plane numbers 2 and 12 for top left and right images, respectively, and 22 and 32 for bottom left and right images, respectively. MRI, magnetic resonance imaging.
</p>
        </caption>
        <graphic xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="10-1055-s-0040-1712460-i20010026-6"/>
      </fig>
    </sec>
    <sec>
      <title>PET Image Reconstruction</title>
      <p>Medical scanners, like most physical detectors, measure raw data that must be post-processed to obtain an interpretable result. In particular, for medical scanners based in PET or CT, the final result is usually a patient image to be interpreted by the physician to develop a diagnostic.</p>
      <p>
Focusing on PET and CT cases, there exists a great variety of iterative and analytic image reconstruction algorithms,
<xref rid="JR20010026-11" ref-type="bibr">11</xref>
<xref rid="JR20010026-12" ref-type="bibr">12</xref>
<xref rid="JR20010026-44" ref-type="bibr">44</xref>
<xref rid="JR20010026-43" ref-type="bibr">43</xref>
most of them based on maximum likelihood method.
<xref rid="JR20010026-45" ref-type="bibr">45</xref>
These reconstruction algorithms have a set of variable parameters such as number and size of voxels in the field of view, number of iterations, number of partitioned data chunks, weight parameters, filter iterations, and weight, etc. Obviously, the final reconstruction quality and speed will depend on how accurate are the selected parameters. Furthermore, the accuracy of selected parameters depends on the scanner system (geometry, energy resolution, scanned object, etc.). Indeed, the importance of reconstruction parameters on medical image has been studied for different kind of scanners in many publications.
<xref rid="JR20010026-46" ref-type="bibr">46</xref>
<xref rid="JR20010026-47" ref-type="bibr">47</xref>
<xref rid="JR20010026-48" ref-type="bibr">48</xref>
<xref rid="JR20010026-49" ref-type="bibr">49</xref>
</p>
      <p>
Achieving the best parameters for our specific system and algorithm is desirable not only for medical diagnostics but to perform accurate comparison of reconstruction methods and scanner capabilities. This comparison is crucial to select and create new scanner systems using simulated data to study their theoretical performance. However, the number of possible parameters combinations grows as indicated in
<xref rid="DF20010026-3" ref-type="disp-formula">Eq. (3)</xref>
.
</p>
      <disp-formula id="DF20010026-3">
        <graphic xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="10-1055-s-0040-1712460-df20010026-3.gif"/>
      </disp-formula>
      <p>
where
<italic>
N
<sub>i</sub></italic>
is the number of possible values of parameter number
<italic>i</italic>
and
<italic>
n
<sub>param</sub></italic>
the number of variable parameters. So, even performing a multiparametric study with few parameters requires a significant computational effort. APRICOT has been used in this experimentation to deploy and manage the required infrastructure to perform a multiparametric study on a modified implementation of “OPL-EM” reconstruction algorithm for PET systems described in the work by Reader et al.
<xref rid="JR20010026-12" ref-type="bibr">12</xref>
</p>
      <p>This algorithm uses a single iteration over all measured data to reconstruct the image, thus being faster than other iterative algorithms. As the example is aimed to focus on APRICOT usage, a simplified experimentation will be reproduced in the companion material, for the sake of better understanding. The provided infrastructure will consist of a cluster of PCs configured with CPU-based working nodes. The use of accelerated devices such GPGPUs can be achieved by providing the corresponding instance types in a public cloud, provided that the application supports using such specialized hardware. Therefore, this is agnostic to the functionality provided by APRICOT.</p>
      <p>
The workflow of these experimentation is shown in
<xref rid="FI20010026-7" ref-type="fig">Fig. 7</xref>
.
</p>
      <fig id="FI20010026-7">
        <label>Fig. 7</label>
        <caption>
          <p>
Experimentation workflow.
</p>
        </caption>
        <graphic xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="10-1055-s-0040-1712460-i20010026-7"/>
      </fig>
      <p>
The input data used for this experimentation has been obtained simulating a PET system formed by three rings of 20 detector modules each one. The simulations have been done using self-developed routines to perform PET system simulations with the Monte-Carlo code PENELOPE,
<xref rid="BR20010026-50" ref-type="bibr">50</xref>
which accurately models photon, electron, and positron interactions in an arbitrary material for the energy range of interest in this work. The simulation results include a file with all photon detection grouped by coincidences, which means that both photons have been produced by the annihilation of the same positron. This file, which is provided to perform the experimentation, will be our reconstruction input.
</p>
      <p>
Once the reconstructions have been done, we extracted their execution times and image quality measures using different parameter combinations. To measure the image quality, we used the following metrics,
<italic>root-mean-square error</italic>
(RMSE),
<italic>peak signal to noise ratio</italic>
(PSNR),
<italic>normalized root mean square distance</italic>
(NRMSD), and
<italic>normalized mean absolute distance</italic>
(NMAD), represented by
<xref rid="DF20010026-4" ref-type="disp-formula">Eqs. (4)</xref>
,
<xref rid="DF20010026-5" ref-type="disp-formula">(5)</xref>
,
<xref rid="DF20010026-6" ref-type="disp-formula">(6)</xref>
, and
<xref rid="DF20010026-7" ref-type="disp-formula">(7)</xref>
, respectively. Regarding the notation,
<italic>v(m)</italic>
denotes the voxel number
<italic>m</italic>
of the considered image and the subindex
<italic>true</italic>
indicates that is the real image.
</p>
      <disp-formula id="DF20010026-4">
        <graphic xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="10-1055-s-0040-1712460-df20010026-4.gif"/>
      </disp-formula>
      <disp-formula id="DF20010026-5">
        <graphic xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="10-1055-s-0040-1712460-df20010026-5.gif"/>
      </disp-formula>
      <disp-formula id="DF20010026-6">
        <graphic xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="10-1055-s-0040-1712460-df20010026-6.gif"/>
      </disp-formula>
      <disp-formula id="DF20010026-7">
        <graphic xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="10-1055-s-0040-1712460-df20010026-7.gif"/>
      </disp-formula>
      <p>The RMSE tends to zero when the reconstructed image and the ideal one coincide, because voxels at both images are equal. So, small values should be interpreted as better image quality. Next, PSNR tends to infinity when reconstructed and ideal image become equal, because RMSE tends to zero. The NRMSD metric tends to 1.0 when the differences between images are smooth and the average intensity equal. Large differences on few voxels produce a large value of NRMSD. Finally, NMAD tends to 1.0 if the reconstructed image has negligible intensity on its voxels respect to ideal image, and tends to zero if both images are equal.</p>
      <p>
Some results of the run on our local infrastructure are shown in
<xref rid="FI20010026-8" ref-type="fig">Figs. 8</xref>
and
<xref rid="FI20010026-9" ref-type="fig">9</xref>
which represent, respectively, the time spent to reconstruct the images and the RMSE value of reconstructed images for different number of voxels in each axis using a data partitioning of five chunks.
</p>
      <fig id="FI20010026-8">
        <label>Fig. 8</label>
        <caption>
          <p>
Reconstruction time(s) using different number of voxels in each axis.
</p>
        </caption>
        <graphic xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="10-1055-s-0040-1712460-i20010026-8"/>
      </fig>
      <fig id="FI20010026-9">
        <label>Fig. 9</label>
        <caption>
          <p>
Reconstruction error estimation using different number of voxels in each axis. The represented error has been obtained using the root mean square error (RMSE) method over all image voxels.
</p>
        </caption>
        <graphic xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="10-1055-s-0040-1712460-i20010026-9"/>
      </fig>
      <p>In a real case study, these results should provide the best parameters to achieve the required agreement between reconstruction speed and image quality.</p>
    </sec>
  </sec>
  <sec>
    <title>Discussion</title>
    <p>This section discusses about the platform deployment and elasticity. For that purpose, the second experiment (image reconstruction) has been executed on two different platforms, according to the specifications in the subsection “Infrastructure” (under the “Results”), reproducing the very same results. The only difference lies on the location of the underlying resources and the time spent performing the reconstruction. The first one, deployed on our OpenNebula Cloud site, takes approximately 8 minutes to start and configure the front-end node and the same time for initial working nodes. On AWS, the deployment and configuration of the front-end node require approximately 10 minutes and the same for the working nodes. So, both clusters require, approximately, 16 to 20 minutes to be fully deployed and configured. Notice that working nodes are deployed concurrently. Therefore, deploying more working nodes will not cause a significant overhead on the configuration and deployment time. The main factor that affects the configuration time is the node CPU and network capabilities. Thus, using better instances should reduce the configuration time.</p>
    <p>
To show the elasticity capabilities provided by CLUES, we repeated the experiment using an infrastructure with the same specifications but configured with a minimum and maximum number of working nodes of 2 and 4, respectively. So, when the number of queued jobs exceed the number of available execution slots, CLUES deploys additional working nodes. To get statistics of the available and used slots we used CLUES reports, which monitors and extracts information about the use and state of our deployed infrastructure.
<xref rid="FI20010026-10" ref-type="fig">Fig. 10</xref>
shows a slots usage graph, where each node has a color identifier and the gray color represents idle slots. At the beginning of the graph (first gray zone) we can see when the first two nodes were configured and became ready to process jobs. Then, at the first colored zone, both nodes were filled with the received jobs and CLUES detected more queued jobs than available slots. This caused CLUES to power on the two extra nodes (second gray zone). Once all nodes had been powered on and configured, at the second colored zone, the number of available slots grew to four and the jobs execution was resumed. Finally, at the final gray zone, all the jobs had been processed and the working nodes became idle. Therefore, using CLUES, our deployed infrastructures can be automatically scaled within the specified configuration parameters.
</p>
    <fig id="FI20010026-10">
      <label>Fig. 10</label>
      <caption>
        <p>
Elasticity managed by CLUES. Cluster configured with two initial working nodes that can scale up to four nodes. The colored zones indicate the number of execution slots being used while the gray zone indicates an idle slot. CLUES, CLUster Elasticity System.
</p>
      </caption>
      <graphic xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="10-1055-s-0040-1712460-i20010026-10"/>
    </fig>
    <p>As we have seen, APRICOT allows to easily deploy a scalable infrastructure to execute computationally intensive experiments. Furthermore, the same preconfigured infrastructure can be easily deployed to reproduce the whole experiment by other researchers or reviewers without knowledge on infrastructure deployment and configuration. Without APRICOT, a researcher would need to deploy and configure the required infrastructure or have access to an existing one with compatible specifications.</p>
    <p>At the moment, APRICOT offers a limited amount of preconfigured infrastructure types that may not fit all experiments need, but more configurations will be added in future versions. In addition, the user needs access credentials to a cloud provider supported by APRICOT.</p>
    <p>Notice that the whole experiments have been documented in the corresponding Jupyter notebooks including the commands to execute, the required infrastructure, the data processing, the visualization, etc. The notebooks have been distributed in the aforementioned GitHub repository.</p>
  </sec>
  <sec>
    <title>Conclusion</title>
    <p>This paper has introduced APRICOT, an open source extension for Jupyter that provides users with the ability to deploy complex customized virtual infrastructures across multiple cloud providers to support the requirements of computational experiments. A set of functions have been created to simplify interaction with the virtual infrastructure for data staging as well as application execution. This facilitates the reproducibility of computational experiments on clouds.</p>
    <p>The benefits of this extension are the integration of specific infrastructure deployment, the management, and usage for Open Science and making experiments that involve specific computational infrastructures reproducible. All the experiment steps and details can be documented at the same Jupyter notebook which includes infrastructure specifications, data storage, experimentation execution, results gathering, and infrastructure termination. Thus, distributing the experimentation notebook and the needed data should be enough to reproduce the experiment.</p>
    <p>
Future works include extending APRICOT to use additional cloud providers already compatible with the IM. Also, in addition to MPI and batch clusters we plan to add more preconfigured infrastructure topologies such as Kubernetes clusters. Regarding the infrastructure usage, we will provide more
<italic>magic commands</italic>
to simplify the execution of other kind of analysis. These are special Jupyter functions that can be executed regardless of the programming language used at the notebook. Integration of additional queue systems and external storage providers will also expand the adoption of the platform by covering different use cases.
</p>
  </sec>
</body>
<back>
  <fn-group>
    <fn fn-type="COI-statement" id="d31e125">
      <p><bold>Conflict of Interest</bold> None declared.</p>
    </fn>
  </fn-group>
  <fn-group>
    <fn id="FN20010026-1">
      <label>a</label>
      <p>
APRICOT -
<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://github.com/grycap/apricot">https://github.com/grycap/apricot</uri>
].
</p>
    </fn>
    <fn id="FN20010026-2">
      <label>b</label>
      <p>
EGI Data Hub -
<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://datahub.egi.eu">https://datahub.egi.eu</uri>
.
</p>
    </fn>
    <fn id="FN20010026-3">
      <label>c</label>
      <p>
Bash Magics -
<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://ipython.readthedocs.io/en/stable/interactive/magics.html">https://ipython.readthedocs.io/en/stable/interactive/magics.html</uri>
.
</p>
    </fn>
    <fn id="FN20010026-4">
      <label>d</label>
      <p><uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://cloud.docker.com/u/grycap/repository/docker/grycap/apricot">https://cloud.docker.com/u/grycap/repository/docker/grycap/apricot</uri>
.
</p>
    </fn>
    <fn id="FN20010026-5">
      <label>e</label>
      <p><uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://github.com/grycap/apricot/tree/master/examples">https://github.com/grycap/apricot/tree/master/examples</uri>
.
</p>
    </fn>
  </fn-group>
  <ref-list>
    <title>References</title>
    <ref id="JR20010026-1">
      <label>1</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Donoho</surname>
            <given-names>D L</given-names>
          </name>
          <name>
            <surname>Maleki</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Rahman</surname>
            <given-names>I U</given-names>
          </name>
          <name>
            <surname>Shahram</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Stodden</surname>
            <given-names>V</given-names>
          </name>
        </person-group>
        <article-title>Reproducible research in computational harmonic analysis</article-title>
        <source>Comput Sci Eng</source>
        <year>2009</year>
        <volume>11</volume>
        <issue>01</issue>
        <fpage>8</fpage>
        <lpage>18</lpage>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-2">
      <label>2</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Freedman</surname>
            <given-names>L P</given-names>
          </name>
          <name>
            <surname>Cockburn</surname>
            <given-names>I M</given-names>
          </name>
          <name>
            <surname>Simcoe</surname>
            <given-names>T S</given-names>
          </name>
        </person-group>
        <article-title>The economics of reproducibility in preclinical research</article-title>
        <source>PLoS Biol</source>
        <year>2015</year>
        <volume>13</volume>
        <issue>06</issue>
        <fpage>e1002165</fpage>
        <pub-id pub-id-type="pmid">26057340</pub-id>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-3">
      <label>3</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Baker</surname><given-names>M</given-names></name></person-group><article-title>Is there a reproducibility crisis? A nature survey lifts the lid on how researchers view the ‘crisis’ rocking science and what they think will help</article-title><source>Nature</source><year>2016</year><volume>533</volume>(7604):<fpage>452</fpage><lpage>455</lpage><pub-id pub-id-type="pmid">27225100</pub-id></mixed-citation>
    </ref>
    <ref id="BR20010026-4">
      <label>4</label>
      <mixed-citation publication-type="book">European Commission.<article-title>Open Innovation Open Science Open to the World</article-title><publisher-name>European Commission</publisher-name><year>2016</year></mixed-citation>
    </ref>
    <ref id="BR20010026-5">
      <label>5</label>
      <mixed-citation publication-type="book"><article-title>Goals of research and innovation policy</article-title><publisher-name>European Commission</publisher-name>. Accessed March 5, 2019 at:<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://ec.europa.eu/info/research-and-innovation/strategy/goals-research-and-innovation-policy">https://ec.europa.eu/info/research-and-innovation/strategy/goals-research-and-innovation-policy</uri></mixed-citation>
    </ref>
    <ref id="BR20010026-6">
      <label>6</label>
      <mixed-citation publication-type="book"><article-title>European Open Science Cloud (EOSC)</article-title><publisher-name>European Commission</publisher-name>. Accessed March 5, 2019 at:<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://ec.europa.eu/research/openscience/index.cfm?pg=open-science-cloud">https://ec.europa.eu/research/openscience/index.cfm?pg=open-science-cloud</uri></mixed-citation>
    </ref>
    <ref id="OR20010026-7">
      <label>7</label>
      <mixed-citation publication-type="other">BITSS. Available at:<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.bitss.org/">https://www.bitss.org/</uri><patent>. Accessed December 5, 2019</patent></mixed-citation>
    </ref>
    <ref id="OR20010026-8">
      <label>8</label>
      <mixed-citation publication-type="other">Public Library of Science. Available at:<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.plos.org/">https://www.plos.org/</uri><patent>. Accessed December 5, 2019</patent></mixed-citation>
    </ref>
    <ref id="OR20010026-9">
      <label>9</label>
      <mixed-citation publication-type="other">COS. Available at:<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://cos.io/">https://cos.io/</uri><patent>. Accessed December 5, 2019</patent></mixed-citation>
    </ref>
    <ref id="OR20010026-10">
      <label>10</label>
      <mixed-citation publication-type="other">Onedata. Available at:<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://onedata.org/#/home">https://onedata.org/#/home</uri><patent>. Accessed March 5, 2019</patent></mixed-citation>
    </ref>
    <ref id="JR20010026-11">
      <label>11</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Chillarón</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Vidal</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Verdú</surname>
            <given-names>G</given-names>
          </name>
        </person-group>
        <article-title>CT image reconstruction with suite sparse QR factorization package</article-title>
        <source>Radiat Phys Chem</source>
        <year>2020</year>
        <volume>167</volume>
        <fpage>108289</fpage>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-12">
      <label>12</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Reader</surname>
            <given-names>A J</given-names>
          </name>
          <name>
            <surname>Ally</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Bakatselos</surname>
            <given-names>F</given-names>
          </name>
        </person-group>
        <article-title>One-pass list-mode em algorithm for high-resolution 3-d pet image reconstruction into large arrays</article-title>
        <source>IEEE Trans Nucl Sci</source>
        <year>2002</year>
        <volume>49</volume>
        <fpage>693</fpage>
        <lpage>699</lpage>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-13">
      <label>13</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Giménez-Alventosa</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Antunes</surname>
            <given-names>P C</given-names>
          </name>
          <name>
            <surname>Vijande</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Ballester</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Pérez-Calatayud</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Andreo</surname>
            <given-names>P</given-names>
          </name>
        </person-group>
        <article-title>Collision-kerma conversion between dose-to-tissue and dose-to-water by photon energy-fluence corrections in low-energy brachytherapy</article-title>
        <source>Phys Med Biol</source>
        <year>2017</year>
        <volume>62</volume>
        <issue>01</issue>
        <fpage>146</fpage>
        <lpage>164</lpage>
        <pub-id pub-id-type="pmid">27991455</pub-id>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-14">
      <label>14</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Wilkinson</surname>
            <given-names>M D</given-names>
          </name>
          <name>
            <surname>Dumontier</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Aalbersberg</surname>
            <given-names>I J</given-names>
          </name>
        </person-group>
        <article-title>The FAIR guiding principles for scientific data management and stewardship</article-title>
        <source>Sci Data</source>
        <year>2016</year>
        <volume>3</volume>
        <fpage>160018</fpage>
        <pub-id pub-id-type="pmid">26978244</pub-id>
      </mixed-citation>
    </ref>
    <ref id="OR20010026-15">
      <label>15</label>
      <mixed-citation publication-type="other">RunMyCode.org. Available at:<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.runmycode.org/">http://www.runmycode.org/</uri><patent>. Accessed March 5, 2019</patent></mixed-citation>
    </ref>
    <ref id="OR20010026-16">
      <label>16</label>
      <mixed-citation publication-type="other">CodeOcean. Available at:<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://codeocean.com/">https://codeocean.com/</uri><patent>. Accessed December 5, 2019</patent></mixed-citation>
    </ref>
    <ref id="OR20010026-17">
      <label>17</label>
      <mixed-citation publication-type="other">Ipol. Available at:<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.ipol.im/">https://www.ipol.im/</uri><patent>. Accessed March 5, 2019</patent></mixed-citation>
    </ref>
    <ref id="JR20010026-18">
      <label>18</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Nüst</surname><given-names>D</given-names></name><name><surname>Konkol</surname><given-names>M</given-names></name><name><surname>Schutzeichel</surname><given-names>M</given-names></name></person-group><article-title>Opening the publication process with executable research compendia</article-title><source>Dlib Mag</source><year>2017</year><volume>23</volume>(1/2):<fpage>1082</fpage><lpage>9873</lpage></mixed-citation>
    </ref>
    <ref id="OR20010026-19">
      <label>19</label>
      <mixed-citation publication-type="other"><person-group person-group-type="author"><name><surname>Kluyver</surname><given-names>T</given-names></name><name><surname>Ragan-Kelley</surname><given-names>B</given-names></name><name><surname>Pérez</surname><given-names>F</given-names></name></person-group><article-title>Jupyter notebooks—a publishing format for reproducible computational workflows</article-title>Concurr Comput<year>2016</year></mixed-citation>
    </ref>
    <ref id="OR20010026-20">
      <label>20</label>
      <mixed-citation publication-type="other">Galaxy. Available at:<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://galaxyproject.org">https://galaxyproject.org</uri><patent>. Accessed: March 5, 2019</patent></mixed-citation>
    </ref>
    <ref id="JR20010026-21">
      <label>21</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Calatrava</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Romero</surname>
            <given-names>E</given-names>
          </name>
          <name>
            <surname>Caballer</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Moltó</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Alonso</surname>
            <given-names>J M</given-names>
          </name>
        </person-group>
        <article-title>Self-managed cost-efficient virtual elastic clusters on hybrid cloud infrastructures</article-title>
        <source>Future Gener Comput Syst</source>
        <year>2016</year>
        <volume>61</volume>
        <fpage>13</fpage>
        <lpage>25</lpage>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-22">
      <label>22</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Caballer</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Blanquer</surname>
            <given-names>I</given-names>
          </name>
          <name>
            <surname>Moltó</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>de Alfonso</surname>
            <given-names>C</given-names>
          </name>
        </person-group>
        <article-title>Dynamic management of virtual infrastructures</article-title>
        <source>J Grid Comput</source>
        <year>2015</year>
        <volume>13</volume>
        <fpage>53</fpage>
        <lpage>70</lpage>
      </mixed-citation>
    </ref>
    <ref id="OR20010026-23">
      <label>23</label>
      <mixed-citation publication-type="other">Open Science Framework. Available at:<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://osf.io">https://osf.io</uri><patent>. Accessed: March 5, 2019</patent></mixed-citation>
    </ref>
    <ref id="JR20010026-24">
      <label>24</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Wolstencroft</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Owen</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Krebs</surname>
            <given-names>O</given-names>
          </name>
        </person-group>
        <article-title>SEEK: a systems biology data and model management platform</article-title>
        <source>BMC Syst Biol</source>
        <year>2015</year>
        <volume>9</volume>
        <issue>01</issue>
        <fpage>33</fpage>
        <pub-id pub-id-type="pmid">26160520</pub-id>
      </mixed-citation>
    </ref>
    <ref id="OR20010026-25">
      <label>25</label>
      <mixed-citation publication-type="other">REANA. Available at:<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.reanahub.io/">http://www.reanahub.io/</uri><patent>. Accessed November 4, 2019</patent></mixed-citation>
    </ref>
    <ref id="OR20010026-26">
      <label>26</label>
      <mixed-citation publication-type="other">Stencila. Available at:<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://stenci.la">https://stenci.la</uri><patent>. Accessed March 5, 2019</patent></mixed-citation>
    </ref>
    <ref id="JR20010026-27">
      <label>27</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>de Alfonso</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Caballer</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Calatrava</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Moltó</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Blanquer</surname>
            <given-names>I</given-names>
          </name>
        </person-group>
        <article-title>Multi-elastic datacenters: auto-scaled virtual clusters on energy-aware physical infrastructures</article-title>
        <source>J Grid Comput</source>
        <year>2019</year>
        <volume>17</volume>
        <issue>01</issue>
        <fpage>191</fpage>
        <lpage>204</lpage>
      </mixed-citation>
    </ref>
    <ref id="OR20010026-28">
      <label>28</label>
      <mixed-citation publication-type="other">EOSC portal. Available at:<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://marketplace.eosc-portal.eu/services/">https://marketplace.eosc-portal.eu/services/</uri><patent>. Accessed October 30, 2019</patent></mixed-citation>
    </ref>
    <ref id="OR20010026-29">
      <label>29</label>
      <mixed-citation publication-type="other">Ansible. Available at:<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.ansible.com">https://www.ansible.com</uri><patent>. Accessed April 4, 2019</patent></mixed-citation>
    </ref>
    <ref id="OR20010026-30">
      <label>30</label>
      <mixed-citation publication-type="other">OpenNebula. Available at:<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://opennebula.org/">https://opennebula.org/</uri><patent>. Accessed: May 17, 2019</patent></mixed-citation>
    </ref>
    <ref id="JR20010026-31">
      <label>31</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Rawla</surname>
            <given-names>P</given-names>
          </name>
        </person-group>
        <article-title>Epidemiology of prostate cancer</article-title>
        <source>World J Oncol</source>
        <year>2019</year>
        <volume>10</volume>
        <issue>02</issue>
        <fpage>63</fpage>
        <lpage>89</lpage>
        <pub-id pub-id-type="pmid">31068988</pub-id>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-32">
      <label>32</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Wu</surname>
            <given-names>X</given-names>
          </name>
          <name>
            <surname>Reinikainen</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Kapanen</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Vierikko</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Ryymin</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Kellokumpu-Lehtinen</surname>
            <given-names>P L</given-names>
          </name>
        </person-group>
        <article-title>Dynamic contrast-enhanced imaging as a prognostic tool in early diagnosis of prostate cancer: correlation with PSA and clinical stage</article-title>
        <source>Contrast Media Mol Imaging</source>
        <year>2018</year>
        <volume>2018</volume>
        <fpage>3.181258E6</fpage>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-33">
      <label>33</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Bratan</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Niaf</surname>
            <given-names>E</given-names>
          </name>
          <name>
            <surname>Melodelima</surname>
            <given-names>C</given-names>
          </name>
        </person-group>
        <article-title>Influence of imaging and histological factors on prostate cancer detection and localisation on multiparametric MRI: a prospective study</article-title>
        <source>Eur Radiol</source>
        <year>2013</year>
        <volume>23</volume>
        <issue>07</issue>
        <fpage>2019</fpage>
        <lpage>2029</lpage>
        <pub-id pub-id-type="pmid">23494494</pub-id>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-34">
      <label>34</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Le</surname>
            <given-names>J D</given-names>
          </name>
          <name>
            <surname>Tan</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Shkolyar</surname>
            <given-names>E</given-names>
          </name>
        </person-group>
        <article-title>Multifocality and prostate cancer detection by multiparametric magnetic resonance imaging: correlation with whole-mount histopathology</article-title>
        <source>Eur Urol</source>
        <year>2015</year>
        <volume>67</volume>
        <issue>03</issue>
        <fpage>569</fpage>
        <lpage>576</lpage>
        <pub-id pub-id-type="pmid">25257029</pub-id>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-35">
      <label>35</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Kety</surname>
            <given-names>S S</given-names>
          </name>
        </person-group>
        <article-title>The theory and applications of the exchange of inert gas at the lungs and tissues</article-title>
        <source>Pharmacol Rev</source>
        <year>1951</year>
        <volume>3</volume>
        <issue>01</issue>
        <fpage>1</fpage>
        <lpage>41</lpage>
        <pub-id pub-id-type="pmid">14833874</pub-id>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-36">
      <label>36</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Tofts</surname>
            <given-names>P S</given-names>
          </name>
          <name>
            <surname>Wicks</surname>
            <given-names>D A</given-names>
          </name>
          <name>
            <surname>Barker</surname>
            <given-names>G J</given-names>
          </name>
        </person-group>
        <article-title>The MRI measurement of NMR and physiological parameters in tissue to study disease process</article-title>
        <source>Prog Clin Biol Res</source>
        <year>1991</year>
        <volume>363</volume>
        <fpage>313</fpage>
        <lpage>325</lpage>
        <pub-id pub-id-type="pmid">1988983</pub-id>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-37">
      <label>37</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Brix</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Semmler</surname>
            <given-names>W</given-names>
          </name>
          <name>
            <surname>Port</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Schad</surname>
            <given-names>L R</given-names>
          </name>
          <name>
            <surname>Layer</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Lorenz</surname>
            <given-names>W J</given-names>
          </name>
        </person-group>
        <article-title>Pharmacokinetic parameters in CNS Gd-DTPA enhanced MR imaging</article-title>
        <source>J Comput Assist Tomogr</source>
        <year>1991</year>
        <volume>15</volume>
        <issue>04</issue>
        <fpage>621</fpage>
        <lpage>628</lpage>
        <pub-id pub-id-type="pmid">2061479</pub-id>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-38">
      <label>38</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Larsson</surname>
            <given-names>H BW</given-names>
          </name>
          <name>
            <surname>Stubgaard</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Frederiksen</surname>
            <given-names>J L</given-names>
          </name>
          <name>
            <surname>Jensen</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Henriksen</surname>
            <given-names>O</given-names>
          </name>
          <name>
            <surname>Paulson</surname>
            <given-names>O B</given-names>
          </name>
        </person-group>
        <article-title>Quantitation of blood-brain barrier defect by magnetic resonance imaging and gadolinium-DTPA in patients with multiple sclerosis and brain tumors</article-title>
        <source>Magn Reson Med</source>
        <year>1990</year>
        <volume>16</volume>
        <issue>01</issue>
        <fpage>117</fpage>
        <lpage>131</lpage>
        <pub-id pub-id-type="pmid">2255233</pub-id>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-39">
      <label>39</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Tofts</surname>
            <given-names>P S</given-names>
          </name>
          <name>
            <surname>Kermode</surname>
            <given-names>A G</given-names>
          </name>
        </person-group>
        <article-title>Measurement of the blood-brain barrier permeability and leakage space using dynamic MR imaging. 1. Fundamental concepts</article-title>
        <source>Magn Reson Med</source>
        <year>1991</year>
        <volume>17</volume>
        <issue>02</issue>
        <fpage>357</fpage>
        <lpage>367</lpage>
        <pub-id pub-id-type="pmid">2062210</pub-id>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-40">
      <label>40</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Donahue</surname>
            <given-names>K M</given-names>
          </name>
          <name>
            <surname>Weisskoff</surname>
            <given-names>R M</given-names>
          </name>
          <name>
            <surname>Burstein</surname>
            <given-names>D</given-names>
          </name>
        </person-group>
        <article-title>Water diffusion and exchange as they influence contrast enhancement</article-title>
        <source>J Magn Reson Imaging</source>
        <year>1997</year>
        <volume>7</volume>
        <issue>01</issue>
        <fpage>102</fpage>
        <lpage>110</lpage>
        <pub-id pub-id-type="pmid">9039599</pub-id>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-41">
      <label>41</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Flouri</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Lesnic</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Sourbron</surname>
            <given-names>S P</given-names>
          </name>
        </person-group>
        <article-title>Fitting the two-compartment model in DCE-MRI by linear inversion</article-title>
        <source>Magn Reson Med</source>
        <year>2016</year>
        <volume>76</volume>
        <issue>03</issue>
        <fpage>998</fpage>
        <lpage>1006</lpage>
        <pub-id pub-id-type="pmid">26376011</pub-id>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-42">
      <label>42</label>
      <mixed-citation publication-type="journal"><article-title>Rene Brun and Fons Rademakers. Root—an object oriented data analysis framework</article-title><source>Nucl Instrum Methods Phys Res A</source><year>1997</year><volume>389</volume>(1–2):<fpage>81</fpage><lpage>86</lpage></mixed-citation>
    </ref>
    <ref id="JR20010026-43">
      <label>43</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Liu</surname>
            <given-names>X</given-names>
          </name>
          <name>
            <surname>Comtat</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Michel</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Kinahan</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Defrise</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Townsend</surname>
            <given-names>D</given-names>
          </name>
        </person-group>
        <article-title>Comparison of 3-d reconstruction with 3D-OSEM and with fore+OSEM for pet</article-title>
        <source>IEEE Trans Med Imaging</source>
        <year>2001</year>
        <volume>20</volume>
        <issue>08</issue>
        <fpage>804</fpage>
        <lpage>814</lpage>
        <pub-id pub-id-type="pmid">11513031</pub-id>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-44">
      <label>44</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Singh</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Kalra</surname>
            <given-names>M K</given-names>
          </name>
          <name>
            <surname>Hsieh</surname>
            <given-names>J</given-names>
          </name>
        </person-group>
        <article-title>Abdominal CT: comparison of adaptive statistical iterative and filtered back projection reconstruction techniques</article-title>
        <source>Radiology</source>
        <year>2010</year>
        <volume>257</volume>
        <issue>02</issue>
        <fpage>373</fpage>
        <lpage>383</lpage>
        <pub-id pub-id-type="pmid">20829535</pub-id>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-45">
      <label>45</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Shepp</surname>
            <given-names>L A</given-names>
          </name>
          <name>
            <surname>Vardi</surname>
            <given-names>Y</given-names>
          </name>
        </person-group>
        <article-title>Maximum likelihood reconstruction for emission tomography</article-title>
        <source>IEEE Trans Med Imaging</source>
        <year>1982</year>
        <volume>1</volume>
        <issue>02</issue>
        <fpage>113</fpage>
        <lpage>122</lpage>
        <pub-id pub-id-type="pmid">18238264</pub-id>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-46">
      <label>46</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Goo</surname>
            <given-names>J M</given-names>
          </name>
          <name>
            <surname>Tongdee</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Tongdee</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Yeo</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Hildebolt</surname>
            <given-names>C F</given-names>
          </name>
          <name>
            <surname>Bae</surname>
            <given-names>K T</given-names>
          </name>
        </person-group>
        <article-title>Volumetric measurement of synthetic lung nodules with multi-detector row CT: effect of various image reconstruction parameters and segmentation thresholds on measurement accuracy</article-title>
        <source>Radiology</source>
        <year>2005</year>
        <volume>235</volume>
        <issue>03</issue>
        <fpage>850</fpage>
        <lpage>856</lpage>
        <pub-id pub-id-type="pmid">15914478</pub-id>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-47">
      <label>47</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Ravenel</surname>
            <given-names>J G</given-names>
          </name>
          <name>
            <surname>Leue</surname>
            <given-names>W M</given-names>
          </name>
          <name>
            <surname>Nietert</surname>
            <given-names>P J</given-names>
          </name>
          <name>
            <surname>Miller</surname>
            <given-names>J V</given-names>
          </name>
          <name>
            <surname>Taylor</surname>
            <given-names>K K</given-names>
          </name>
          <name>
            <surname>Silvestri</surname>
            <given-names>G A</given-names>
          </name>
        </person-group>
        <article-title>Pulmonary nodule volume: effects of reconstruction parameters on automated measurements—a phantom study</article-title>
        <source>Radiology</source>
        <year>2008</year>
        <volume>247</volume>
        <issue>02</issue>
        <fpage>400</fpage>
        <lpage>408</lpage>
        <pub-id pub-id-type="pmid">18430874</pub-id>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-48">
      <label>48</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Hu</surname>
            <given-names>Y-H</given-names>
          </name>
          <name>
            <surname>Zhao</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Zhao</surname>
            <given-names>W</given-names>
          </name>
        </person-group>
        <article-title>Image artifacts in digital breast tomosynthesis: investigation of the effects of system geometry and reconstruction parameters using a linear system approach</article-title>
        <source>Med Phys</source>
        <year>2008</year>
        <volume>35</volume>
        <issue>12</issue>
        <fpage>5242</fpage>
        <lpage>5252</lpage>
        <pub-id pub-id-type="pmid">19175083</pub-id>
      </mixed-citation>
    </ref>
    <ref id="JR20010026-49">
      <label>49</label>
      <mixed-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Lyra</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Ploussi</surname>
            <given-names>A</given-names>
          </name>
        </person-group>
        <article-title>Filtering in SPECT image reconstruction</article-title>
        <source>Int J Biomed Imaging</source>
        <year>2011</year>
        <volume>2011</volume>
        <fpage>693795</fpage>
        <pub-id pub-id-type="pmid">21760768</pub-id>
      </mixed-citation>
    </ref>
    <ref id="BR20010026-50">
      <label>50</label>
      <mixed-citation publication-type="book">
        <person-group person-group-type="author">
          <name>
            <surname>Salvat</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Fernández-Varea</surname>
            <given-names>J M</given-names>
          </name>
          <name>
            <surname>Sempau</surname>
            <given-names>J</given-names>
          </name>
        </person-group>
        <article-title>Penelope. A Code System for Monte Carlo Simulation of Electron and Photon Transport</article-title>
        <publisher-name>Issy-Les-Moulineaux: OECD Nuclear Energy Agency</publisher-name>
        <year>2014</year>
      </mixed-citation>
    </ref>
  </ref-list>
</back>
