<?properties open_access?>
<?DTDIdentifier.IdentifierValue -//Springer-Verlag//DTD A++ V2.4//EN?>
<?DTDIdentifier.IdentifierType public?>
<?SourceDTD.DTDName A++V2.4.dtd?>
<?SourceDTD.Version 2.4?>
<?ConverterInfo.XSLTName springer2nlmx2.xsl?>
<?ConverterInfo.Version 1?>
<front>
  <journal-meta>
    <journal-id journal-id-type="nlm-ta">BMC Bioinformatics</journal-id>
    <journal-id journal-id-type="iso-abbrev">BMC Bioinformatics</journal-id>
    <journal-title-group>
      <journal-title>BMC Bioinformatics</journal-title>
    </journal-title-group>
    <issn pub-type="epub">1471-2105</issn>
    <publisher>
      <publisher-name>BioMed Central</publisher-name>
      <publisher-loc>London</publisher-loc>
    </publisher>
  </journal-meta>
  <article-meta>
    <article-id pub-id-type="pmcid">7191767</article-id>
    <article-id pub-id-type="publisher-id">3478</article-id>
    <article-id pub-id-type="doi">10.1186/s12859-020-3478-x</article-id>
    <article-categories>
      <subj-group subj-group-type="heading">
        <subject>Software</subject>
      </subj-group>
    </article-categories>
    <title-group>
      <article-title>vivaGen – a survival data set generator for software testing</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <name>
          <surname>Gietzelt</surname>
          <given-names>Matthias</given-names>
        </name>
        <address>
          <email>gietzelt.matthias@mh-hannover.de</email>
        </address>
        <xref ref-type="aff" rid="Aff1">1</xref>
        <xref ref-type="aff" rid="Aff2">2</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Karmen</surname>
          <given-names>Christian</given-names>
        </name>
        <address>
          <email>christian.karmen@med.uni-heidelberg.de</email>
        </address>
        <xref ref-type="aff" rid="Aff1">1</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Knaup-Gregori</surname>
          <given-names>Petra</given-names>
        </name>
        <address>
          <email>petra.knaup@med.uni-heidelberg.de</email>
        </address>
        <xref ref-type="aff" rid="Aff1">1</xref>
      </contrib>
      <contrib contrib-type="author" corresp="yes">
        <contrib-id contrib-id-type="orcid">http://orcid.org/0000-0002-2716-5425</contrib-id>
        <name>
          <surname>Ganzinger</surname>
          <given-names>Matthias</given-names>
        </name>
        <address>
          <email>matthias.ganzinger@med.uni-heidelberg.de</email>
        </address>
        <xref ref-type="aff" rid="Aff1">1</xref>
      </contrib>
      <aff id="Aff1"><label>1</label><institution-wrap><institution-id institution-id-type="ISNI">0000 0001 2190 4373</institution-id><institution-id institution-id-type="GRID">grid.7700.0</institution-id><institution>Heidelberg University, Institute of Medical Biometry and Informatics, </institution></institution-wrap>Im Neuenheimer Feld 130.3, Heidelberg, 69120 Germany </aff>
      <aff id="Aff2"><label>2</label><institution-wrap><institution-id institution-id-type="ISNI">0000 0000 9529 9877</institution-id><institution-id institution-id-type="GRID">grid.10423.34</institution-id><institution>Peter L. Reichertz Institute for Medical Informatics of TU Braunschweig and Hannover Medical School, </institution></institution-wrap>Carl-Neuberg-Str. 1, Hannover, 30625 Germany </aff>
    </contrib-group>
    <pub-date pub-type="epub">
      <day>29</day>
      <month>4</month>
      <year>2020</year>
    </pub-date>
    <pub-date pub-type="pmc-release">
      <day>29</day>
      <month>4</month>
      <year>2020</year>
    </pub-date>
    <pub-date pub-type="collection">
      <year>2020</year>
    </pub-date>
    <volume>21</volume>
    <elocation-id>167</elocation-id>
    <history>
      <date date-type="received">
        <day>19</day>
        <month>6</month>
        <year>2019</year>
      </date>
      <date date-type="accepted">
        <day>31</day>
        <month>3</month>
        <year>2020</year>
      </date>
    </history>
    <permissions>
      <copyright-statement>© The Author(s) 2020</copyright-statement>
      <license license-type="OpenAccess">
        <license-p><bold>Open Access</bold> This article is licensed under a Creative Commons Attribution 4.0 International License, which permits use, sharing, adaptation, distribution and reproduction in any medium or format, as long as you give appropriate credit to the original author(s) and the source, provide a link to the Creative Commons licence, and indicate if changes were made. The images or other third party material in this article are included in the article’s Creative Commons licence, unless indicated otherwise in a credit line to the material. If material is not included in the article’s Creative Commons licence and your intended use is not permitted by statutory regulation or exceeds the permitted use, you will need to obtain permission directly from the copyright holder. To view a copy of this licence, visit <ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/licenses/by/4.0/">http://creativecommons.org/licenses/by/4.0/</ext-link>. The Creative Commons Public Domain Dedication waiver (<ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/publicdomain/zero/1.0/">http://creativecommons.org/publicdomain/zero/1.0/</ext-link>) applies to the data made available in this article, unless otherwise stated in a credit line to the data.</license-p>
      </license>
    </permissions>
    <abstract id="Abs1">
      <p id="Par1">An amendment to this paper has been published and can be accessed via the original article.</p>
    </abstract>
    <kwd-group xml:lang="en">
      <title>Keywords</title>
      <kwd>Data set generator</kwd>
      <kwd>Survival data</kwd>
      <kwd>Biomarker</kwd>
      <kwd>Java</kwd>
    </kwd-group>
    <funding-group>
      <award-group>
        <funding-source>
          <institution-wrap>
            <institution-id institution-id-type="FundRef">http://dx.doi.org/10.13039/501100002347</institution-id>
            <institution>Bundesministerium f?r Bildung und Forschung</institution>
          </institution-wrap>
        </funding-source>
        <award-id>16PGF0182</award-id>
      </award-group>
    </funding-group>
    <funding-group>
      <award-group>
        <funding-source>
          <institution-wrap>
            <institution-id institution-id-type="FundRef">http://dx.doi.org/10.13039/501100002347</institution-id>
            <institution>Bundesministerium f?r Bildung und Forschung</institution>
          </institution-wrap>
        </funding-source>
        <award-id>01ZX1609A</award-id>
      </award-group>
    </funding-group>
    <custom-meta-group>
      <custom-meta>
        <meta-name>issue-copyright-statement</meta-name>
        <meta-value>© The Author(s) 2020</meta-value>
      </custom-meta>
    </custom-meta-group>
  </article-meta>
</front>
<body>
  <sec id="Sec1">
    <title>Background</title>
    <p>Software testing is an essential part of the software development process [<xref ref-type="bibr" rid="CR1">1</xref>]. The testing process is usually divided into different consecutive test levels: function test (on function/method level), module test, integration test, and system test. The higher the test level, the higher is the need for more complex test data. Especially, medical and clinical systems require a systematic and exceptionally intensive testing process, before such systems can be considered to assist physicians in diagnosis or treatment of patients. Although these systems could and should be tested using real-world data, there are sometimes disadvantages for this approach: real-world data can possibly be influenced or interfered by effects such as confounders [<xref ref-type="bibr" rid="CR2">2</xref>] or mediators [<xref ref-type="bibr" rid="CR3">3</xref>]. These effects are non-random and in many cases unknown. As a consequence, they are difficult to control and must be taken into account when dealing with real-world data sets for testing purposes. In addition, real-world data might contain gaps, making some tests hard to perform.</p>
    <p>The use of simulation data is often a very helpful way to test complex software systems at certain test stages. Simulated data can be designed in a way that all effects are well-defined and all relationships between attributes are controllable. Thus, for testing purposes it seems to be a sensible step to include test data from an environment that is fully controllable, but which is as close as possible to the intended setting into the test process.</p>
    <sec id="Sec2">
      <title>Simulation data in survival analysis</title>
      <p>In a medical context, survival data typically emerge from longitudinal trials or registers, which include follow-up data. The main characteristics of survival data are the two related endpoints: the time period and the so-called event. The event can be for example “death” in case of overall survival observations, or “progression” in case of investigating progression-free survival periods. The time period is either the time, until the event happens, or otherwise, in case of no event, the duration of the observation period. If no event has occurred during the observation period, the observation is called right-censored [<xref ref-type="bibr" rid="CR4">4</xref>].</p>
      <p>Testing of systems that are processing survival data demands for well-defined data sets. It can be a challenging task to generate such survival data containing known effects. These effects should be found during the test by the system.</p>
    </sec>
    <sec id="Sec3">
      <title>Related work</title>
      <p>Currently, there are a number of software packages available to simulate survival data in the statistical language <italic>R</italic> [<xref ref-type="bibr" rid="CR5">5</xref>]: The <italic>survsim</italic> package [<xref ref-type="bibr" rid="CR6">6</xref>] is able to generate single or multiple event data for different survival time distributions and it allows for a flexible handling of its parameters. However, it is not easy to define the characteristics of the attributes. For example, the number of subjects affected by an event is defined via corresponding distributions. This configuration might be no problem for experts, but is challenging for users with only basic experience.</p>
      <p>The <italic>genSurv</italic> package [<xref ref-type="bibr" rid="CR7">7</xref>] allows for the generation of data from a progressive illness-death model [<xref ref-type="bibr" rid="CR8">8</xref>] using a variety of models: a Cox Markov model, a time-dependent Cox model, and a Cox Proportional Hazard model. Again, the configuration of effects of the covariates requires special skills.</p>
      <p>There are other <italic>R</italic> packages, too, which provide survival data simulation functions. But the main focus of these packages is the provision of survival estimation functions rather than the simulation aspect itself. Thus, the simulation functions are provided as a test environment to test the core functions. For example, the package <italic>splinesurv</italic> [<xref ref-type="bibr" rid="CR9">9</xref>] is able to simulate clustered survival data with a specified number of clusters in the sample. The simulated data is used to provide sample data of the correct format to test the main survival estimation functions of the package.</p>
      <p>To the authors’ best knowledge, there is no package available that simulates data of a randomized controlled trial and supports a simple and comprehensive way for setting up survival time distribution parameters.</p>
    </sec>
    <sec id="Sec4">
      <title>Objective</title>
      <p>The aim of this research was to design and to implement a data set generator for survival data that is comprehensively configurable and is also suitable for users with only basic experience in setting up survival time distribution parameters. The data set should simulate survival data of a typical randomized controlled trial with follow-up data and should be designed to feature defined differences between the randomized groups.</p>
      <p>The simulated data set should contain both: random attributes, which are unrelated to the survival outcome, and attributes with defined and controllable effects. We define such non-random attributes as “biomarkers”, which are able to indicate, if a patient would be able to profit from a certain therapy in terms of an improved survival outcome. Such generated data sets can be used for testing in order to find the defined differences.</p>
    </sec>
    <sec id="Sec5">
      <title>Organization of the paper</title>
      <p>The paper is organized as follows. Chapter “Implementation” contains information about the requirements of the survival data generation process, highlights the data organization and important points during the software development process, and describes how the requirements were met. “Results” contains information about the current status of the development. Finally, we describe the “Lessons learned” and our “Future plans” in the chapter “Conclusion”.</p>
    </sec>
  </sec>
  <sec id="Sec6">
    <title>Implementation</title>
    <sec id="Sec7">
      <title>Long-term survivors vs. short-term survivors</title>
      <p>In a typical longitudinal survival study, one may observe a bimodal distribution with two peaks in the survival time when represented in a histogram. Figure <xref rid="Fig1" ref-type="fig">1</xref> shows a survival time histogram from the “colon” data set as an example for longitudinal survival data with two fitted Weibull distributions [<xref ref-type="bibr" rid="CR10">10</xref>]. This data set shows a bimodal distribution. Indeed, this is not a result of an isolated study – a bimodal distribution of survival time is a common phenomenon [<xref ref-type="bibr" rid="CR11">11</xref>]. As a consequence for modelling survival data, one has to consider two typical main groups of survivors: the so-called long-term survivors (LTS, group with a higher chance of a long-term survival) and the early decliners resp. short-term survivors (STS, group with a lower chance of a long-term survival). Therefore, the simulated cohort should represent such a LTS and a STS group.
<fig id="Fig1"><label>Fig. 1</label><caption><p>Survival time histogram.The figure shows a typical bimodal distribution of survival time in a longitudinal data set with fitted Weibull distributions at each peak. The fitted Weibull distributions were computed using a maximum likelihood estimation method. The dashed function characterizes the group of short-term survivors, the full line function the long-term survivors. The data used to plot the histogram originates from the “colon” data set, which was originally described in [<xref ref-type="bibr" rid="CR10">10</xref>] and is provided as part of the <italic>R</italic> package <italic>survival</italic> [<xref ref-type="bibr" rid="CR18">18</xref>]</p></caption><graphic xlink:href="12859_2020_3478_Fig1_HTML" id="MO1"/></fig></p>
    </sec>
    <sec id="Sec8">
      <title>General cohort organization</title>
      <p>One requirement for this data generator is to simulate survival data of typical randomized controlled trials on therapeutic comparisons with follow-up data. This means that the study cohort is organized in two balanced study arms: Arm B should be seen as the new therapy (e. g. a new medication), which is to be compared to the standard treatment of arm A (competing therapy/placebo arm). As a requirement, it should be possible to specify that one of both arms has a longer (or at least equal) survival compared to the other arm. This enables the specific manipulation of the data with an expected outcome in terms of an improved survival for a certain point in time <italic>t</italic> in one arm compared to the other arm. In the default settings, we chose arm B to be superior (or at least non-inferior) in comparison to arm A, i. e. <italic>S</italic><sub><italic>B</italic></sub>(<italic>t</italic>)≥<italic>S</italic><sub><italic>A</italic></sub>(<italic>t</italic>) for this scenario. But the user can also define <italic>S</italic><sub><italic>B</italic></sub>(<italic>t</italic>)&lt;<italic>S</italic><sub><italic>A</italic></sub>(<italic>t</italic>), which means that arm A is superior compared to arm B.</p>
      <p>After having derived the necessity for distinguishing between the LTS and the STS group, a generalized model for generating the cohort data can be drawn. As shown by the example of Fig. <xref rid="Fig2" ref-type="fig">2</xref>, the cohort will be organized into two arms, both containing LTS and STS. Thereby, our approach specifies survivors and non-survivors in order to model defined effects into the data.
<fig id="Fig2"><label>Fig. 2</label><caption><p>Organization of the cohort and study arms. The leafs of this tree have assignments of probabilities <italic>p</italic><sub>1</sub>,…,<italic>p</italic><sub>4</sub> to indicate the prevalence of biomarkers in specific subgroups</p></caption><graphic xlink:href="12859_2020_3478_Fig2_HTML" id="MO2"/></fig></p>
    </sec>
    <sec id="Sec9">
      <title>Setting up survival time distribution parameters</title>
      <p>Another requirement is to have a convenient way to set up abstract survival time distribution parameters, which can be difficult to adjust. Since practitioners have an intuition about the estimation of the survival rate <italic>S</italic>(<italic>t</italic>) for a certain point in time <italic>t</italic>, we decided to use this measure for setting up the survival time distribution. Thus, the user will be able to configure the survival function in a way that it touches a specific point in a survival plot.</p>
      <p>In contrast to other approaches, this data generation approach should allow for the survival time distribution parametrization of a specific survival rate at a certain point in time. In the following paragraphs we introduce our concept for a simple parametrizations for a Weibull- and a log-logistic-distributed random variable for modelling survival time.</p>
      <p>Let <italic>Y</italic><sub>Wei</sub>∼ Wei(<italic>λ</italic>,<italic>k</italic>) be a Weibull-distributed random variable with <italic>λ</italic> as a scale parameter and <italic>k</italic> as a shape parameter and <inline-formula id="IEq1"><alternatives><tex-math id="M1">\documentclass[12pt]{minimal}
				\usepackage{amsmath}
				\usepackage{wasysym} 
				\usepackage{amsfonts} 
				\usepackage{amssymb} 
				\usepackage{amsbsy}
				\usepackage{mathrsfs}
				\usepackage{upgreek}
				\setlength{\oddsidemargin}{-69pt}
				\begin{document}$\lambda, k \in \mathbb {R}_{&gt; 0}$\end{document}</tex-math><mml:math id="M2"><mml:mi>λ</mml:mi><mml:mo>,</mml:mo><mml:mi>k</mml:mi><mml:mo>∈</mml:mo><mml:msub><mml:mrow><mml:mi>ℝ</mml:mi></mml:mrow><mml:mrow><mml:mo>&gt;</mml:mo><mml:mn>0</mml:mn></mml:mrow></mml:msub></mml:math><inline-graphic xlink:href="12859_2020_3478_Article_IEq1.gif"/></alternatives></inline-formula>. Given a point in time <inline-formula id="IEq2"><alternatives><tex-math id="M3">\documentclass[12pt]{minimal}
				\usepackage{amsmath}
				\usepackage{wasysym} 
				\usepackage{amsfonts} 
				\usepackage{amssymb} 
				\usepackage{amsbsy}
				\usepackage{mathrsfs}
				\usepackage{upgreek}
				\setlength{\oddsidemargin}{-69pt}
				\begin{document}$t \in \mathbb {R}_{&gt; 0}$\end{document}</tex-math><mml:math id="M4"><mml:mi>t</mml:mi><mml:mo>∈</mml:mo><mml:msub><mml:mrow><mml:mi>ℝ</mml:mi></mml:mrow><mml:mrow><mml:mo>&gt;</mml:mo><mml:mn>0</mml:mn></mml:mrow></mml:msub></mml:math><inline-graphic xlink:href="12859_2020_3478_Article_IEq2.gif"/></alternatives></inline-formula> with a fixed corresponding survival probability <italic>S</italic>(<italic>t</italic>)∈(0,1), the survival function <italic>S</italic> of the Weibull distribution can be solved for the unknown parameter <italic>λ</italic>:
<disp-formula id="Equ1"><label>1</label><alternatives><tex-math id="M5">\documentclass[12pt]{minimal}
				\usepackage{amsmath}
				\usepackage{wasysym} 
				\usepackage{amsfonts} 
				\usepackage{amssymb} 
				\usepackage{amsbsy}
				\usepackage{mathrsfs}
				\usepackage{upgreek}
				\setlength{\oddsidemargin}{-69pt}
				\begin{document} $$ S(t) = e^{-\left(\frac{t}{\lambda} \right)^{k}}.  $$ \end{document}</tex-math><mml:math id="M6"><mml:mi>S</mml:mi><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:msup><mml:mrow><mml:mi>e</mml:mi></mml:mrow><mml:mrow><mml:mo>−</mml:mo><mml:msup><mml:mrow><mml:mfenced close=")" open="(" separators=""><mml:mrow><mml:mfrac><mml:mrow><mml:mi>t</mml:mi></mml:mrow><mml:mrow><mml:mi>λ</mml:mi></mml:mrow></mml:mfrac></mml:mrow></mml:mfenced></mml:mrow><mml:mrow><mml:mi>k</mml:mi></mml:mrow></mml:msup></mml:mrow></mml:msup><mml:mi>.</mml:mi></mml:math><graphic xlink:href="12859_2020_3478_Article_Equ1.gif" position="anchor"/></alternatives></disp-formula></p>
      <p>It emerges for the parameter <italic>λ</italic>, which depends on <italic>t</italic>, <italic>S</italic>(<italic>t</italic>) and <italic>k</italic>:
<disp-formula id="Equ2"><label>2</label><alternatives><tex-math id="M7">\documentclass[12pt]{minimal}
				\usepackage{amsmath}
				\usepackage{wasysym} 
				\usepackage{amsfonts} 
				\usepackage{amssymb} 
				\usepackage{amsbsy}
				\usepackage{mathrsfs}
				\usepackage{upgreek}
				\setlength{\oddsidemargin}{-69pt}
				\begin{document} $$ \lambda = 10^{\log \left(t \right) - \log \left(-\ln \left(S(t) \right) \right) \cdot k^{-1}}.   $$ \end{document}</tex-math><mml:math id="M8"><mml:mi>λ</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn><mml:msup><mml:mrow><mml:mn>0</mml:mn></mml:mrow><mml:mrow><mml:mo>log</mml:mo><mml:mfenced close=")" open="(" separators=""><mml:mrow><mml:mi>t</mml:mi></mml:mrow></mml:mfenced><mml:mo>−</mml:mo><mml:mo>log</mml:mo><mml:mfenced close=")" open="(" separators=""><mml:mrow><mml:mo>−</mml:mo><mml:mo>ln</mml:mo><mml:mfenced close=")" open="(" separators=""><mml:mrow><mml:mi>S</mml:mi><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:mrow></mml:mfenced></mml:mrow></mml:mfenced><mml:mo>·</mml:mo><mml:msup><mml:mrow><mml:mi>k</mml:mi></mml:mrow><mml:mrow><mml:mo>−</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:msup></mml:mrow></mml:msup><mml:mi>.</mml:mi></mml:math><graphic xlink:href="12859_2020_3478_Article_Equ2.gif" position="anchor"/></alternatives></disp-formula></p>
      <p>With this result we are able to estimate parameter <italic>λ</italic>, but not <italic>k</italic>, which models the shape of the survival function. It seems that there is no useful possibility to estimate this parameter in a convenient way, so that the user still has to choose the shape parameter explicitly.</p>
      <p>The existence of <italic>λ</italic> is shown in the following term by analyzing the exponent of the right hand side of Eq. <xref rid="Equ2" ref-type="">2</xref>:
<disp-formula id="Equ3"><label>3</label><alternatives><tex-math id="M9">\documentclass[12pt]{minimal}
				\usepackage{amsmath}
				\usepackage{wasysym} 
				\usepackage{amsfonts} 
				\usepackage{amssymb} 
				\usepackage{amsbsy}
				\usepackage{mathrsfs}
				\usepackage{upgreek}
				\setlength{\oddsidemargin}{-69pt}
				\begin{document} $$ \log \underbrace{\left(t \right)}_{&gt;0} - \log \underbrace{\left(-\overbrace{\ln \underbrace{\left(S(t) \right)}_{&gt;0}}^{&lt;0 \Rightarrow S(t)&lt;1} \right)}_{&gt;0} \; \cdot k^{-1}.  $$ \end{document}</tex-math><mml:math id="M10"><mml:mo>log</mml:mo><mml:munder><mml:mrow><mml:munder accentunder="false"><mml:mrow><mml:mfenced close=")" open="(" separators=""><mml:mrow><mml:mi>t</mml:mi></mml:mrow></mml:mfenced></mml:mrow><mml:mo>⏟</mml:mo></mml:munder></mml:mrow><mml:mrow><mml:mo>&gt;</mml:mo><mml:mn>0</mml:mn></mml:mrow></mml:munder><mml:mo>−</mml:mo><mml:mo>log</mml:mo><mml:munder><mml:mrow><mml:munder accentunder="false"><mml:mrow><mml:mfenced close=")" open="(" separators=""><mml:mrow><mml:mo>−</mml:mo><mml:mover><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mo>ln</mml:mo><mml:munder><mml:mrow><mml:munder accentunder="false"><mml:mrow><mml:mfenced close=")" open="(" separators=""><mml:mrow><mml:mi>S</mml:mi><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:mrow></mml:mfenced></mml:mrow><mml:mo>⏟</mml:mo></mml:munder></mml:mrow><mml:mrow><mml:mo>&gt;</mml:mo><mml:mn>0</mml:mn></mml:mrow></mml:munder></mml:mrow><mml:mo>⏞</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mo>&lt;</mml:mo><mml:mn>0</mml:mn><mml:mo>⇒</mml:mo><mml:mi>S</mml:mi><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo><mml:mo>&lt;</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:mover></mml:mrow></mml:mfenced></mml:mrow><mml:mo>⏟</mml:mo></mml:munder></mml:mrow><mml:mrow><mml:mo>&gt;</mml:mo><mml:mn>0</mml:mn></mml:mrow></mml:munder><mml:mspace width="2.77626pt"/><mml:mo>·</mml:mo><mml:msup><mml:mrow><mml:mi>k</mml:mi></mml:mrow><mml:mrow><mml:mo>−</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:msup><mml:mi>.</mml:mi></mml:math><graphic xlink:href="12859_2020_3478_Article_Equ3.gif" position="anchor"/></alternatives></disp-formula></p>
      <p>It emerges that
<list list-type="order"><list-item><p><italic>t</italic>&gt;0</p></list-item><list-item><p><italic>k</italic>≠0, but the Weibull distribution already demands for <italic>k</italic>&gt;0</p></list-item><list-item><p>0&lt;<italic>S</italic>(<italic>t</italic>)&lt;1</p></list-item><list-item><p><italic>λ</italic>&gt;0 (as follows from Eq. <xref rid="Equ2" ref-type="">2</xref>).</p></list-item></list></p>
      <p>These results show that no additional limitations for the parameters must be met for the Weibull distribution.</p>
      <p>Let <italic>Y</italic><sub>LL</sub>∼ LL(<italic>α</italic>,<italic>β</italic>) be a log-logistic-distributed random variable with <inline-formula id="IEq3"><alternatives><tex-math id="M11">\documentclass[12pt]{minimal}
				\usepackage{amsmath}
				\usepackage{wasysym} 
				\usepackage{amsfonts} 
				\usepackage{amssymb} 
				\usepackage{amsbsy}
				\usepackage{mathrsfs}
				\usepackage{upgreek}
				\setlength{\oddsidemargin}{-69pt}
				\begin{document}$\alpha, \beta \in \mathbb {R}_{&gt; 0}$\end{document}</tex-math><mml:math id="M12"><mml:mi>α</mml:mi><mml:mo>,</mml:mo><mml:mi>β</mml:mi><mml:mo>∈</mml:mo><mml:msub><mml:mrow><mml:mi>ℝ</mml:mi></mml:mrow><mml:mrow><mml:mo>&gt;</mml:mo><mml:mn>0</mml:mn></mml:mrow></mml:msub></mml:math><inline-graphic xlink:href="12859_2020_3478_Article_IEq3.gif"/></alternatives></inline-formula>. Given a point in time <inline-formula id="IEq4"><alternatives><tex-math id="M13">\documentclass[12pt]{minimal}
				\usepackage{amsmath}
				\usepackage{wasysym} 
				\usepackage{amsfonts} 
				\usepackage{amssymb} 
				\usepackage{amsbsy}
				\usepackage{mathrsfs}
				\usepackage{upgreek}
				\setlength{\oddsidemargin}{-69pt}
				\begin{document}$t \in \mathbb {R}_{&gt; 0}$\end{document}</tex-math><mml:math id="M14"><mml:mi>t</mml:mi><mml:mo>∈</mml:mo><mml:msub><mml:mrow><mml:mi>ℝ</mml:mi></mml:mrow><mml:mrow><mml:mo>&gt;</mml:mo><mml:mn>0</mml:mn></mml:mrow></mml:msub></mml:math><inline-graphic xlink:href="12859_2020_3478_Article_IEq4.gif"/></alternatives></inline-formula> with a fixed corresponding survival probability <italic>S</italic>(<italic>t</italic>)∈(0,1), the survival function <italic>S</italic> of the log-logistic distribution
<disp-formula id="Equ4"><label>4</label><alternatives><tex-math id="M15">\documentclass[12pt]{minimal}
				\usepackage{amsmath}
				\usepackage{wasysym} 
				\usepackage{amsfonts} 
				\usepackage{amssymb} 
				\usepackage{amsbsy}
				\usepackage{mathrsfs}
				\usepackage{upgreek}
				\setlength{\oddsidemargin}{-69pt}
				\begin{document} $$ S \left(t \right) = \frac{1}{1 + \left(\frac{t}{\alpha} \right)^{\beta}}  $$ \end{document}</tex-math><mml:math id="M16"><mml:mi>S</mml:mi><mml:mfenced close=")" open="(" separators=""><mml:mrow><mml:mi>t</mml:mi></mml:mrow></mml:mfenced><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msup><mml:mrow><mml:mfenced close=")" open="(" separators=""><mml:mrow><mml:mfrac><mml:mrow><mml:mi>t</mml:mi></mml:mrow><mml:mrow><mml:mi>α</mml:mi></mml:mrow></mml:mfrac></mml:mrow></mml:mfenced></mml:mrow><mml:mrow><mml:mi>β</mml:mi></mml:mrow></mml:msup></mml:mrow></mml:mfrac></mml:math><graphic xlink:href="12859_2020_3478_Article_Equ4.gif" position="anchor"/></alternatives></disp-formula></p>
      <p>can be solved for the unknown parameter <italic>α</italic>:
<disp-formula id="Equ5"><label>5</label><alternatives><tex-math id="M17">\documentclass[12pt]{minimal}
				\usepackage{amsmath}
				\usepackage{wasysym} 
				\usepackage{amsfonts} 
				\usepackage{amssymb} 
				\usepackage{amsbsy}
				\usepackage{mathrsfs}
				\usepackage{upgreek}
				\setlength{\oddsidemargin}{-69pt}
				\begin{document} $$ \alpha = t \cdot 10^{-\log \left(S^{-1}(t) - 1 \right) \cdot \beta^{-1}}.   $$ \end{document}</tex-math><mml:math id="M18"><mml:mi>α</mml:mi><mml:mo>=</mml:mo><mml:mi>t</mml:mi><mml:mo>·</mml:mo><mml:mn>1</mml:mn><mml:msup><mml:mrow><mml:mn>0</mml:mn></mml:mrow><mml:mrow><mml:mo>−</mml:mo><mml:mo>log</mml:mo><mml:mfenced close=")" open="(" separators=""><mml:mrow><mml:msup><mml:mrow><mml:mi>S</mml:mi></mml:mrow><mml:mrow><mml:mo>−</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:msup><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo><mml:mo>−</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:mfenced><mml:mo>·</mml:mo><mml:msup><mml:mrow><mml:mi>β</mml:mi></mml:mrow><mml:mrow><mml:mo>−</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:msup></mml:mrow></mml:msup><mml:mi>.</mml:mi></mml:math><graphic xlink:href="12859_2020_3478_Article_Equ5.gif" position="anchor"/></alternatives></disp-formula></p>
      <p>The existence of <italic>α</italic> is shown in the following term by investigating the exponent of the right hand side of Eq. <xref rid="Equ5" ref-type="">5</xref>:
<disp-formula id="Equ6"><label>6</label><alternatives><tex-math id="M19">\documentclass[12pt]{minimal}
				\usepackage{amsmath}
				\usepackage{wasysym} 
				\usepackage{amsfonts} 
				\usepackage{amssymb} 
				\usepackage{amsbsy}
				\usepackage{mathrsfs}
				\usepackage{upgreek}
				\setlength{\oddsidemargin}{-69pt}
				\begin{document} $$ \log \left(\underbrace{S^{-1}(t) - 1}_{&gt;0 \Rightarrow 0&lt;S(t)&lt;1} \right) \cdot \beta^{-1}.  $$ \end{document}</tex-math><mml:math id="M20"><mml:mo>log</mml:mo><mml:mfenced close=")" open="(" separators=""><mml:mrow><mml:munder><mml:mrow><mml:munder accentunder="false"><mml:mrow><mml:msup><mml:mrow><mml:mi>S</mml:mi></mml:mrow><mml:mrow><mml:mo>−</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:msup><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo><mml:mo>−</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mo>⏟</mml:mo></mml:munder></mml:mrow><mml:mrow><mml:mo>&gt;</mml:mo><mml:mn>0</mml:mn><mml:mo>⇒</mml:mo><mml:mn>0</mml:mn><mml:mo>&lt;</mml:mo><mml:mi>S</mml:mi><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo><mml:mo>&lt;</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:munder></mml:mrow></mml:mfenced><mml:mo>·</mml:mo><mml:msup><mml:mrow><mml:mi>β</mml:mi></mml:mrow><mml:mrow><mml:mo>−</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:msup><mml:mi>.</mml:mi></mml:math><graphic xlink:href="12859_2020_3478_Article_Equ6.gif" position="anchor"/></alternatives></disp-formula></p>
      <p>It emerges that
<list list-type="order"><list-item><p><italic>t</italic>&gt;0</p></list-item><list-item><p><italic>β</italic>≠0, but the log-logistic distribution already demands for <italic>β</italic>&gt;0</p></list-item><list-item><p>0&lt;<italic>S</italic>(<italic>t</italic>)&lt;1</p></list-item><list-item><p><italic>α</italic>&gt;0 (as follows from Eq. <xref rid="Equ5" ref-type="">5</xref>) for <italic>t</italic>&gt;0.</p></list-item></list></p>
      <p>These results show that no additional limitations for the parameters must be met for the log-logistic distribution. <italic>β</italic> has a similar influence as compared to <italic>k</italic> of the Weibull distribution.</p>
      <p>With the help of Eq. <xref rid="Equ2" ref-type="">2</xref> (and Eq. <xref rid="Equ5" ref-type="">5</xref>, resp.), it is possible to easily set up survival time distribution parameters.</p>
    </sec>
    <sec id="Sec10">
      <title>Independent random and non-random attributes</title>
      <p>The generated independent attributes should represent both: random and non-random attributes. The non-random attributes are called “biomarker” in this paper. Biomarkers should be able to indicate, whether a patient will be responsive with regard to a certain treatment, or not. The requirement for the generation process was to have at least one nominal and one numeric biomarker. Biomarkers should have a configurable intensity. For the generation process it is mandatory that the biomarkers are overall equally distributed in study arms A and B, but show an accumulation in specific subgroups.</p>
    </sec>
  </sec>
  <sec id="Sec11" sec-type="results">
    <title>Results</title>
    <p>The name of the software presented in this paper is <italic>vivaGen</italic>. Currently, in <italic>vivaGen</italic> it is possible to configure the above mentioned features in a graphical user interface (GUI). The GUI also provides an output visualization in terms of a survival plot. This plot instantly shows the changes made. Figure <xref rid="Fig3" ref-type="fig">3</xref> shows a screenshot of the GUI. A more extensive configuration can be made using a configuration file in JavaScript Object Notation (JSON) format [<xref ref-type="bibr" rid="CR12">12</xref>]. All parameters related to data generation presented in this section can be set in this file, too.
<fig id="Fig3"><label>Fig. 3</label><caption><p>Screenshot of the GUI of <italic>vivaGen</italic></p></caption><graphic xlink:href="12859_2020_3478_Fig3_HTML" id="MO3"/></fig></p>
    <sec id="Sec12">
      <title>Independent random and non-random attributes</title>
      <p>Random attributes are being generated using the transformations given in the <italic>Background</italic> section. Currently, the following distributions are supported:
<list list-type="bullet"><list-item><p>Uniform distribution (nominal and numeric attributes are generated)</p></list-item><list-item><p>Binomial distribution</p></list-item><list-item><p>(Standard-)normal distribution</p></list-item><list-item><p>Exponential distribution</p></list-item><list-item><p>Weibull distribution</p></list-item><list-item><p>Log-logistic distribution</p></list-item></list></p>
      <p><italic>vivaGen</italic> also allows for the definition of two kinds of biomarkers for each therapy arm independently: one nominal and one numerical biomarker. In the current state of development, the nominal biomarker is binomially distributed and the numerical biomarker follows a normal distribution. The specification of the biomarkers in this section will reflect the definition of those of arm A as an example, but the biomarkers of arm B are specified respectively.</p>
      <p>For the biomarker generation process we make use of the cohort organization described in the <italic>Implementation</italic> section. The nominal biomarker is actually a composite attribute of four binomial distributions Bin(<italic>n</italic><sub><italic>i</italic></sub>,<italic>p</italic><sub><italic>i</italic></sub>), which have four different probability values <italic>p</italic><sub><italic>i</italic></sub> in order to emphasize the ability to survive for particular subgroups. Binomial distributions provide results in terms of “success” and “failure”, i. e. “true” and “false”. Figure <xref rid="Fig2" ref-type="fig">2</xref> shows the assignments of the probability values <italic>p</italic><sub>1</sub>,…,<italic>p</italic><sub>4</sub> as annotations of the leafs.</p>
      <p>The assignment of probability values leads to a selective emphasizing of particular subgroups. The distinction within the LTS group of arm A was done to better emphasize the difference between both subgroups. Tests confirmed that a differentiation of the LTS group is necessary for the nominal attribute in order to get a distinct and visible result – especially for the arm that is inferior to the other. Because of the inferiority of the results of this arm as a whole, improvements might be only very slight, when modelling the LTS survivor group alone.</p>
      <p>For configuring the biomarker’s intensity, the user has to choose the probability values of
<disp-formula id="Equ7"><label>7</label><alternatives><tex-math id="M21">\documentclass[12pt]{minimal}
				\usepackage{amsmath}
				\usepackage{wasysym} 
				\usepackage{amsfonts} 
				\usepackage{amssymb} 
				\usepackage{amsbsy}
				\usepackage{mathrsfs}
				\usepackage{upgreek}
				\setlength{\oddsidemargin}{-69pt}
				\begin{document} $$\begin{array}{*{20}l} p_{1} &amp; = p(\text{biomarker} \vert \textrm{arm A} \cap \textrm{LTS} \cap \text{survivors}), \end{array} $$ \end{document}</tex-math><mml:math id="M22"><mml:mtable class="align" columnalign="left"><mml:mtr><mml:mtd class="align-1"><mml:msub><mml:mrow><mml:mi>p</mml:mi></mml:mrow><mml:mrow><mml:mn>1</mml:mn></mml:mrow></mml:msub></mml:mtd><mml:mtd class="align-2"><mml:mo>=</mml:mo><mml:mi>p</mml:mi><mml:mo>(</mml:mo><mml:mtext>biomarker</mml:mtext><mml:mo>|</mml:mo><mml:mtext>arm A</mml:mtext><mml:mo>∩</mml:mo><mml:mtext>LTS</mml:mtext><mml:mo>∩</mml:mo><mml:mtext>survivors</mml:mtext><mml:mo>)</mml:mo><mml:mo>,</mml:mo><mml:mspace width="2em"/></mml:mtd></mml:mtr></mml:mtable></mml:math><graphic xlink:href="12859_2020_3478_Article_Equ7.gif" position="anchor"/></alternatives></disp-formula></p>
      <p>
        <disp-formula id="Equ8">
          <label>8</label>
          <alternatives>
            <tex-math id="M23">\documentclass[12pt]{minimal}
				\usepackage{amsmath}
				\usepackage{wasysym} 
				\usepackage{amsfonts} 
				\usepackage{amssymb} 
				\usepackage{amsbsy}
				\usepackage{mathrsfs}
				\usepackage{upgreek}
				\setlength{\oddsidemargin}{-69pt}
				\begin{document} $$\begin{array}{*{20}l} p_{2} &amp; = p(\text{biomarker} \vert \textrm{arm A} \cap \textrm{LTS} \cap \textrm{non-survivors})\ \text{and} \end{array} $$ \end{document}</tex-math>
            <mml:math id="M24">
              <mml:mtable class="align" columnalign="left">
                <mml:mtr>
                  <mml:mtd class="align-1">
                    <mml:msub>
                      <mml:mrow>
                        <mml:mi>p</mml:mi>
                      </mml:mrow>
                      <mml:mrow>
                        <mml:mn>2</mml:mn>
                      </mml:mrow>
                    </mml:msub>
                  </mml:mtd>
                  <mml:mtd class="align-2">
                    <mml:mo>=</mml:mo>
                    <mml:mi>p</mml:mi>
                    <mml:mo>(</mml:mo>
                    <mml:mtext>biomarker</mml:mtext>
                    <mml:mo>|</mml:mo>
                    <mml:mtext>arm A</mml:mtext>
                    <mml:mo>∩</mml:mo>
                    <mml:mtext>LTS</mml:mtext>
                    <mml:mo>∩</mml:mo>
                    <mml:mtext>non-survivors</mml:mtext>
                    <mml:mo>)</mml:mo>
                    <mml:mspace width="1em"/>
                    <mml:mtext>and</mml:mtext>
                    <mml:mspace width="2em"/>
                  </mml:mtd>
                </mml:mtr>
              </mml:mtable>
            </mml:math>
            <graphic xlink:href="12859_2020_3478_Article_Equ8.gif" position="anchor"/>
          </alternatives>
        </disp-formula>
      </p>
      <p>
        <disp-formula id="Equ9">
          <label>9</label>
          <alternatives>
            <tex-math id="M25">\documentclass[12pt]{minimal}
				\usepackage{amsmath}
				\usepackage{wasysym} 
				\usepackage{amsfonts} 
				\usepackage{amssymb} 
				\usepackage{amsbsy}
				\usepackage{mathrsfs}
				\usepackage{upgreek}
				\setlength{\oddsidemargin}{-69pt}
				\begin{document} $$\begin{array}{*{20}l} p_{4} &amp; = p(\text{biomarker} \vert \textrm{arm B}) = p(\text{biomarker}) = p_{\text{prevalence}}. \end{array} $$ \end{document}</tex-math>
            <mml:math id="M26">
              <mml:mtable class="align" columnalign="left">
                <mml:mtr>
                  <mml:mtd class="align-1">
                    <mml:msub>
                      <mml:mrow>
                        <mml:mi>p</mml:mi>
                      </mml:mrow>
                      <mml:mrow>
                        <mml:mn>4</mml:mn>
                      </mml:mrow>
                    </mml:msub>
                  </mml:mtd>
                  <mml:mtd class="align-2">
                    <mml:mo>=</mml:mo>
                    <mml:mi>p</mml:mi>
                    <mml:mo>(</mml:mo>
                    <mml:mtext>biomarker</mml:mtext>
                    <mml:mo>|</mml:mo>
                    <mml:mtext>arm B</mml:mtext>
                    <mml:mo>)</mml:mo>
                    <mml:mo>=</mml:mo>
                    <mml:mi>p</mml:mi>
                    <mml:mo>(</mml:mo>
                    <mml:mtext>biomarker</mml:mtext>
                    <mml:mo>)</mml:mo>
                    <mml:mo>=</mml:mo>
                    <mml:msub>
                      <mml:mrow>
                        <mml:mi>p</mml:mi>
                      </mml:mrow>
                      <mml:mrow>
                        <mml:mtext>prevalence</mml:mtext>
                      </mml:mrow>
                    </mml:msub>
                    <mml:mi>.</mml:mi>
                    <mml:mspace width="2em"/>
                  </mml:mtd>
                </mml:mtr>
              </mml:mtable>
            </mml:math>
            <graphic xlink:href="12859_2020_3478_Article_Equ9.gif" position="anchor"/>
          </alternatives>
        </disp-formula>
      </p>
      <p>The probability <italic>p</italic><sub>4</sub> is equal to the overall prevalence of the biomarker. During the development process, it seemed to be reasonable that practitioners have an intuition about it. The missing probability <italic>p</italic><sub>3</sub>=<italic>p</italic>(biomarker|arm A∩STS) can be computed based on the other probabilities in order to meet the requirement that the biomarker is overall equally distributed in study arm A and B. Overall equally distributed in this sense means that the number of values for “true” is the same in arm A and arm B.</p>
      <p>The numerical biomarker is specified as a composition of two normally distributed variables. The next equations define the identifiers of the distribution parameters:
<disp-formula id="Equ10"><label>10</label><alternatives><tex-math id="M27">\documentclass[12pt]{minimal}
				\usepackage{amsmath}
				\usepackage{wasysym} 
				\usepackage{amsfonts} 
				\usepackage{amssymb} 
				\usepackage{amsbsy}
				\usepackage{mathrsfs}
				\usepackage{upgreek}
				\setlength{\oddsidemargin}{-69pt}
				\begin{document} $$\begin{array}{*{20}l} \mathrm{B}_{\textrm{biomarker, num}} &amp; \sim &amp; \mathcal{N}\left(\mu_{\text{biomarker}}, \sigma_{\text{biomarker}}^{2} \right) \text{and} \end{array} $$ \end{document}</tex-math><mml:math id="M28"><mml:mtable class="align" columnalign="left"><mml:mtr><mml:mtd class="align-1"><mml:msub><mml:mrow><mml:mi mathvariant="normal">B</mml:mi></mml:mrow><mml:mrow><mml:mtext>biomarker, num</mml:mtext></mml:mrow></mml:msub></mml:mtd><mml:mtd class="align-2"><mml:mo>∼</mml:mo><mml:mspace width="2em"/></mml:mtd><mml:mtd><mml:mi mathvariant="script">N</mml:mi><mml:mfenced close=")" open="(" separators=""><mml:mrow><mml:msub><mml:mrow><mml:mi>μ</mml:mi></mml:mrow><mml:mrow><mml:mtext>biomarker</mml:mtext></mml:mrow></mml:msub><mml:mo>,</mml:mo><mml:msubsup><mml:mrow><mml:mi>σ</mml:mi></mml:mrow><mml:mrow><mml:mtext>biomarker</mml:mtext></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msubsup></mml:mrow></mml:mfenced><mml:mtext>and</mml:mtext></mml:mtd><mml:mtd><mml:mspace width="2em"/></mml:mtd></mml:mtr></mml:mtable></mml:math><graphic xlink:href="12859_2020_3478_Article_Equ10.gif" position="anchor"/></alternatives></disp-formula></p>
      <p>
        <disp-formula id="Equ11">
          <label>11</label>
          <alternatives>
            <tex-math id="M29">\documentclass[12pt]{minimal}
				\usepackage{amsmath}
				\usepackage{wasysym} 
				\usepackage{amsfonts} 
				\usepackage{amssymb} 
				\usepackage{amsbsy}
				\usepackage{mathrsfs}
				\usepackage{upgreek}
				\setlength{\oddsidemargin}{-69pt}
				\begin{document} $$\begin{array}{*{20}l} \mathrm{B}_{\textrm{non-biomarker num}} &amp; \sim &amp; \mathcal{N}\left(\mu_{\textrm{non-biomarker}}, \sigma_{\textrm{non-biomarker}}^{2} \right), \end{array} $$ \end{document}</tex-math>
            <mml:math id="M30">
              <mml:mtable class="align" columnalign="left">
                <mml:mtr>
                  <mml:mtd class="align-1">
                    <mml:msub>
                      <mml:mrow>
                        <mml:mi mathvariant="normal">B</mml:mi>
                      </mml:mrow>
                      <mml:mrow>
                        <mml:mtext>non-biomarker num</mml:mtext>
                      </mml:mrow>
                    </mml:msub>
                  </mml:mtd>
                  <mml:mtd class="align-2">
                    <mml:mo>∼</mml:mo>
                    <mml:mspace width="2em"/>
                  </mml:mtd>
                  <mml:mtd>
                    <mml:mi mathvariant="script">N</mml:mi>
                    <mml:mfenced close=")" open="(" separators="">
                      <mml:mrow>
                        <mml:msub>
                          <mml:mrow>
                            <mml:mi>μ</mml:mi>
                          </mml:mrow>
                          <mml:mrow>
                            <mml:mtext>non-biomarker</mml:mtext>
                          </mml:mrow>
                        </mml:msub>
                        <mml:mo>,</mml:mo>
                        <mml:msubsup>
                          <mml:mrow>
                            <mml:mi>σ</mml:mi>
                          </mml:mrow>
                          <mml:mrow>
                            <mml:mtext>non-biomarker</mml:mtext>
                          </mml:mrow>
                          <mml:mrow>
                            <mml:mn>2</mml:mn>
                          </mml:mrow>
                        </mml:msubsup>
                      </mml:mrow>
                    </mml:mfenced>
                    <mml:mo>,</mml:mo>
                  </mml:mtd>
                  <mml:mtd>
                    <mml:mspace width="2em"/>
                  </mml:mtd>
                </mml:mtr>
              </mml:mtable>
            </mml:math>
            <graphic xlink:href="12859_2020_3478_Article_Equ11.gif" position="anchor"/>
          </alternatives>
        </disp-formula>
      </p>
      <p>whereat the term “biomarker” is used for indicating that the biomarker might be present and “non-biomarker” that the biomarker is not necessarily present, because it is very likely that both distributions do overlap. The grade of overlapping can be interpreted as one measure of the configurable intensity of this biomarker.</p>
      <p>Since the numerical biomarker should also have the same frequency in both arms, we applied a two-step procedure for assigning the two normally distributed variables. First, we used to same strategy as for the nominal biomarker for indicating the same number of subjects in arm A and arm B as “true” for having the biomarker. Furthermore, the intensity of the biomarker can be adjusted with similar, but independent adjustment parameters as for the nominal attribute. After that, values of B<sub>biomarker, num</sub> are assigned to those subjects marked as “true” and B<sub>non-biomarker num</sub> to those marked as “false”.</p>
    </sec>
    <sec id="Sec13">
      <title>Long-term survivors vs. short-term survivors</title>
      <p>In both groups there are subjects, who have survived and others who have not survived. A simple histogram of survival time is only able to represent the observation period of the subjects. There is no indication about the subjects’ survival status. In other words, the histogram does not reflect whether the subjects
<list list-type="bullet"><list-item><p>have refused to participate in the study or</p></list-item><list-item><p>have been rejected from study observation (e. g. because of non-adherence) with status “alive” or</p></list-item><list-item><p>died during the observation period.</p></list-item></list></p>
      <p>Survival plots are diagrams, which are able to visualize outcomes for survival time and survival status. One example for such a survival plot is the Kaplan-Meier survival curve. Figure <xref rid="Fig4" ref-type="fig">4</xref> illustrates such a survival plot. Using the results of the section <italic>setting up survival time distribution parameters</italic>, the diagram shows an example configuration of a resulting LTS and STS curve. Both curves are touching specified points. If there is no need for distinguishing between the groups LTS and STS, the size of one of the groups can be set to 0.
<fig id="Fig4"><label>Fig. 4</label><caption><p>LTS vs. STS. Each survival curve touches a specified point: The black curve (in color reproduction: red) of STS touches (<italic>t</italic>, <italic>S</italic>(<italic>t</italic>)) = (12 months, 20 %) and the light gray curve (in color reproduction: yellow) of LTS touches (<italic>t</italic>, <italic>S</italic>(<italic>t</italic>)) = (36 months, 50 %)</p></caption><graphic xlink:href="12859_2020_3478_Fig4_HTML" id="MO4"/></fig></p>
    </sec>
    <sec id="Sec14">
      <title>Nominalization of attributes</title>
      <p>In order to visualize numeric attributes (random as well as non-random attributes) in a survival plot, these attributes have to be nominalized. Therefore, a nominalization process will be applied that uses a cutoff value <italic>c</italic> for dichotomizing attribute <italic>A</italic> into two survival functions: <italic>S</italic>(<italic>t</italic>|<italic>A</italic>≤<italic>c</italic>) and <italic>S</italic>(<italic>t</italic>|<italic>A</italic>&gt;<italic>c</italic>). The cutoff value <italic>c</italic> will be computed in order to maximize the area between the emerging survival functions in a survival plot to get the best discriminating value. The time complexity for the nominalization process is in <inline-formula id="IEq5"><alternatives><tex-math id="M31">\documentclass[12pt]{minimal}
				\usepackage{amsmath}
				\usepackage{wasysym} 
				\usepackage{amsfonts} 
				\usepackage{amssymb} 
				\usepackage{amsbsy}
				\usepackage{mathrsfs}
				\usepackage{upgreek}
				\setlength{\oddsidemargin}{-69pt}
				\begin{document}$\mathcal {O} \left (N^{2} \right)$\end{document}</tex-math><mml:math id="M32"><mml:mi mathvariant="script">O</mml:mi><mml:mfenced close=")" open="(" separators=""><mml:mrow><mml:msup><mml:mrow><mml:mi>N</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup></mml:mrow></mml:mfenced></mml:math><inline-graphic xlink:href="12859_2020_3478_Article_IEq5.gif"/></alternatives></inline-formula>, whereas <italic>N</italic> denotes the number of subjects.</p>
      <p>We evaluated the nominalization process using the following hardware and software equipment: Intel CPU i5-4570@3.20 GHz with 16 GByte RAM, Java SE Runtime Environment (build 1.8.0_131-b11) on a Microsoft Windows 7 Professional 64-bit version 6.1.7601 Service Pack 1 Build 7601. Table <xref rid="Tab1" ref-type="table">1</xref> shows the computing times for nominalizing a single numeric attribute for different cohort sizes.
<table-wrap id="Tab1"><label>Table 1</label><caption><p>Computing times for nominalization</p></caption><table frame="hsides" rules="groups"><thead><tr><th align="left">Number of subjects <italic>N</italic></th><th align="left">Computing time for nominalization in <italic>s</italic></th></tr></thead><tbody><tr><td align="left">100</td><td align="left">0.025</td></tr><tr><td align="left">500</td><td align="left">0.392</td></tr><tr><td align="left">1000</td><td align="left">1.353</td></tr><tr><td align="left">5000</td><td align="left">31.90</td></tr><tr><td align="left">10000</td><td align="left">142.6</td></tr></tbody></table><table-wrap-foot><p>The computing times for nominalization (in seconds) are given per attribute to nominalize</p></table-wrap-foot></table-wrap></p>
    </sec>
    <sec id="Sec15">
      <title>Generation of single events</title>
      <p>For our use case, it was adequate that the endpoint of interest is a single event such as overall survival or progression-free survival. Thus, in the current state of the system, we only consider single event outcomes.</p>
    </sec>
  </sec>
  <sec id="Sec16" sec-type="conclusion">
    <title>Conclusion</title>
    <p>In this paper we introduced the software <italic>vivaGen</italic> for flexibly and comprehensively generating simulated survival data sets of a typical randomized controlled trial with follow-up data. <italic>vivaGen</italic> is designed to feature defined differences between the randomized groups. The data sets include random and non-random attributes and can be used for testing software for predicting or modelling survival outcomes. The non-random attributes are of configurable intensity regarding survival outcomes. The GUI of <italic>vivaGen</italic> allows for a targeted specification of survival parameters and attributes, which can be visualized and controlled using survival plots. The generated survival data can have a bimodal distribution of survival time in order to simulate long-term and short-term survivors.</p>
    <sec id="Sec17">
      <title>Lessons learned</title>
      <p>The main question during the implementation process of <italic>vivaGen</italic> was how to achieve the equal distribution in arm A and arm B of the biomarkers. We tried many different approaches until we got the final solution presented in this paper. First implementations showed a low intensity, especially of the nominal biomarker of the arm that is inferior compared to the other.</p>
      <p>The requirement of modelling one arm as being superior compared to the other was another challenge. We handled the problem with a simple solution and corrected the survival rate of each subgroup (see Fig. <xref rid="Fig2" ref-type="fig">2</xref>). The solution was to add half of the correction factor to the survival rate of arm B and subtract the other half from the survival rate of arm A. Thereby, one has to consider the sizes of the single subgroups.</p>
      <p>In recent studies, also concurrent endpoints are observed [<xref ref-type="bibr" rid="CR13">13</xref>]. These endpoints can be, for example, progression of disease or death. In the current state of development of <italic>vivaGen</italic>, a combination of such endpoints has not been implemented yet. But the authors consider the generation of multiple events, which can be interpreted as either different concurrent events or recurrent events of the same type.</p>
      <p>We used data sets generated by <italic>vivaGen</italic> to test a research decision support system (DSS) developed by our group. Aim of the DSS is to give a recommendation for a certain therapy for a new patient given a case base of patients and known survival outcomes. The defined relations of attributes and survival outcome in the generated data sets were successfully used to train and test the DSS on system level.</p>
    </sec>
    <sec id="Sec18">
      <title>Future plans</title>
      <p>First, the survival data set generator currently generates independently distributed random attributes. One of the next steps is to generate these attributes with configurable correlations between them. This could be achieved by implementing an attribute representing a certain “degree of dependence” between other attributes and the outcome attributes (survival time and survival status). Bender et al. describe techniques and models to generate simulation data regarding outcomes of the Cox proportional hazards model [<xref ref-type="bibr" rid="CR14">14</xref>].</p>
      <p>Second, currently <italic>vivaGen</italic> only supports the generation of binomial and normal distributions for the biomarkers. Other distributions could be added to gain more flexibility for the data generator.</p>
      <p>Third, the parametrization of the generated biomarkers could be made more user-friendly. The idea is to provide one value of intensity for each biomarker, for example in the interval [0,1] such that 1 stands for a maximum possible intensity and 0 for no intensity.</p>
      <p>Fourth, the GUI could be extended to configure all attributes in a more user-friendly environment. This also includes the visualization of histograms for configuring the random and non-random attributes.</p>
      <p>Fifth, multiple events could be supported by the generator, such as recurrent events to support the test of systems demanding for such complex outcome data.</p>
      <p>These future plans are intended for intensifying the tests of our DSS and should also encourage a broader spectrum of researchers as well as software developers to generate survival simulation data using <italic>vivaGen</italic> for testing their software.</p>
    </sec>
  </sec>
  <sec id="Sec19">
    <title>Availability and requirements</title>
    <p><bold>Project name</bold>: <italic>vivaGen</italic></p>
    <p><bold>Project home page</bold>: <ext-link ext-link-type="uri" xlink:href="https://sourceforge.net/projects/vivagen/">https://sourceforge.net/projects/vivagen/</ext-link></p>
    <p><bold>Operating system(s)</bold>: Platform independent</p>
    <p><bold>Programming language</bold>: Java</p>
    <p><bold>Other requirements</bold>: Java SE Runtime Environment 8 or higher, WEKA package [<xref ref-type="bibr" rid="CR15">15</xref>], and a JSON package [<xref ref-type="bibr" rid="CR12">12</xref>] with a suitable and compatible license, such as the JSON Software Bundle provided by Oracle [<xref ref-type="bibr" rid="CR16">16</xref>].</p>
    <p><bold>License</bold>: GPL v2 [<xref ref-type="bibr" rid="CR17">17</xref>]</p>
    <p><bold>Any restrictions to use by non-academics</bold>: no</p>
  </sec>
</body>
<back>
  <glossary>
    <title>Abbreviations</title>
    <def-list>
      <def-item>
        <term>DSS</term>
        <def>
          <p>Decision support system</p>
        </def>
      </def-item>
      <def-item>
        <term>GUI</term>
        <def>
          <p>Graphical user interface</p>
        </def>
      </def-item>
      <def-item>
        <term>JSON</term>
        <def>
          <p>JavaScript object notation</p>
        </def>
      </def-item>
      <def-item>
        <term>LTS</term>
        <def>
          <p>Long-term survivor</p>
        </def>
      </def-item>
      <def-item>
        <term>STS</term>
        <def>
          <p>Short-term survivor</p>
        </def>
      </def-item>
    </def-list>
  </glossary>
  <fn-group>
    <fn>
      <p>
        <bold>Publisher’s Note</bold>
      </p>
      <p>Springer Nature remains neutral with regard to jurisdictional claims in published maps and institutional affiliations.</p>
    </fn>
  </fn-group>
  <ack>
    <p>Not applicable.</p>
  </ack>
  <notes notes-type="author-contribution">
    <title>Authors’ contributions</title>
    <p>MG2 – development of software and requirement analysis, wrote main parts of the manuscript. CK – assisted in developing the software and requirement analysis, and critically revised the manuscript. PK – supervised IT development part of the project and critically revised the manuscript. MG1 – lead IT development part of the project, supervised developing the software and requirement analysis, and critically revised the manuscript. All authors have read and approved the manuscript.</p>
  </notes>
  <notes notes-type="funding-information">
    <title>Funding</title>
    <p>This research was done within the systems medicine project “Clinically Applicable, Omics-based Assessment of Survival, Side Effects, and Targets in Multiple Myeloma” (CLIOMMICS). The project was funded by the German Federal Ministry of Education and Research (BMBF, grant id: 01ZX1609A) as part of the e:Med initiative. Publication fees were covered by the Post-Grant-Fund for projects funded by BMBF (grant id: 16PGF0182). The funding body did not play any role in the design and development of the <italic>vivaGen</italic> software or in writing the manuscript.</p>
  </notes>
  <notes notes-type="data-availability">
    <title>Availability of data and materials</title>
    <p>All data and software used and developed for this research are available at https://sourceforge.net/projects/vivagen/.</p>
  </notes>
  <notes>
    <title>Ethics approval and consent to participate</title>
    <p>Not applicable.</p>
  </notes>
  <notes>
    <title>Consent for publication</title>
    <p>Not applicable.</p>
  </notes>
  <notes notes-type="COI-statement">
    <title>Competing interests</title>
    <p>The authors declare that they have no competing interests.</p>
  </notes>
  <ref-list id="Bib1">
    <title>References</title>
    <ref id="CR1">
      <label>1</label>
      <element-citation publication-type="book">
        <person-group person-group-type="author">
          <name>
            <surname>Ammann</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Offutt</surname>
            <given-names>J</given-names>
          </name>
        </person-group>
        <source>Introduction to Software Testing, 2nd edn.</source>
        <year>2016</year>
        <publisher-loc>New York</publisher-loc>
        <publisher-name>Cambridge University Press</publisher-name>
      </element-citation>
    </ref>
    <ref id="CR2">
      <label>2</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>VanderWeele</surname>
            <given-names>TJ</given-names>
          </name>
          <name>
            <surname>Shpitser</surname>
            <given-names>I</given-names>
          </name>
        </person-group>
        <article-title>On the definition of a confounder</article-title>
        <source>Ann Stat</source>
        <year>2013</year>
        <volume>41</volume>
        <issue>1</issue>
        <fpage>196</fpage>
        <lpage>220</lpage>
        <pub-id pub-id-type="doi">10.1214/12-AOS1058</pub-id>
        <pub-id pub-id-type="pmid">25544784</pub-id>
      </element-citation>
    </ref>
    <ref id="CR3">
      <label>3</label>
      <element-citation publication-type="book">
        <person-group person-group-type="author">
          <name>
            <surname>MacKinnon</surname>
            <given-names>DP</given-names>
          </name>
        </person-group>
        <source>Introduction to Statistical Mediation Analysis</source>
        <year>2008</year>
        <publisher-loc>Mahwah</publisher-loc>
        <publisher-name>Erlbaum</publisher-name>
      </element-citation>
    </ref>
    <ref id="CR4">
      <label>4</label>
      <element-citation publication-type="book">
        <person-group person-group-type="author">
          <name>
            <surname>Singer</surname>
            <given-names>JD</given-names>
          </name>
        </person-group>
        <source>Applied Longitudinal Data Analysis: Modeling Change and Event Occurrence</source>
        <year>2003</year>
        <publisher-loc>New York</publisher-loc>
        <publisher-name>Oxford University Press</publisher-name>
      </element-citation>
    </ref>
    <ref id="CR5">
      <label>5</label>
      <mixed-citation publication-type="other"><italic>R</italic> Core Team. <italic>R</italic>: A Language and Environment for Statistical Computing. Vienna: <italic>R</italic> Foundation for Statistical Computing; 2017. <ext-link ext-link-type="uri" xlink:href="https://www.R-project.org/">https://www.R-project.org/</ext-link>.</mixed-citation>
    </ref>
    <ref id="CR6">
      <label>6</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Moriña</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Navarro</surname>
            <given-names>A</given-names>
          </name>
        </person-group>
        <article-title>The <italic>R</italic> package <italic>survsim</italic> for the simulation of simple and complex survival data</article-title>
        <source>J Stat Softw</source>
        <year>2014</year>
        <volume>59</volume>
        <issue>2</issue>
        <fpage>1</fpage>
        <lpage>20</lpage>
        <pub-id pub-id-type="doi">10.18637/jss.v059.i02</pub-id>
        <pub-id pub-id-type="pmid">26917999</pub-id>
      </element-citation>
    </ref>
    <ref id="CR7">
      <label>7</label>
      <mixed-citation publication-type="other">Araújo A, Meira-Machado L, Faria S. <italic>genSurv</italic>: Generating Multi-State Survival Data; 2015. <italic>R</italic> package version 1.0.3. <ext-link ext-link-type="uri" xlink:href="https://CRAN.R-project.org/package=genSurv">https://CRAN.R-project.org/package=genSurv</ext-link>.</mixed-citation>
    </ref>
    <ref id="CR8">
      <label>8</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Meira-Machado</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>de Uña-Álvarez</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Cadarso-Suárez</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Andersen</surname>
            <given-names>PK</given-names>
          </name>
        </person-group>
        <article-title>Multi-state models for the analysis of time to event data</article-title>
        <source>Stat Methods Med Res</source>
        <year>2009</year>
        <volume>18</volume>
        <fpage>195</fpage>
        <lpage>222</lpage>
        <pub-id pub-id-type="doi">10.1177/0962280208092301</pub-id>
        <pub-id pub-id-type="pmid">18562394</pub-id>
      </element-citation>
    </ref>
    <ref id="CR9">
      <label>9</label>
      <mixed-citation publication-type="other">Sharef E, Strawderman RL, Ruppert D. <italic>splinesurv</italic>: Nonparametric Bayesian Survival Analysis; 2010. <italic>R</italic> package version 0.6-14. <ext-link ext-link-type="uri" xlink:href="https://cran.r-project.org/src/contrib/Archive/splinesurv/">https://cran.r-project.org/src/contrib/Archive/splinesurv/</ext-link>.</mixed-citation>
    </ref>
    <ref id="CR10">
      <label>10</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Moertel</surname>
            <given-names>CG</given-names>
          </name>
          <name>
            <surname>Fleming</surname>
            <given-names>TR</given-names>
          </name>
          <name>
            <surname>MacDonald</surname>
            <given-names>JS</given-names>
          </name>
          <name>
            <surname>Haller</surname>
            <given-names>DG</given-names>
          </name>
          <name>
            <surname>Laurie</surname>
            <given-names>JA</given-names>
          </name>
          <name>
            <surname>Goodman</surname>
            <given-names>PJ</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Levamisole and fluorouracil for adjuvant therapy of resected colon carcinoma</article-title>
        <source>N Engl J Med</source>
        <year>1990</year>
        <volume>322</volume>
        <issue>6</issue>
        <fpage>352</fpage>
        <lpage>8</lpage>
        <pub-id pub-id-type="doi">10.1056/NEJM199002083220602</pub-id>
        <pub-id pub-id-type="pmid">2300087</pub-id>
      </element-citation>
    </ref>
    <ref id="CR11">
      <label>11</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Karakoca</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Erisoglu</surname>
            <given-names>U</given-names>
          </name>
          <name>
            <surname>Erisoglu</surname>
            <given-names>M</given-names>
          </name>
        </person-group>
        <article-title>A comparison of the parameter estimation methods for bimodal mixture weibull distribution with complete data</article-title>
        <source>J Appl Stat</source>
        <year>2015</year>
        <volume>42</volume>
        <fpage>1472</fpage>
        <lpage>89</lpage>
        <pub-id pub-id-type="doi">10.1080/02664763.2014.1000275</pub-id>
      </element-citation>
    </ref>
    <ref id="CR12">
      <label>12</label>
      <mixed-citation publication-type="other">The JavaScript Object Notation (JSON) Data Interchange Format. 2017. <ext-link ext-link-type="uri" xlink:href="https://www.rfc-editor.org/rfc/rfc8259">https://www.rfc-editor.org/rfc/rfc8259</ext-link>.</mixed-citation>
    </ref>
    <ref id="CR13">
      <label>13</label>
      <element-citation publication-type="book">
        <person-group person-group-type="author">
          <name>
            <surname>Emura</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Matsui</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Rondeau</surname>
            <given-names>V</given-names>
          </name>
        </person-group>
        <source>Survival Analysis with Correlated Endpoints: Joint Frailty-Copula Models</source>
        <year>2019</year>
        <publisher-loc>Singapore</publisher-loc>
        <publisher-name>Springer</publisher-name>
      </element-citation>
    </ref>
    <ref id="CR14">
      <label>14</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Bender</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Augustin</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Blettner</surname>
            <given-names>M</given-names>
          </name>
        </person-group>
        <article-title>Generating survival times to simulate cox proportional hazards models</article-title>
        <source>Stat Med</source>
        <year>2005</year>
        <volume>24</volume>
        <issue>11</issue>
        <fpage>1713</fpage>
        <lpage>23</lpage>
        <pub-id pub-id-type="doi">10.1002/sim.2059</pub-id>
        <pub-id pub-id-type="pmid">15724232</pub-id>
      </element-citation>
    </ref>
    <ref id="CR15">
      <label>15</label>
      <element-citation publication-type="book">
        <person-group person-group-type="author">
          <name>
            <surname>Witten</surname>
            <given-names>IH</given-names>
          </name>
          <name>
            <surname>Frank</surname>
            <given-names>E</given-names>
          </name>
          <name>
            <surname>Hall</surname>
            <given-names>MA</given-names>
          </name>
          <name>
            <surname>Pal</surname>
            <given-names>CJ</given-names>
          </name>
        </person-group>
        <source>Data Mining: Practical Machine Learning Tools and Technique, 4th edn.</source>
        <year>2016</year>
        <publisher-loc>San Francisco</publisher-loc>
        <publisher-name>Morgan Kaufmann</publisher-name>
      </element-citation>
    </ref>
    <ref id="CR16">
      <label>16</label>
      <mixed-citation publication-type="other">Oracle Corp.<italic>JSON</italic> Software Bundle, Version 1.0.4; 2013. <ext-link ext-link-type="uri" xlink:href="https://repo1.maven.org/maven2/org/glassfish/javax.json/1.0.4/javax.json-1.0.4.jar">https://repo1.maven.org/maven2/org/glassfish/javax.json/1.0.4/javax.json-1.0.4.jar</ext-link>.</mixed-citation>
    </ref>
    <ref id="CR17">
      <label>17</label>
      <mixed-citation publication-type="other">Free Software Foundation, General Public License GNU Version 2; 1991. <ext-link ext-link-type="uri" xlink:href="https://www.gnu.org/licenses/old-licenses/gpl-2.0">https://www.gnu.org/licenses/old-licenses/gpl-2.0</ext-link>.</mixed-citation>
    </ref>
    <ref id="CR18">
      <label>18</label>
      <mixed-citation publication-type="other">Therneau TM, Lumley T. <italic>survival</italic>: Survival Analysis; 2017. <italic>R</italic> package version 2.41-3. <ext-link ext-link-type="uri" xlink:href="http://CRAN.R-project.org/package=survival">http://CRAN.R-project.org/package=survival</ext-link>.</mixed-citation>
    </ref>
  </ref-list>
</back>
