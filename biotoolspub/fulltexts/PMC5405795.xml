<?properties open_access?>
<?subarticle report18134?>
<?DTDIdentifier.IdentifierValue -//NLM//DTD Journal Publishing DTD v3.0 20080202//EN?>
<?DTDIdentifier.IdentifierType public?>
<?SourceDTD.DTDName journalpublishing3.dtd?>
<?SourceDTD.Version 3.0?>
<?ConverterInfo.XSLTName jp2nlmx2.xsl?>
<?ConverterInfo.Version 1?>
<front>
  <journal-meta>
    <journal-id journal-id-type="nlm-ta">F1000Res</journal-id>
    <journal-id journal-id-type="iso-abbrev">F1000Res</journal-id>
    <journal-id journal-id-type="pmc">F1000Research</journal-id>
    <journal-title-group>
      <journal-title>F1000Research</journal-title>
    </journal-title-group>
    <issn pub-type="epub">2046-1402</issn>
    <publisher>
      <publisher-name>F1000Research</publisher-name>
      <publisher-loc>London, UK</publisher-loc>
    </publisher>
  </journal-meta>
  <article-meta>
    <article-id pub-id-type="pmcid">5405795</article-id>
    <article-id pub-id-type="doi">10.12688/f1000research.6139.3</article-id>
    <article-categories>
      <subj-group subj-group-type="heading">
        <subject>Software Tool Article</subject>
      </subj-group>
      <subj-group>
        <subject>Articles</subject>
        <subj-group>
          <subject>Bioinformatics</subject>
        </subj-group>
        <subj-group>
          <subject>Genomics</subject>
        </subj-group>
      </subj-group>
    </article-categories>
    <title-group>
      <article-title>MetaGenSense: A web-application for analysis and exploration of high throughput sequencing metagenomic data</article-title>
      <fn-group content-type="pub-status">
        <fn>
          <p>[version 3; referees: 1 approved</p>
        </fn>
      </fn-group>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author" equal-contrib="yes">
        <name>
          <surname>Correia</surname>
          <given-names>Damien</given-names>
        </name>
        <xref ref-type="aff" rid="a1">1</xref>
      </contrib>
      <contrib contrib-type="author" equal-contrib="yes">
        <name>
          <surname>Doppelt-Azeroual</surname>
          <given-names>Olivia</given-names>
        </name>
        <xref ref-type="corresp" rid="c1">a</xref>
        <xref ref-type="aff" rid="a2">2</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Denis</surname>
          <given-names>Jean-Baptiste</given-names>
        </name>
        <xref ref-type="aff" rid="a3">3</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Vandenbogaert</surname>
          <given-names>Mathias</given-names>
        </name>
        <xref ref-type="aff" rid="a1">1</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Caro</surname>
          <given-names>Valérie</given-names>
        </name>
        <xref ref-type="aff" rid="a1">1</xref>
      </contrib>
      <aff id="a1"><label>1</label>Pôle Génotypage des Pathogènes, Unité Environnement et Risques Infectieux, Institut Pasteur, F-75724, Paris, France</aff>
      <aff id="a2"><label>2</label>Centre de Bioinformatique, Biostatistique et Biologie Intégrative (C3BI, USR 3756 Institut Pasteur et CNRS), Institut Pasteur, F-75724, Paris, France</aff>
      <aff id="a3"><label>3</label>Groupe Exploitation et Infrastructure, Institut Pasteur, F-75724, Paris, France</aff>
    </contrib-group>
    <author-notes>
      <corresp id="c1">
        <label>a</label>
        <email xlink:href="mailto:olivia.doppelt@pasteur.fr">olivia.doppelt@pasteur.fr</email>
      </corresp>
      <fn id="fn1">
        <p>§ authors contributed equally to this publication.</p>
      </fn>
      <fn fn-type="COI-statement">
        <p><bold>Competing interests: </bold>No competing interests were disclosed.</p>
      </fn>
    </author-notes>
    <pub-date pub-type="epub">
      <day>1</day>
      <month>12</month>
      <year>2016</year>
    </pub-date>
    <pub-date pub-type="collection">
      <year>2015</year>
    </pub-date>
    <volume>4</volume>
    <elocation-id>86</elocation-id>
    <history>
      <date date-type="accepted">
        <day>25</day>
        <month>11</month>
        <year>2016</year>
      </date>
    </history>
    <permissions>
      <copyright-statement>Copyright: © 2016 Correia D et al.</copyright-statement>
      <copyright-year>2016</copyright-year>
      <license xlink:href="http://creativecommons.org/licenses/by/4.0/">
        <license-p>This is an open access article distributed under the terms of the Creative Commons Attribution Licence, which permits unrestricted use, distribution, and reproduction in any medium, provided the original work is properly cited.</license-p>
      </license>
    </permissions>
    <self-uri content-type="pdf" xlink:type="simple" xlink:href="f1000research-4-11103.pdf"/>
    <abstract>
      <p>The detection and characterization of emerging infectious agents has been a continuing public health concern. High Throughput Sequencing (HTS) or Next-Generation Sequencing (NGS) technologies have proven to be promising approaches for efficient and unbiased detection of pathogens in complex biological samples, providing access to comprehensive analyses. As NGS approaches typically yield millions of putatively representative reads per sample, efficient data management and visualization resources have become mandatory. Most usually, those resources are implemented through a dedicated Laboratory Information Management System (LIMS), solely to provide perspective regarding the available information.</p>
      <p> We developed an easily deployable web-interface, facilitating management and bioinformatics analysis of metagenomics data-samples. It was engineered to run associated and dedicated Galaxy workflows for the detection and eventually classification of pathogens.</p>
      <p> The web application allows easy interaction with existing Galaxy metagenomic workflows, facilitates the organization, exploration and aggregation of the most relevant sample-specific sequences among millions of genomic sequences, allowing them to determine their relative abundance, and associate them to the most closely related organism or pathogen.</p>
      <p> The user-friendly Django-Based interface, associates the users’ input data and its metadata through a bio-IT provided set of resources (a Galaxy instance, and both sufficient storage and grid computing power). Galaxy is used to handle and analyze the user’s input data from loading, indexing, mapping, assembly and DB-searches. Interaction between our application and Galaxy is ensured by the BioBlend library, which gives API-based access to Galaxy’s main features. Metadata about samples, runs, as well as the workflow results are stored in the LIMS. For metagenomic classification and exploration purposes, we show, as a proof of concept, that integration of intuitive exploratory tools, like Krona for representation of taxonomic classification, can be achieved very easily. In the trend of Galaxy, the interface enables the sharing of scientific results to fellow team members.</p>
    </abstract>
    <kwd-group kwd-group-type="author">
      <kwd>High Throughput Sequencing</kwd>
      <kwd>Next-Generation Sequencing</kwd>
      <kwd>Laboratory Information Management System</kwd>
      <kwd>Galaxy</kwd>
      <kwd>Django</kwd>
    </kwd-group>
    <funding-group>
      <award-group id="fund-1">
        <funding-source>Commissariat à l’Energie Atomique et aux Energies Alternatives</funding-source>
      </award-group>
      <funding-statement>Damien Correia and Olivia Doppelt-Azeroual were financed by the “Commissariat à l’Energie Atomique et aux Energies Alternatives” in the scope of a national anti-terrorism fight NRBC project (from october 2011 to April 2014).</funding-statement>
      <funding-statement>
        <italic>I confirm that the funders had no role in study design, data collection and analysis, decision to publish, or preparation of the manuscript.</italic>
      </funding-statement>
    </funding-group>
  </article-meta>
  <notes notes-type="version-changes">
    <sec sec-type="version-changes">
      <label>Revised</label>
      <title>Amendments from Version 2</title>
      <p>The difference between version 2 and version 3 of this article is figure 2. It was slightly modified and built in a better resolution.</p>
    </sec>
  </notes>
</front>
<body>
  <sec sec-type="intro">
    <title>Introduction</title>
    <sec>
      <title>Background HTS &amp; metagenomics</title>
      <p>The detection and characterization of emerging infectious agents has been a continuing public health concern. High Throughput Sequencing (HTS; or Next-Generation Sequencing, NGS) technologies have proven to be efficient at providing access to comprehensive analyses and unbiased detection of pathogens in complex biological samples.</p>
      <p> Most large-scale genomic (re)sequencing projects involve both sequencing technology, computational analyses, and genotyping expertise. Current NGS platforms including Illumina, Ion Torrent/Life Technologies, Pacific Bioscience and Nanopore can generate reads of 100–10,000 bases long allowing better coverage of the genome at lower cost. However, these platforms also generate huge amounts of raw data.</p>
      <p>Besides those sequence files, it has become important to also consider and store associated sample related metadata (collection date, location, …). In addition, NGS projects usually represent such a huge amount of relevant sample-specific sequences that efficient data management and visualization resources have become mandatory. Those challenges accompanying HTS technologies have raised the following fundamental questions: (1) How do we best manage the enormous amount of sequencing data? (2) What are the most appropriate choices among the available computational methods and analysis tools? The issue concerning the growing amount of data can be managed through a dedicated
<italic>Laboratory Information Management System</italic> (LIMS), solely to organize and plan their analysis, and to provide perspective. The question regarding the lack of adapted intertwining among the wide spectrum of available tools was in part filled by workflow management systems, even though it still requires fairly advanced knowledge of the tools available at hand.</p>
      <p>Indeed, today, hundreds of bioinformatics tools are available, each demanding specific parameterization
<sup><xref rid="ref-1" ref-type="bibr">1</xref></sup>. NGS data analysts have been designing workflows in order to automate complex processing pipelines, both possibly using existing codes, avoiding rewriting software, and supporting parallel, distributed computations. These features make the workflows relatively simple to construct, make them easily reusable, hence aid reproducibility. Modern workflow managers, such as Galaxy
<sup><xref rid="ref-2" ref-type="bibr">2</xref>–
<xref rid="ref-4" ref-type="bibr">4</xref></sup>, offer the possibility of sharing them with others. As such, Galaxy as a data analysis and workflow management system, provides biologists with a hands-on toolbox to build multi-step computational workflows for data-processing, quality control, and analytic results aggregation, while additionally ensuring analysis reproducibility. As a prerequisite to a system for composing pipelines for large-scale analyses, there is a need for an adapted and up-to-scale computational infrastructure capable of doing the processing and data storage.</p>
      <p>We therefore developed MetaGenSense, a bioinformatics web-application framework whose principle purpose is to ease the scientists’ work in management of NGS-project related data and analysis results. MetaGenSense is built on three fundamental components, two of which are specific to the project: a dedicated LIMS and a Django-based web user-interface. The third component is Galaxy, which is the main bioinformatics workflow management system. In the following paragraphs, we describe the interface’s implementation and display how communication between the different parts takes place, in a smooth and user-friendly, managing web-user interface.</p>
    </sec>
  </sec>
  <sec>
    <title>Software tool - implementation</title>
    <sec>
      <title>MetaGenSense global description</title>
      <p>MetaGenSense is a managing and analytical bioinformatics framework that is engineered to run dedicated Galaxy workflows for the detection and eventually classification of pathogens. It aims to facilitate large-scale genomic analysis for experts in sequencing among project partners. The web application was built and can be deployed in order to facilitate access to high throughput sequencing analysis tools, acting as an information resource for the project and interacting research partners. With its user-friendly interface, it was designed to take advantage of bio-IT provider resources (a local Galaxy instance, sufficient storage and grid computing power), for analysis of input data and its metadata. Also in MetaGenSense, a dedicated LIMS (postgreSQL-based) was implemented to ensure data coherence. The web interface design is based on the Django web framework (
<ext-link ext-link-type="uri" xlink:href="http://www.djangoproject.com">http://www.djangoproject.com</ext-link>). Moreover, the communication with Galaxy is covered by the Bioblend library
<sup><xref rid="ref-5" ref-type="bibr">5</xref></sup> which provides a high-level interface for interacting with the Galaxy application, promoting faster interaction, and facilitating reuse and sharing of scripts.</p>
      <p>The use of the available Galaxy tools and workflows is automated and seamless with MetaGenSense. Galaxy, as a pipeline management software, lets you define workflows and “pushes” the data through that pipeline. The pipeline manager ensures that all the tools in the pipeline run successfully, generally spreading the workload over a computational cluster. For example, MetaGenSense is used at the Pasteur Institute to do the bulk of the data processing for a large number of HTS projects, and can be adapted to launch any set of instructions stitched together in a dedicated workflow available in the Galaxy workflow designer interface.</p>
    </sec>
    <sec>
      <title>A dedicated LIMS</title>
      <p>A LIMS can be described as a software-based laboratory that offers a set of key features that support modern laboratory operations. Those systems have become mandatory to manage the quantity of metadata related to both raw data and their analysis results, obtained through bioinformatic tools. In MetaGenSense, the LIMS is based on a postgresql database. It was designed and structured with expert knowledge from biologists and bioinformaticians. Its main feature is that it was designed to store note-worthy and shareable information resulting from analysis, as well as the applied workflow-related parametrization. The database’s schema is available in the
<xref ref-type="other" rid="SF1">Supplementary Figure 1</xref>.</p>
    </sec>
    <sec>
      <title>An intuitive Django-based web user interface</title>
      <p>Django is a high-level Python Web-framework. It provides rapid development, as well as clean pragmatic design, and serves as data management and displaying backbone for a large number of websites where interaction is important. Moreover, the python language (
<ext-link ext-link-type="uri" xlink:href="https://www.python.org/">https://www.python.org/</ext-link>) has become a reference programming language for a huge number of scientific applications.</p>
      <p>MetaGenSense’s UI is divided in 4 modules: 1) User authentication management, 2) LIMS, 3) Workflow, 4) Analysis. Each has a specific function, and the task-partitioning has been designed to allow independent evolution of each part according to the user’s needs.</p>
      <list list-type="simple">
        <list-item>
          <label>1. </label>
          <p><bold>User authentication management</bold>: can be done either by communication with an LDAP user authentication database, or through a user management database.</p>
        </list-item>
        <list-item>
          <label>2. </label>
          <p><bold>LIMS</bold>: ensures the organization of the data according to the project at hand. The LIMS can be provided with sample metadata, which can be shared with selected project-members, and ensures sample traceability, which is an important component of any present-day core resource laboratory management system.</p>
        </list-item>
        <list-item>
          <label>3. </label>
          <p><bold>Workflow</bold>: manages
<bold>(a)</bold> the connection with the Galaxy instance,
<bold>(b)</bold> execution tracking (the Galaxy “user histories”)
<bold>(c)</bold> the data from Galaxy “libraries” (the datasets),
<bold>(d)</bold> association and import of data from a data-library to a Galaxy user-history instance.
<bold>(e)</bold> Execution of the selected Galaxy workflow. This module handles data storage and links the samples to the selected workflow.</p>
        </list-item>
        <list-item>
          <label>4. </label>
          <p><bold>Analysis</bold>: A result file can be saved in order to be shared with other users involved in the project, or can be exported using the Galaxy export functionality, for download.</p>
        </list-item>
      </list>
      <p>Communication between MetaGenSense and Galaxy is dealt systematically, using the BioBlend API
<sup><xref rid="ref-5" ref-type="bibr">5</xref></sup>, a highly dedicated and specialized python library, giving access to most Galaxy functionalities. For example, it is possible to fetch the Galaxy users, create the user’s data-libraries, … As a side-note, interaction with the BioBlend development team was necessary for fine-tuning specific core functionalities, leading to a concomitant finishing and perfection of the tools and accompanying API. Specifically, BioBlend functionalities are used to communicate with Galaxy, as described in
<xref ref-type="fig" rid="f1">Figure 1</xref>.</p>
      <fig fig-type="figure" id="f1" orientation="portrait" position="float">
        <label>Figure 1. </label>
        <caption>
          <title>Communication details between MetaGenSense and Galaxy using Bioblend.</title>
        </caption>
        <graphic xlink:href="f1000research-4-11103-g0000"/>
      </fig>
      <p>A use-case example of MetaGenSense typically involves the following steps (cf
<xref ref-type="fig" rid="f2">Figure 2</xref>).</p>
      <p>
        <list list-type="simple">
          <list-item>
            <label>• </label>
            <p>User Authentication with LDAP or any authentication system defined by admin sys.</p>
          </list-item>
          <list-item>
            <label>• </label>
            <p>Creation of a new project, with a name, a context, a short description and (most importantly) the other persons involved in the project. Please note that to include a person, they need to have logged at least once on the application.</p>
          </list-item>
          <list-item>
            <label>• </label>
            <p>Supplying the LIMS database with metadata including sample information as the library sequencing protocol, supplementary run details and the path to raw data files.</p>
          </list-item>
          <list-item>
            <label>•</label>
            <p>At this point, the user needs to copy their input data files to their Galaxy transfer directory. MetaGenSense detects new files that are copied within the exchange Galaxy project directory. Those data files need to be copied manually. This solution was chosen such that the right files would be deposited deliberately in the right target Galaxy directory, with correct user/owner’s file permissions (typically on a UNIX file-system). In the exchange Galaxy directory, a subdirectory can be created, named after the project, and the raw data can be copied in that directory. This way, MetaGenSense detects the files that will be taken into account for use with Galaxy and analysed.</p>
          </list-item>
          <list-item>
            <label>• </label>
            <p>In the MetaGenSense GUI, the “Workflows” button allows to import new files to analyse into Galaxy.</p>
          </list-item>
          <list-item>
            <label>• </label>
            <p>Using a new Galaxy “history”, an appropriately selected workflow, and the set of workflow input data-files, an analysis can be launched. As usual in Galaxy, the workflow status can be monitored.</p>
          </list-item>
          <list-item>
            <label>•</label>
            <p>Intermediate and final results can be exported for download (using the native Galaxy tools), or they can be saved in the LIMS
<italic>i.e.</italic> be tagged as potentially interesting and shared with project members.</p>
          </list-item>
          <list-item>
            <label>• </label>
            <p>Further exploration of workflow results can be done using, for example in a metagenomics data analysis context, Krona
<sup><xref rid="ref-6" ref-type="bibr">6</xref></sup>, that enables taxonomic information to be explored.</p>
          </list-item>
        </list>
      </p>
      <fig fig-type="figure" id="f2" orientation="portrait" position="float">
        <label>Figure 2. </label>
        <caption>
          <title>MetaGenSense functioning starting with user connection.</title>
        </caption>
        <graphic xlink:href="f1000research-4-11103-g0001"/>
      </fig>
    </sec>
  </sec>
  <sec>
    <title>Conclusions/Discussion</title>
    <p>The technology evolution in molecular biology, especially in NGS, has moved biology into the big data era (consisting of handling data, computation requirements, efficient workflow design, and knowledge extraction). With this trend, the challenges faced by life scientists have been shifted from data acquisition to data management, processing, and knowledge extraction. While many studies have recognized the big data challenge, few systematically present approaches to tackle it. New findings in biological sciences usually come out of multi-step data pipelines (workflows). Galaxy is a workflow-management tool which can deal with big data. However, it is still necessary to globally optimize the data flow in an overall multi-step workflow in order to eliminate unnecessary data movement and redundant computation. On the other hand, data information traceability has become an inevitable requirement in a present-day laboratory setup, foreseeing that knowledge-embedded data and workflows are expected to be an integral part of future scientific publications.</p>
    <p>We therefore, engineered MetaGenSense, a Django-based web interface which helps biologists, who in particular are unfamiliar with the design of Galaxy workflows, to quickly obtain analysis results from HTS sequencing projects. It uses Galaxy as a workflow management software and the BioBlend API to remotely manage data upload, workflow execution as well as analysis of results. MetaGenSense covers data processing up to presentation of data and results in a human-readable data format. Its main advantages encompass data handling through its incorporated LIMS, user and project handling in a cooperative context, it enables data sharing without compromising data confidentiality, it features automated workflow execution, resulting altogether in decreasing the data and analysis delivery time. MetaGenSense is available as open-source from GitHub, and can be deployed very easily. For testing, and for users to be able to evaluate MetaGenSense’s modularity, we added to our Github directory, a special release coupled with a virtual machine image containing, the tools needed in our metagenomic example workflow, a galaxy instance containing those tools as well as a prototyped workflow, mainly focused on metagenomic sample analysis. MetaGenSense is pre-configured on it and directly usable through a web browser. Once tested, it can be easily adapted to a variety of other NGS projects.</p>
  </sec>
  <sec>
    <title>Software availability</title>
    <sec>
      <title>Latest source code</title>
      <p>
        <ext-link ext-link-type="uri" xlink:href="https://github.com/pgp-pasteur-fr/MetaGenSense">https://github.com/pgp-pasteur-fr/MetaGenSense</ext-link>
      </p>
    </sec>
    <sec>
      <title>Source code as at the time of publication</title>
      <p><ext-link ext-link-type="uri" xlink:href="https://github.com/pgp-pasteur-fr/MetaGenSense/releases/tag/1.0">https://github.com/pgp-pasteur-fr/MetaGenSense/releases/tag/1.0</ext-link> (Official v1.0 MetaGenSense release coupled with a virtual machine image for testing)</p>
    </sec>
    <sec>
      <title>Archived source code as at the time of publication</title>
      <p>DOI:
<ext-link ext-link-type="uri" xlink:href="http://dx.doi.org/10.5281/zenodo.16510">10.5281/zenodo.16510</ext-link>
<sup><xref rid="ref-7" ref-type="bibr">7</xref></sup>
</p>
    </sec>
    <sec>
      <title>License</title>
      <p>GPLv2</p>
    </sec>
  </sec>
</body>
<back>
  <ack>
    <title>Acknowledgements</title>
    <p>The authors are grateful to Pathoquest and the CEA/DSV/IG/Genoscope for their contribution in the initiation of the project. They are also grateful to Fabien Mareuil (C3BI, Institut Pasteur) for his technical advices, to Corinne Maufrais (C3BI, Institut Pasteur) and Véronique Legrand (DSI, Institut Pasteur) to have made publicly available their software in order for us to include them in the MetaGenSense test workflow on the virtual machine. And at last, to Hervé Menager (C3BI, Institut Pasteur) for his advices on the MetaGenSense documentation.</p>
  </ack>
  <sec id="SM1" sec-type="supplementary-material">
    <title>Supplementary materials</title>
    <fig fig-type="figure" id="SF1" orientation="portrait" position="float">
      <label>Figure S1. </label>
      <caption>
        <title>LIMS database schema.</title>
      </caption>
      <graphic xlink:href="f1000research-4-11103-g0002"/>
    </fig>
  </sec>
  <ref-list>
    <ref id="ref-1">
      <label>1</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Ison</surname><given-names>J</given-names></name><name><surname>Rapacki</surname><given-names>K</given-names></name><name><surname>Ménager</surname><given-names>H</given-names></name><etal/></person-group>:
<article-title>Tools and data services registry: a community effort to document bioinformatics resources.</article-title><source><italic>Nucleic Acids Res.</italic></source><year>2016</year>;<volume>44</volume>(<issue>D1</issue>):<fpage>D38</fpage>–<lpage>D47</lpage>.
<pub-id pub-id-type="doi">10.1093/nar/gkv1116</pub-id><!--<pub-id pub-id-type="pmcid">4702812</pub-id>--><?supplied-pmid 26538599?><pub-id pub-id-type="pmid">26538599</pub-id></mixed-citation>
    </ref>
    <ref id="ref-2">
      <label>2</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Goecks</surname><given-names>J</given-names></name><name><surname>Nekrutenko</surname><given-names>A</given-names></name><name><surname>Taylor</surname><given-names>J</given-names></name></person-group>:
<article-title>Galaxy: a comprehensive approach for supporting accessible, reproducible, and transparent computational research in the life sciences.</article-title><source><italic>Genome Biol.</italic></source><year>2010</year>;<volume>11</volume>(<issue>8</issue>):<fpage>R86</fpage>.
<pub-id pub-id-type="doi">10.1186/gb-2010-11-8-r86</pub-id><!--<pub-id pub-id-type="pmcid">2945788</pub-id>--><?supplied-pmid 20738864?><pub-id pub-id-type="pmid">20738864</pub-id></mixed-citation>
    </ref>
    <ref id="ref-3">
      <label>3</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Blankenberg</surname><given-names>D</given-names></name><name><surname>Von Kuster</surname><given-names>G</given-names></name><name><surname>Coraor</surname><given-names>N</given-names></name><etal/></person-group>:
<article-title>Galaxy: a web-based genome analysis tool for experimentalists.</article-title><source><italic>Curr Protoc Mol Biol.</italic></source><year>2010</year>;<volume>Chapter 19</volume>:<fpage>Unit 19.10.1</fpage>–<lpage>21</lpage>.
<pub-id pub-id-type="doi">10.1002/0471142727.mb1910s89</pub-id><!--<pub-id pub-id-type="pmcid">4264107</pub-id>--><?supplied-pmid 20069535?><pub-id pub-id-type="pmid">20069535</pub-id></mixed-citation>
    </ref>
    <ref id="ref-4">
      <label>4</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Giardine</surname><given-names>B</given-names></name><name><surname>Riemer</surname><given-names>C</given-names></name><name><surname>Hardison</surname><given-names>RC</given-names></name><etal/></person-group>:
<article-title>Galaxy: a platform for interactive large-scale genome analysis.</article-title><source><italic>Genome Res.</italic></source><year>2005</year>;<volume>15</volume>(<issue>10</issue>):<fpage>1451</fpage>–<lpage>5</lpage>.
<pub-id pub-id-type="doi">10.1101/gr.4086505</pub-id><!--<pub-id pub-id-type="pmcid">1240089</pub-id>--><?supplied-pmid 16169926?><pub-id pub-id-type="pmid">16169926</pub-id></mixed-citation>
    </ref>
    <ref id="ref-5">
      <label>5</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Sloggett</surname><given-names>C</given-names></name><name><surname>Goonasekera</surname><given-names>N</given-names></name><name><surname>Afgan</surname><given-names>E</given-names></name></person-group>:
<article-title>BioBlend: automating pipeline analyses within Galaxy and CloudMan.</article-title><source><italic>Bioinformatics.</italic></source><year>2013</year>;<volume>29</volume>(<issue>13</issue>):<fpage>1685</fpage>–<lpage>1686</lpage>.
<pub-id pub-id-type="doi">10.1093/bioinformatics/btt199</pub-id><!--<pub-id pub-id-type="pmcid">4288140</pub-id>--><?supplied-pmid 23630176?><pub-id pub-id-type="pmid">23630176</pub-id></mixed-citation>
    </ref>
    <ref id="ref-6">
      <label>6</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Ondov</surname><given-names>BD</given-names></name><name><surname>Bergman</surname><given-names>NH</given-names></name><name><surname>Phillippy</surname><given-names>AM</given-names></name></person-group>:
<article-title>Interactive metagenomic visualization in a Web browser.</article-title><source><italic>BMC Bioinformatics.</italic></source><year>2011</year>;<volume>12</volume>:<fpage>385</fpage>.
<pub-id pub-id-type="doi">10.1186/1471-2105-12-385</pub-id><!--<pub-id pub-id-type="pmcid">3190407</pub-id>--><?supplied-pmid 21961884?><pub-id pub-id-type="pmid">21961884</pub-id></mixed-citation>
    </ref>
    <ref id="ref-7">
      <label>7</label>
      <mixed-citation publication-type="data"><person-group person-group-type="author"><name><surname>Correia</surname><given-names>D</given-names></name><name><surname>Doppelt-Azeroual</surname><given-names>O</given-names></name><name><surname>Vandenbogaert</surname><given-names>M</given-names></name></person-group>:
<article-title>MetaGenSense: MetaGenSense v1.0 [Data set].</article-title><source><italic>Zenodo.</italic></source><year>2015</year><ext-link ext-link-type="uri" xlink:href="http://doi.org/10.5281/zenodo.16510">Data Source</ext-link></mixed-citation>
    </ref>
  </ref-list>
</back>
<sub-article id="report18134" article-type="peer-review">
  <front-stub>
    <article-id pub-id-type="doi">10.5256/f1000research.11103.r18134</article-id>
    <title-group>
      <article-title>Referee response for version 3</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <name>
          <surname>Hiltemann</surname>
          <given-names>Saskia</given-names>
        </name>
        <xref ref-type="aff" rid="r18134a1">1</xref>
        <role>Referee</role>
        <contrib-id contrib-id-type="orcid">http://orcid.org/0000-0003-3803-468X</contrib-id>
      </contrib>
      <aff id="r18134a1"><label>1</label>Department of Bioinformatics, Erasmus University Medical Center, Rotterdam, Netherlands</aff>
    </contrib-group>
    <author-notes>
      <fn fn-type="COI-statement">
        <p><bold>Competing interests: </bold>No competing interests were disclosed.</p>
      </fn>
    </author-notes>
    <pub-date pub-type="epub">
      <day>1</day>
      <month>12</month>
      <year>2016</year>
    </pub-date>
    <related-article id="d35e824" related-article-type="peer-reviewed-article" ext-link-type="doi" xlink:href="10.12688/f1000research.6139.3">Version 3</related-article>
    <custom-meta-group>
      <custom-meta>
        <meta-name>recommendation</meta-name>
        <meta-value>approve</meta-value>
      </custom-meta>
    </custom-meta-group>
  </front-stub>
  <body>
    <p>I have read this submission. I believe that I have an appropriate level of expertise to confirm that it is of an acceptable scientific standard.</p>
  </body>
</sub-article>
<sub-article id="report15805" article-type="peer-review">
  <front-stub>
    <article-id pub-id-type="doi">10.5256/f1000research.10150.r15805</article-id>
    <title-group>
      <article-title>Referee response for version 2</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <name>
          <surname>Hiltemann</surname>
          <given-names>Saskia</given-names>
        </name>
        <xref ref-type="aff" rid="r15805a1">1</xref>
        <role>Referee</role>
        <contrib-id contrib-id-type="orcid">http://orcid.org/0000-0003-3803-468X</contrib-id>
      </contrib>
      <aff id="r15805a1"><label>1</label>Department of Bioinformatics, Erasmus University Medical Center, Rotterdam, Netherlands</aff>
    </contrib-group>
    <author-notes>
      <fn fn-type="COI-statement">
        <p><bold>Competing interests: </bold>No competing interests were disclosed.</p>
      </fn>
    </author-notes>
    <pub-date pub-type="epub">
      <day>22</day>
      <month>11</month>
      <year>2016</year>
    </pub-date>
    <related-article id="d35e873" related-article-type="peer-reviewed-article" ext-link-type="doi" xlink:href="10.12688/f1000research.6139.2">Version 2</related-article>
    <custom-meta-group>
      <custom-meta>
        <meta-name>recommendation</meta-name>
        <meta-value>approve</meta-value>
      </custom-meta>
    </custom-meta-group>
  </front-stub>
  <body>
    <p>With this revision, the authors have successfully addressed all my previous concerns.</p>
    <p> The installation instructions were much improved, and I was able to set up MetaGenSense without any major difficulty. The availability of a Virtual Machine was especially convenient for quick testing/assessing of the application, and I was able to run the example pipeline on the provided test data easily.</p>
    <p> The manuscript itself was also much improved and I am now happy to approve this manuscript. I think this is a nice example of how one can integrate a LIMS/project management system with Galaxy at the back-end for analysis.</p>
    <p> Minor (optional) remarks:
<list list-type="order"><list-item><p>Unless there is a compelling reason not to, please consider adding the requirements.txt file to the github repo, it was a little bit confusing that I had to create this file myself. </p></list-item><list-item><p>Your installation instructions refer to the command "manage.py migrate" but this appears not to be implemented until Django 1.7, yet your documentation lists the requirement "Django==1.6.2". Consider changing the requirement version for Django from 1.6.2 to 1.7 (I had no problem running the rest of the setup using Django 1.7) or changing this part of the installation instructions to fit with Django 1.6.2.</p></list-item><list-item><p>Capitalize "galaxy" in last paragraph of the manuscript ( [..]  the tools needed in our metagenomic example workflow, a galaxy instance containing those tools [..])</p></list-item><list-item><p>For the VM, it would be useful if you also provided the login credentials for the admin user (mgs_admin) for MGS/Galaxy in your README on github, for those readers who may be interested in seeing how the admin side of the application works.</p></list-item></list>
</p>
    <p>I have read this submission. I believe that I have an appropriate level of expertise to confirm that it is of an acceptable scientific standard.</p>
  </body>
</sub-article>
<sub-article id="report15804" article-type="peer-review">
  <front-stub>
    <article-id pub-id-type="doi">10.5256/f1000research.10150.r15804</article-id>
    <title-group>
      <article-title>Referee response for version 2</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <name>
          <surname>Corpas</surname>
          <given-names>Manuel</given-names>
        </name>
        <xref ref-type="aff" rid="r15804a1">1</xref>
        <role>Referee</role>
        <contrib-id contrib-id-type="orcid">http://orcid.org/0000-0002-4417-1018</contrib-id>
      </contrib>
      <aff id="r15804a1"><label>1</label>Future Business Centre, Cambridge, UK</aff>
    </contrib-group>
    <author-notes>
      <fn fn-type="COI-statement">
        <p><bold>Competing interests: </bold>No competing interests were disclosed.</p>
      </fn>
    </author-notes>
    <pub-date pub-type="epub">
      <day>14</day>
      <month>9</month>
      <year>2016</year>
    </pub-date>
    <related-article id="d35e950" related-article-type="peer-reviewed-article" ext-link-type="doi" xlink:href="10.12688/f1000research.6139.2">Version 2</related-article>
    <custom-meta-group>
      <custom-meta>
        <meta-name>recommendation</meta-name>
        <meta-value>approve-with-reservations</meta-value>
      </custom-meta>
    </custom-meta-group>
  </front-stub>
  <body>
    <p>I appreciate that there have been noticeable improvements, hence I am now able to accept this article with reservations. I hope authors find my suggestions useful.</p>
    <p> I would have preferred if the response letter was more specific, quoting the suggestions offered by the reviewers and directly underneath the author responses showing how they have addressed them. Currently I have no easy way to check how you have addressed my previous comments. The response letter has some grammatical errors. I paste below the bits that are grammatically incorrect. I would recommend that authors have proof read their submitted materials before sending them.
<list list-type="bullet"><list-item><p>"according to reviewers remarks” </p></list-item><list-item><p>“this application is more design”</p></list-item><list-item><p>“Description of the software is also a more precise"</p></list-item><list-item><p>I am unable to run the image http://webext.pasteur.fr/metagensense/metagensense.ova as I do not have the ability to create virtual machines. Perhaps having a set of images that describe exactly the point authors want to make regarding this virtual machine could help the review process. This seems to be done in Figure 2, although the resolution is not sufficient.</p></list-item><list-item><p>I am unable to read the font inside of Figure 2’s window screenshots. I would like to be able to see what each of them shows. This way I would be able to see how the interface works for each of the stages (e.g., Connection, Project creation, etc.).</p></list-item><list-item><p>I went to GitHub and I went to "http://metagensense.test.fr:8000” but the answer I got from the server was "metagensense.test.fr refused to connect”.</p></list-item><list-item><p>In the installation notes of the README.md, the first step points to virtualenv, virtualenvwrapper. I would have appreciated if authors could provide in there how I can install virtualenv. It is just need to take a few instructions from https://virtualenv.pypa.io/en/stable/installation/.</p></list-item></list>
</p>
    <p>I have read this submission. I believe that I have an appropriate level of expertise to confirm that it is of an acceptable scientific standard, however I have significant reservations, as outlined above.</p>
  </body>
  <sub-article id="comment2300" article-type="response">
    <front-stub>
      <contrib-group>
        <contrib contrib-type="author">
          <name>
            <surname>Doppelt-Azeroual</surname>
            <given-names>Olivia</given-names>
          </name>
          <aff>Institut Pasteur, France</aff>
        </contrib>
      </contrib-group>
      <author-notes>
        <fn fn-type="COI-statement">
          <p><bold>Competing interests: </bold>None</p>
        </fn>
      </author-notes>
      <pub-date pub-type="epub">
        <day>21</day>
        <month>11</month>
        <year>2016</year>
      </pub-date>
    </front-stub>
    <body>
      <p>Dear Dr. Corpas,</p>
      <p> Thank you for your review and remarks. According to your advice, the documentation, publication and other materials have now been proofread by a colleague.</p>
      <p> The main change since the second version of the publication is the documentation available in the github repository
<ext-link ext-link-type="uri" xlink:href="http://metagensense.readthedocs.io/en/latest/?badge=latest">http://metagensense.readthedocs.io/en/latest/?badge=latest</ext-link>. We tried to clarify the following points:
<list list-type="bullet"><list-item><p>The documentation on the main github page was simplified and we clearly separated the virtual machine test documentation and the metagensense local installation procedure.</p></list-item><list-item><p>The documentation available on the platform Read the Docs was proofread and that enabled us to emphasize each step of the installation procedure.  </p></list-item><list-item><p>We added documentation for the Virtualenv installation procedure</p></list-item><list-item><p>The Figure 2 which was in a low resolution was updated on the github repository and the publication.</p></list-item></list>
</p>
      <p> You will find below the answers to your remarks:</p>
      <p> [Q1]</p>
      <p> I am unable to run the image http://webext.pasteur.fr/metagensense/metagensense.ova as I do not have the ability to create virtual machines. Perhaps having a set of images that describe exactly the point authors want to make regarding this virtual machine could help the review process. This seems to be done in Figure 2, although the resolution is not sufficient.</p>
      <p>
        <bold>[A1]</bold>
      </p>
      <p>
        <bold>The point of the Virtual Machine is to allow users to test the MetaGenSense application before installing it on their local infrastructure.</bold>
      </p>
      <p>
        <bold>The online documentation available at the URL:  
<ext-link ext-link-type="uri" xlink:href="http://metagensense.readthedocs.io/en/latest/connection.html">http://metagensense.readthedocs.io/en/latest/connection.html</ext-link> now includes a step by step user guide. </bold>
      </p>
      <p><bold>[</bold>Q2]</p>
      <p> I am unable to read the font inside of Figure 2’s window screenshots. I would like to be able to see what each of them shows. This way I would be able to see how the interface works for each of the stages (e.g., Connection, Project creation, etc.).</p>
      <p>
        <bold>[A2]</bold>
      </p>
      <p>
        <bold>The image for each stages has been uploaded with a better resolution so the readers can have a better idea of MetaGenSense’s looks without installing the virtual machine. It is available at the URL:
<ext-link ext-link-type="uri" xlink:href="https://github.com/pgp-pasteur-fr/MetaGenSense/blob/master/doc/images/metagensense_complete.jpeg">https://github.com/pgp-pasteur-fr/MetaGenSense/blob/master/doc/images/metagensense_complete.jpeg</ext-link></bold>
      </p>
      <p> [Q3]</p>
      <p> I went to GitHub and I went to "http://metagensense.test.fr:8000” but the answer I got from the server was "metagensense.test.fr refused to connect”.</p>
      <p>
        <bold>[A3]</bold>
      </p>
      <p>
        <bold>The metagensense.test.fr URL is only available when running the MetaGenSense virtual machine. The documentation available on the github repository has been corrected to clarify this point. </bold>
      </p>
      <p><bold>[</bold>Q4]</p>
      <p> In the installation notes of the README.md, the first step points to virtualenv, virtualenvwrapper. I would have appreciated if authors could provide in there how I can install virtualenv. It is just need to</p>
      <p> take a few instructions from
<ext-link ext-link-type="uri" xlink:href="https://virtualenv.pypa.io/en/stable/installation/">https://virtualenv.pypa.io/en/stable/installation/</ext-link>.</p>
      <p>
        <bold>[A4]</bold>
      </p>
      <p>
        <bold>We changed the documentation and added information regarding the installation of a virtual environment. </bold>
      </p>
      <p> Thank you again for your review. We hope the changes we applied to our github documentation will clarify MetaGenSense's description and its installation procedure.</p>
      <p> Best regards,</p>
      <p> Olivia Doppelt-Azeroual</p>
    </body>
  </sub-article>
</sub-article>
<sub-article id="report8902" article-type="peer-review">
  <front-stub>
    <article-id pub-id-type="doi">10.5256/f1000research.6578.r8902</article-id>
    <title-group>
      <article-title>Referee response for version 1</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <name>
          <surname>Hiltemann</surname>
          <given-names>Saskia</given-names>
        </name>
        <xref ref-type="aff" rid="r8902a1">1</xref>
        <role>Referee</role>
        <contrib-id contrib-id-type="orcid">http://orcid.org/0000-0003-3803-468X</contrib-id>
      </contrib>
      <aff id="r8902a1"><label>1</label>Department of Bioinformatics, Erasmus University Medical Center, Rotterdam, Netherlands</aff>
    </contrib-group>
    <author-notes>
      <fn fn-type="COI-statement">
        <p><bold>Competing interests: </bold>No competing interests were disclosed.</p>
      </fn>
    </author-notes>
    <pub-date pub-type="epub">
      <day>24</day>
      <month>6</month>
      <year>2015</year>
    </pub-date>
    <related-article id="d35e1176" related-article-type="peer-reviewed-article" ext-link-type="doi" xlink:href="10.12688/f1000research.6139.1">Version 1</related-article>
    <custom-meta-group>
      <custom-meta>
        <meta-name>recommendation</meta-name>
        <meta-value>approve-with-reservations</meta-value>
      </custom-meta>
    </custom-meta-group>
  </front-stub>
  <body>
    <p>General Comments:</p>
    <p>The authors describe their application, MetaGenSense, a web-based application for analysing metagenomic data. It provides a user-friendly interface which combines a LIMS system with a Galaxy backend for computation and workflow management.</p>
    <p>The Django framework is very nice, and I think the integration of Galaxy with a LIMS system is very useful and something many readers will be interested in.</p>
    <p>However, many aspects of this application are tailored specifically to the authors' local setup. I installed parts of the application, but since no information is provided on how to install the various components (LIMS/Django/KRONA/BioBlend), and since the Galaxy server used in the code was not accessible to me, it was not fully functional, and because documentation was lacking, it was unclear to me how to proceed with the setup.</p>
    <p>To make this work more valuable to the readers, the following additions would be helpful:
<list list-type="order"><list-item><p>Installation instructions for the code on GitHub. The readme file is empty at the moment.</p><p>How to install the various components (LIMS, Django UI, KRONA, BioBlend)? And how to connect the different components together? How to configure the webserver correctly (apache/nginx/other)? Which parts of the code are specific to the authors' local setup and need to be adapted when readers install their own MetaGenSense instance?</p></list-item><list-item><p>A description of the Galaxy workflows used by the authors would also be very interesting, which tools are used? are they available from the Galaxy tool shed? </p></list-item><list-item><p>Either create a demo server with an example project or add screenshots of the application to the manuscript. The UI looks quite nice, show it to the readers.</p></list-item><list-item><p>The case study section is very technical, and would be enhanced by showing the use-case in terms of a real biological example, add screenshots of a real-world analysis to the various steps in this section.</p></list-item></list>Minor Edits:
<list list-type="order"><list-item><p>Capitalize the word "Galaxy" throughout. </p></list-item><list-item><p> In section "Bioinformatics and HTS projects", BiobBlend --&gt; BioBlend</p></list-item></list>
</p>
    <p>I have read this submission. I believe that I have an appropriate level of expertise to confirm that it is of an acceptable scientific standard, however I have significant reservations, as outlined above.</p>
  </body>
  <sub-article id="comment1506" article-type="response">
    <front-stub>
      <contrib-group>
        <contrib contrib-type="author">
          <name>
            <surname>Doppelt-Azeroual</surname>
            <given-names>Olivia</given-names>
          </name>
          <aff>Institut Pasteur, France</aff>
        </contrib>
      </contrib-group>
      <author-notes>
        <fn fn-type="COI-statement">
          <p><bold>Competing interests: </bold>No competing interests were disclosed.</p>
        </fn>
      </author-notes>
      <pub-date pub-type="epub">
        <day>6</day>
        <month>8</month>
        <year>2015</year>
      </pub-date>
    </front-stub>
    <body>
      <p>Thank you very much for your critical review. We posted the answers for your remarks underneath them in bold. </p>
      <p> To make this work more valuable to the readers, the following additions would be helpful:
<list list-type="order"><list-item><p>Installation instructions for the code on GitHub. The readme file is empty at the moment.</p><p><bold>Yes, the README file is now complete. It contains installation information. Please tell us if you feel that it gathers all useful information to install and configure MetaGenSense.</bold></p><p><bold/></p><p><bold> Along with the version 2 of MetaGenSense publication, we built a release of the software. It is available at the URL (</bold><ext-link ext-link-type="uri" xlink:href="https://github.com/pgp-pasteur-fr/MetaGenSense/releases/tag/v1.0"><bold>https://github.com/pgp-pasteur-fr/MetaGenSense/releases/tag/v1.0</bold></ext-link><bold>) </bold></p><p> How to install the various components (LIMS, Django UI, KRONA, BioBlend)? And how to connect the different components together? How to configure the webserver correctly (apache/nginx/other)? Which parts of the code are specific to the authors' local setup and need to be adapted when readers install their own MetaGenSense instance?</p><p><bold>Concerning the LIMS, Django, BioBlend, everything is in the application itself so the connection between the components is natively implemented.</bold></p><p><bold>For the apache, it is directly linked to Django which is deployed on an apache server. It is very well documented on this url:</bold></p><p><ext-link ext-link-type="uri" xlink:href="https://docs.djangoproject.com/en/1.8/howto/deployment/"><bold>https://docs.djangoproject.com/en/1.8/howto/deployment/ </bold></ext-link></p><p><bold>For KRONA, the javascript which enables the taxonomy distribution exploration is actually generated by a tool, installed in Galaxy. At the Institut Pasteur, it is part of an in-house package which gathers several tools for taxonomy analyses. Those tools are available on GitHub now (it was not a year ago) at the URL: </bold><ext-link ext-link-type="uri" xlink:href="https://github.com/C3BI-pasteur-fr/taxo_pack"><bold>https://github.com/C3BI-pasteur-fr/taxo_pack</bold></ext-link><bold>. To test those tools, we implemented a Virtual Machine image pre-configured to test MetaGenSense directly on a web browser. Instructions are also available in the GitHub README file.</bold></p><p><bold/></p><p><bold> For your last question, please look at the “set the settings” part of the README file. </bold></p></list-item><list-item><p>A description of the Galaxy workflows used by the authors would also be very interesting, which tools are used? are they available from the Galaxy tool shed?</p><p><bold>The workflow included on the virtual Machine Galaxy instance contains a light version of our metagenomic analysis workflow. A small fastq file is also included to test it. </bold></p></list-item><list-item><p>Either create a demo server with an example project or add screenshots of the application to the manuscript. The UI looks quite nice, show it to the readers.</p><p><bold>Thank you for that. Yes, another reviewer suggested that we put screenshots of the UI. We added a figure that resumes all the windows and their use for each step. The figure is the available at this url: </bold><ext-link ext-link-type="uri" xlink:href="https://github.com/pgp-pasteur-fr/MetaGenSense/blob/master/doc/images/metagensense_complete.jpeg"><bold>https://github.com/pgp-pasteur-fr/MetaGenSense/blob/master/doc/images/metagensense_complete.jpeg</bold></ext-link><bold> as well as each of the steps (in bigger picture). This figure is now added to the publication. </bold></p></list-item><list-item><p>The case study section is very technical, and would be enhanced by showing the use-case in terms of a real biological example, add screenshots of a real-world analysis to the various steps in this section.</p><p><bold>Please tell us if the figure resumes well the various steps. </bold></p></list-item></list>
<bold>For the minor remarks, they are all included in the second version of the publication. Thank you for your critical review of our article.</bold>
</p>
    </body>
  </sub-article>
</sub-article>
<sub-article id="report8217" article-type="peer-review">
  <front-stub>
    <article-id pub-id-type="doi">10.5256/f1000research.6578.r8217</article-id>
    <title-group>
      <article-title>Referee response for version 1</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <name>
          <surname>Corpas</surname>
          <given-names>Manuel</given-names>
        </name>
        <xref ref-type="aff" rid="r8217a1">1</xref>
        <role>Referee</role>
        <contrib-id contrib-id-type="orcid">http://orcid.org/0000-0002-4417-1018</contrib-id>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Rauscher</surname>
          <given-names>Benedikt</given-names>
        </name>
        <xref ref-type="aff" rid="r8217a2">2</xref>
        <role>Co-referee</role>
      </contrib>
      <aff id="r8217a1"><label>1</label>Future Business Centre, Cambridge, UK</aff>
      <aff id="r8217a2"><label>2</label>The Genome Analysis Center, Norwich, UK</aff>
    </contrib-group>
    <author-notes>
      <fn fn-type="COI-statement">
        <p><bold>Competing interests: </bold>No competing interests were disclosed.</p>
      </fn>
    </author-notes>
    <pub-date pub-type="epub">
      <day>22</day>
      <month>6</month>
      <year>2015</year>
    </pub-date>
    <related-article id="d35e1424" related-article-type="peer-reviewed-article" ext-link-type="doi" xlink:href="10.12688/f1000research.6139.1">Version 1</related-article>
    <custom-meta-group>
      <custom-meta>
        <meta-name>recommendation</meta-name>
        <meta-value>reject</meta-value>
      </custom-meta>
    </custom-meta-group>
  </front-stub>
  <body>
    <p>MetaGenSense is intended to help find pathogen data in metagenomic data created through next generation sequencing. Measured data including the sequencing reads and metadata are fed into a Laboratory Information Management System (LIMS). The application can fetch that information and pipe it into predefined Galaxy workflows, run them and visualise the output via a framework called KRONA.</p>
    <p>The introduction to the article is perhaps too long (almost half of the article). There are sections that are not necessarily related to the research presented here, e.g.,  the paragraph focusing on the assembly problem of next generation sequencing reads.  It would be useful, however, that the authors give a more comprehensive introduction into metagenomics as this topic is only covered very briefly at the beginning of the introduction.</p>
    <p>The section on the software tool itself is very technical. I have trouble identifying a clear train of thought. Also it could be shorter and more precise. The case study does not really seem to be a case study on how the application can be used to actually find pathogen information in metagenomic data but is more like a step by step protocol on how to use the application. I suggest that this kind of information should be moved to the documentation and that instead a concrete biological example is demonstrated in the article. Moreover, the title says that MetaGenSense can visualise its results. However, this is not shown in the article. Therefore I would advise the authors to consider replacing the current figure with a figure demonstrating the results of a concrete biological use case.</p>
    <p>The discussion and conclusion seem to be a summary rather than a discussion.</p>
    <p>MetaGenSense seems to lack many of the standard requirements of a quality software product
<list list-type="bullet"><list-item><p>We could not find any documentation. The README file on GitHub does not contain any information.</p></list-item><list-item><p>The last update to the code was months ago, suggesting that the program is not being developed and maintained actively.</p></list-item><list-item><p>We could not find any tests.</p></list-item><list-item><p>We could not find any examples, demos or even screenshots of the interface.</p></list-item></list>
</p>
    <p>Therefore we are not convinced that MetaGenSense adheres to the journal’s quality standards.</p>
    <p>We believe that the article should be revisited and documentation, live examples and tests should be added to the software before the article should be indexed.</p>
    <p>We have read this submission. We believe that we have an appropriate level of expertise to state that we do not consider it to be of an acceptable scientific standard, for reasons outlined above.</p>
  </body>
  <sub-article id="comment1540" article-type="response">
    <front-stub>
      <contrib-group>
        <contrib contrib-type="author">
          <name>
            <surname>Doppelt-Azeroual</surname>
            <given-names>Olivia</given-names>
          </name>
          <aff>Institut Pasteur, France</aff>
        </contrib>
      </contrib-group>
      <author-notes>
        <fn fn-type="COI-statement">
          <p><bold>Competing interests: </bold>No competing interests were disclosed.</p>
        </fn>
      </author-notes>
      <pub-date pub-type="epub">
        <day>28</day>
        <month>8</month>
        <year>2015</year>
      </pub-date>
    </front-stub>
    <body>
      <p>We tried to answer each of your comments. A second version of the publication will be available soon. </p>
      <p> Thank you for your critical review of our article.</p>
      <p>
        <underline>Reviewer Comment:</underline>
      </p>
      <p> MetaGenSense is intended to help find pathogen data in metagenomic data created through next generation sequencing. Measured data including the sequencing reads and metadata are fed into a Laboratory Information Management System (LIMS). The application can fetch that information and pipe it into predefined Galaxy workflows, run them and visualise the output via a framework called KRONA.</p>
      <p> The introduction to the article is perhaps too long (almost half of the article). There are sections that are not necessarily related to the research presented here, e.g., the paragraph focusing on the assembly problem of next generation sequencing reads.  It would be useful, however, that the authors give a more comprehensive introduction into metagenomics as this topic is only covered very briefly at the beginning of the introduction.</p>
      <p>
        <bold>Introduction is now shorter in the second version of the publication. It was modified in a way that more emphasis is made on the importance of a true metagenomics component for HTS-type analyses. Information regarding assembly problems are indeed of secondary importance, and they were removed for the new version.</bold>
      </p>
      <p>
        <bold>
          <underline>Reviewer Comment:</underline>
        </bold>
      </p>
      <p> The section on the software tool itself is very technical. I have trouble identifying a clear train of thought. Also it could be shorter and more precise. The case study does not really seem to be a case study on how the application can be used to actually find pathogen information in metagenomic data but is more like a step by step protocol on how to use the application. I suggest that this kind of information should be moved to the documentation and that instead a concrete biological example is demonstrated in the article. Moreover, the title says that MetaGenSense can visualise its results. However, this is not shown in the article. Therefore I would advise the authors to consider replacing the current figure with a figure demonstrating the results of a concrete biological use case.</p>
      <p>
        <bold>Thank you for this interesting remark; the use-case part of the article was modified to be more precise. Moreover, a user can now use MetaGenSense on a concrete biological dataset. We created a virtual machine image preconfigured to directly use MetaGenSense with a web browser. A fastq file, as well as a light version of our metagenomic Galaxy workflow is included. The user can connect to the framework, launch an analysis, explore the framework, as well as the results. </bold>
      </p>
      <p>
        <bold>Moreover, we also would like to change the title of the publication for it to be more adapted to our approach; replacing visualisation by the word exploration which is really the goal of an application like MetaGenSense. The title of the second version of the article is:</bold>
      </p>
      <p>
        <bold> "MetaGenSense : A web application for analysis and exploration of high throughput sequencing metagenomic data."</bold>
      </p>
      <p>
        <bold>
          <underline>Reviewer Comment:</underline>
        </bold>
      </p>
      <p> The discussion and conclusion seem to be a summary rather than a discussion.</p>
      <p> MetaGenSense seems to lack many of the standard requirements of a quality software product
<list list-type="bullet"><list-item><p>We could not find any documentation. The README file on GitHub does not contain any information.</p><p><bold>MetaGenSense README file is now complete. We also have written on a userGuide available directly on our Github repository through the web tool readthedocs : </bold><ext-link ext-link-type="uri" xlink:href="http://metagensense.readthedocs.io"><bold>http://metagensense.readthedocs.io</bold></ext-link><bold>.</bold></p></list-item></list>
</p>
      <p>
        <bold>
          <underline>Reviewer Comment:</underline>
        </bold>
        <list list-type="bullet">
          <list-item>
            <p>The last update to the code was months ago, suggesting that the program is not being developed and maintained actively.</p>
            <p>
              <bold>The code in the GitHub repository was committed just before the submission of the article. A few debug and add-ons have been implemented since the previous release. </bold>
            </p>
          </list-item>
        </list>
        <bold>
          <underline>Reviewer Comment:</underline>
        </bold>
        <list list-type="bullet">
          <list-item>
            <p>We could not find any tests.</p>
            <p>
              <bold>As mentioned earlier, we implemented a Virtual Machine Image containing the infrastructure to test our framework. It is pre-configured so that any user can start using MetaGenSense with a web browser. It is available on the Institut Pasteur server as it was too big to be uploaded on GitHub (</bold>
              <ext-link ext-link-type="uri" xlink:href="http://webext.pasteur.fr/metagensense/metagensense.ova">http://webext.pasteur.fr/metagensense/metagensense.ova</ext-link>
              <bold>). Documentation about this image is available on the README file of our GitHub repository. As Metagenomic analyses are time and storage consuming, we made available a very light version of our workflow with a small fastq file. However, it is enough to test the framework and to understand how the database, the Django framework and the related Galaxy instance are working together. </bold>
            </p>
          </list-item>
        </list>
      </p>
      <p>
        <bold>
          <underline>Reviewer Comment:</underline>
        </bold>
        <list list-type="bullet">
          <list-item>
            <p>We could not find any examples, demos or even screenshots of the interface.</p>
            <p>
              <bold>For the screenshots, we added a picture of the framework at each step of its use. It is also available at the url:</bold>
              <ext-link ext-link-type="uri" xlink:href="https://github.com/pgp-pasteur-fr/MetaGenSense/blob/master/doc/images/metagensense_complete.jpeg">
                <bold> https://github.com/pgp-pasteur-fr/MetaGenSense/blob/master/doc/images/metagensense_complete.jpeg</bold>
              </ext-link>
            </p>
            <p>
              <bold>Moreover, as the screenshots are small, they are also available on our github repository in the doc directory. </bold>
            </p>
          </list-item>
        </list>
      </p>
    </body>
  </sub-article>
</sub-article>
<sub-article id="report8901" article-type="peer-review">
  <front-stub>
    <article-id pub-id-type="doi">10.5256/f1000research.6578.r8901</article-id>
    <title-group>
      <article-title>Referee response for version 1</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <name>
          <surname>Li</surname>
          <given-names>Peter</given-names>
        </name>
        <xref ref-type="aff" rid="r8901a1">1</xref>
        <role>Referee</role>
      </contrib>
      <aff id="r8901a1"><label>1</label>GigaScience, Hong Kong SAR, China</aff>
    </contrib-group>
    <author-notes>
      <fn fn-type="COI-statement">
        <p><bold>Competing interests: </bold>No competing interests were disclosed.</p>
      </fn>
    </author-notes>
    <pub-date pub-type="epub">
      <day>19</day>
      <month>6</month>
      <year>2015</year>
    </pub-date>
    <related-article id="d35e1690" related-article-type="peer-reviewed-article" ext-link-type="doi" xlink:href="10.12688/f1000research.6139.1">Version 1</related-article>
    <custom-meta-group>
      <custom-meta>
        <meta-name>recommendation</meta-name>
        <meta-value>approve-with-reservations</meta-value>
      </custom-meta>
    </custom-meta-group>
  </front-stub>
  <body>
    <p>
      <bold>General comments</bold>
    </p>
    <p>The authors have developed MetaGenSense, a web-based application for analysing metagenomics data. MetaGenSense also acts as a laboratory information management system, managing the metagenomics data and the results of their analysis by Galaxy workflows.</p>
    <p>The work done by the authors sounds promising since I am a fan of Galaxy and of the Django framework. However, I believe the paper can be much improved by providing additional details in a number of places.</p>
    <p>For example, it would be interesting to learn more about the two prototyped workflows for analysing metagenomics data which are alluded to in the "Pre-designed Galaxy workflow" section on page 5.</p>
    <p>The "Case study - use example" section could also be improved by providing screenshots of the MetaGenSense GUI which are relevant to each or some of the steps. At the moment, I have no idea what the GUI for MetaGenSense looks like since there is also no example instance of MetaGenSense available on the Web which would have been useful for reviewing this paper.</p>
    <p>In the final paragraph, it is stated that MetaGenSense can be easily deployed but looking at the source code in
<ext-link ext-link-type="uri" xlink:href="https://github.com/F1000Research/MetaGenSense">https://github.com/F1000Research/MetaGenSense</ext-link>, there appears to be a lack of documentation to enable me to do this. For example, which version of Django should I use with MetaGenSense? How do I get the MetaGenSense source code integrated with the Django framework? The LIMS for MetaGenSense uses PostgreSQL; how do I set up this database and get it linked to MetaGenSense? How do I provide MetaGenSense with access to a Galaxy server? I think the authors need to provide this type of information to help readers install MetaGenSense for the authors' source code to be more useful.</p>
    <p>
      <bold>Minor corrections</bold>
    </p>
    <p>Page 3:</p>
    <p>Paragraph 4</p>
    <p>Pacific Bioscience should be Pacific Biosciences.</p>
    <p>Paragraph 7</p>
    <p>BiobBlend should be BioBlend.</p>
    <p>Page 4</p>
    <p>worflow_remote should be workflow_remote</p>
    <p>like BWA through galaxy - should be, "like BWA through Galaxy..."</p>
    <p>Page 5</p>
    <p>Case study - use example: Need to be consistent by starting bullet points with capital letters.</p>
    <p>I have read this submission. I believe that I have an appropriate level of expertise to confirm that it is of an acceptable scientific standard, however I have significant reservations, as outlined above.</p>
  </body>
  <sub-article id="comment1507" article-type="response">
    <front-stub>
      <contrib-group>
        <contrib contrib-type="author">
          <name>
            <surname>Doppelt-Azeroual</surname>
            <given-names>Olivia</given-names>
          </name>
          <aff>Institut Pasteur, France</aff>
        </contrib>
      </contrib-group>
      <author-notes>
        <fn fn-type="COI-statement">
          <p><bold>Competing interests: </bold>No competing interests were disclosed.</p>
        </fn>
      </author-notes>
      <pub-date pub-type="epub">
        <day>6</day>
        <month>8</month>
        <year>2015</year>
      </pub-date>
    </front-stub>
    <body>
      <p>Thank you for your review. For each of your remarks, we wrote responses in bold:</p>
      <p> For example, it would be interesting to learn more about the two prototyped workflows for analysing metagenomics data which are alluded to in the "Pre-designed Galaxy workflow" section on page 5.</p>
      <p>
        <bold>This publication aims to present an application combining as you wrote above a lims, a direct link to any Galaxy and a way to sort and manage Galaxy results. The workflow you choose to use is totally arbitrary. In essence, MGS was designed in a way that any Galaxy workflow can be plugged-in.</bold>
      </p>
      <p>
        <bold/>
      </p>
      <p>
        <bold> To facilitate testing, we implemented a Virtual Machine image pre-configured to test MetaGenSense directly on a web browser. Instructions for download and use are available in the GitHub README file. However, as instructions for installation of the framework are now available, any developer can download and link MetaGenSense to his Galaxy. </bold>
      </p>
      <p> The "Case study - use example" section could also be improved by providing screenshots of the MetaGenSense GUI which are relevant to each or some of the steps. At the moment, I have no idea what the GUI for MetaGenSense looks like since there is also no example instance of MetaGenSense available on the Web which would have been useful for reviewing this paper.</p>
      <p>
        <bold>Yes we agree with you, we omitted to add screenshots in the first version of the article. We added a new figure that resumes all MetaGenSense steps and functionalities. It is available at: </bold>
        <ext-link ext-link-type="uri" xlink:href="https://github.com/pgp-pasteur-fr/MetaGenSense/blob/master/doc/images/metagensense_complete.jpeg">
          <bold>https://github.com/pgp-pasteur-fr/MetaGenSense/blob/master/doc/images/metagensense_complete.jpeg</bold>
        </ext-link>
        <bold>. </bold>
        <bold>It is now the 2nd figure of the article. Moreover all the small figures (steps) are also available in the doc directory of our GitHub repository.</bold>
      </p>
      <p> In the final paragraph, it is stated that MetaGenSense can be easily deployed but looking at the source code in
<ext-link ext-link-type="uri" xlink:href="https://github.com/F1000Research/MetaGenSense"> https://github.com/F1000Research/MetaGenSense</ext-link>, there appears to be a lack of documentation to enable me to do this. For example, which version of Django should I use with MetaGenSense? How do I get the MetaGenSense source code integrated with the Django framework? The LIMS for MetaGenSense uses PostgreSQL; how do I set up this database and get it linked to MetaGenSense? How do I provide MetaGenSense with access to a Galaxy server? I think the authors need to provide this type of information to help readers install MetaGenSense for the authors' source code to be more useful.</p>
      <p>
        <bold>We improved the documentation on our github repository (</bold>
        <ext-link ext-link-type="uri" xlink:href="https://github.com/pgp-pasteur-fr/MetaGenSense">
          <bold>https://github.com/pgp-pasteur-fr/MetaGenSense</bold>
        </ext-link>
        <bold>) with elements facilitating deployment. We completed a README file containing well-informed installation and configuration instructions. We also wrote a UserGuide working with readTheDocs documentation tool (</bold>
        <ext-link ext-link-type="uri" xlink:href="http://metagensense.readthedocs.io">
          <bold>http://metagensense.readthedocs.io</bold>
        </ext-link>
        <bold>).  Don’t hesitate to tell us if parts of the documentation are still a bit blurry. </bold>
      </p>
      <p>
        <bold>We will adapt the manuscript with all your minor corrections and suggestions.</bold>
      </p>
      <p>
        <bold/>
      </p>
      <p>
        <bold> Thank you very much for your review.</bold>
      </p>
    </body>
  </sub-article>
  <sub-article id="comment2204" article-type="response">
    <front-stub>
      <contrib-group>
        <contrib contrib-type="author">
          <name>
            <surname>Li</surname>
            <given-names>Peter</given-names>
          </name>
          <aff>GigaScience, Hong Kong</aff>
        </contrib>
      </contrib-group>
      <author-notes>
        <fn fn-type="COI-statement">
          <p><bold>Competing interests: </bold>No competing interests were disclosed.</p>
        </fn>
      </author-notes>
      <pub-date pub-type="epub">
        <day>27</day>
        <month>9</month>
        <year>2016</year>
      </pub-date>
    </front-stub>
    <body>
      <p>To test the authors' software, it will take over 6 hours for me to download the 2.7 GB machine image provided by the authors. I think this is due to my office internet connection being very slow and because of the fact that I am based in the Far East. Unfortunately, waiting 6 hours plus for the machine image to download is not really practical for me but this is not a fault of the authors.</p>
      <p> I had a look at the instructions to install MetaGenSense which are available from the README.md file in their GitHub repository in an attempt to manually install the software. I feel that the instructions are minimal, for example, the installation requires a requirements.txt file but I could not find one in the MetaGenSense repo. You would need to know that the contents of requirements.txt are listed at the start of the manual installation instructions. The installation instructions also rely on the user doing background reading to find out how to install and use MetaGenSense's dependencies, for example, virtualenv and a database server.</p>
    </body>
  </sub-article>
  <sub-article id="comment2301" article-type="response">
    <front-stub>
      <contrib-group>
        <contrib contrib-type="author">
          <name>
            <surname>Doppelt-Azeroual</surname>
            <given-names>Olivia</given-names>
          </name>
          <aff>Institut Pasteur, France</aff>
        </contrib>
      </contrib-group>
      <author-notes>
        <fn fn-type="COI-statement">
          <p><bold>Competing interests: </bold>None</p>
        </fn>
      </author-notes>
      <pub-date pub-type="epub">
        <day>21</day>
        <month>11</month>
        <year>2016</year>
      </pub-date>
    </front-stub>
    <body>
      <p>Dear Peter Li,</p>
      <p> Thank you for your review and remarks.</p>
      <p> Since last August, we asked a non familiar with MetaGenSense colleague to read and install locally the application. This exercise has enabled us to clarify some points. We simplified the README file (https://github.com/pgp-pasteur-fr/MetaGenSense) and added significant details to the installation procedure part in the readthedocs documentation:
<list list-type="bullet"><list-item><p>As you mentioned, the virtualenv installation procedure has been added.</p></list-item><list-item><p>We also clarified the part concerning the requirements, i.e. the developer needs to copy the three requirements in a requirements.txt file and use the “pip” command to install them.
<ext-link ext-link-type="uri" xlink:href="http://metagensense.readthedocs.io/en/latest/installation.html#requirements">http://metagensense.readthedocs.io/en/latest/installation.html#requirements</ext-link>
</p></list-item><list-item><p>The part concerning the database configuration has also been a bit modified in order to be clearer.</p></list-item></list> We hope the changes applied recently enable you to successfully install MetaGenSense.</p>
      <p> Best regards,</p>
      <p> Olivia Doppelt-Azeroual</p>
    </body>
  </sub-article>
</sub-article>
