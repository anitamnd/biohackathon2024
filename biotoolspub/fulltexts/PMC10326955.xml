<?properties open_access?>
<?DTDIdentifier.IdentifierValue -//Springer-Verlag//DTD A++ V2.4//EN?>
<?DTDIdentifier.IdentifierType public?>
<?SourceDTD.DTDName A++V2.4.dtd?>
<?SourceDTD.Version 2.4?>
<?ConverterInfo.XSLTName springer2nlmx2.xsl?>
<?ConverterInfo.Version 1?>
<processing-meta base-tagset="archiving" mathml-version="3.0" table-model="xhtml" tagset-family="jats">
  <restricted-by>pmc</restricted-by>
</processing-meta>
<front>
  <journal-meta>
    <journal-id journal-id-type="nlm-ta">BMC Health Serv Res</journal-id>
    <journal-id journal-id-type="iso-abbrev">BMC Health Serv Res</journal-id>
    <journal-title-group>
      <journal-title>BMC Health Services Research</journal-title>
    </journal-title-group>
    <issn pub-type="epub">1472-6963</issn>
    <publisher>
      <publisher-name>BioMed Central</publisher-name>
      <publisher-loc>London</publisher-loc>
    </publisher>
  </journal-meta>
  <article-meta>
    <article-id pub-id-type="pmcid">10326955</article-id>
    <article-id pub-id-type="pmid">37415138</article-id>
    <article-id pub-id-type="publisher-id">9498</article-id>
    <article-id pub-id-type="doi">10.1186/s12913-023-09498-1</article-id>
    <article-categories>
      <subj-group subj-group-type="heading">
        <subject>Software</subject>
      </subj-group>
    </article-categories>
    <title-group>
      <article-title>FHIR-PYrate: a data science friendly Python package to query FHIR servers</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author" equal-contrib="yes">
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0003-1760-2342</contrib-id>
        <name>
          <surname>Hosch</surname>
          <given-names>René</given-names>
        </name>
        <xref ref-type="aff" rid="Aff1">1</xref>
        <xref ref-type="aff" rid="Aff2">2</xref>
      </contrib>
      <contrib contrib-type="author" corresp="yes" equal-contrib="yes">
        <contrib-id contrib-id-type="orcid">http://orcid.org/0000-0002-5929-0271</contrib-id>
        <name>
          <surname>Baldini</surname>
          <given-names>Giulia</given-names>
        </name>
        <address>
          <email>giulia.baldini@uk-essen.de</email>
        </address>
        <xref ref-type="aff" rid="Aff1">1</xref>
        <xref ref-type="aff" rid="Aff2">2</xref>
      </contrib>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0002-0383-0435</contrib-id>
        <name>
          <surname>Parmar</surname>
          <given-names>Vicky</given-names>
        </name>
        <xref ref-type="aff" rid="Aff1">1</xref>
        <xref ref-type="aff" rid="Aff2">2</xref>
      </contrib>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0001-6987-6041</contrib-id>
        <name>
          <surname>Borys</surname>
          <given-names>Katarzyna</given-names>
        </name>
        <xref ref-type="aff" rid="Aff1">1</xref>
        <xref ref-type="aff" rid="Aff2">2</xref>
      </contrib>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0001-9704-1180</contrib-id>
        <name>
          <surname>Koitka</surname>
          <given-names>Sven</given-names>
        </name>
        <xref ref-type="aff" rid="Aff1">1</xref>
        <xref ref-type="aff" rid="Aff2">2</xref>
      </contrib>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0002-8463-8786</contrib-id>
        <name>
          <surname>Engelke</surname>
          <given-names>Merlin</given-names>
        </name>
        <xref ref-type="aff" rid="Aff1">1</xref>
        <xref ref-type="aff" rid="Aff2">2</xref>
      </contrib>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid">https://orcid.org/0009-0005-6074-804X</contrib-id>
        <name>
          <surname>Arzideh</surname>
          <given-names>Kamyar</given-names>
        </name>
        <xref ref-type="aff" rid="Aff2">2</xref>
        <xref ref-type="aff" rid="Aff3">3</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Ulrich</surname>
          <given-names>Moritz</given-names>
        </name>
        <xref ref-type="aff" rid="Aff2">2</xref>
        <xref ref-type="aff" rid="Aff3">3</xref>
      </contrib>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0002-5811-7100</contrib-id>
        <name>
          <surname>Nensa</surname>
          <given-names>Felix</given-names>
        </name>
        <xref ref-type="aff" rid="Aff1">1</xref>
        <xref ref-type="aff" rid="Aff2">2</xref>
      </contrib>
      <aff id="Aff1"><label>1</label><institution-wrap><institution-id institution-id-type="GRID">grid.410718.b</institution-id><institution-id institution-id-type="ISNI">0000 0001 0262 7331</institution-id><institution>Institute of Interventional and Diagnostic Radiology and Neuroradiology, </institution><institution>University Hospital Essen, </institution></institution-wrap>Hufelandstraße 55, Essen, 45147 Germany </aff>
      <aff id="Aff2"><label>2</label><institution-wrap><institution-id institution-id-type="GRID">grid.410718.b</institution-id><institution-id institution-id-type="ISNI">0000 0001 0262 7331</institution-id><institution>Institute for Artificial Intelligence in Medicine, </institution><institution>University Hospital Essen, </institution></institution-wrap>Girardetstraße 2, Essen, 45131 Germany </aff>
      <aff id="Aff3"><label>3</label><institution-wrap><institution-id institution-id-type="GRID">grid.410718.b</institution-id><institution-id institution-id-type="ISNI">0000 0001 0262 7331</institution-id><institution>Central IT Department, Data Integration Center, </institution><institution>University Hospital Essen, </institution></institution-wrap>Hufelandstraße 55, Essen, 45147 Germany </aff>
    </contrib-group>
    <pub-date pub-type="epub">
      <day>6</day>
      <month>7</month>
      <year>2023</year>
    </pub-date>
    <pub-date pub-type="pmc-release">
      <day>6</day>
      <month>7</month>
      <year>2023</year>
    </pub-date>
    <pub-date pub-type="collection">
      <year>2023</year>
    </pub-date>
    <volume>23</volume>
    <elocation-id>734</elocation-id>
    <history>
      <date date-type="received">
        <day>23</day>
        <month>9</month>
        <year>2022</year>
      </date>
      <date date-type="accepted">
        <day>3</day>
        <month>5</month>
        <year>2023</year>
      </date>
    </history>
    <permissions>
      <copyright-statement>© The Author(s) 2023</copyright-statement>
      <license>
        <ali:license_ref specific-use="textmining" content-type="ccbylicense">https://creativecommons.org/licenses/by/4.0/</ali:license_ref>
        <license-p><bold>Open Access</bold> This article is licensed under a Creative Commons Attribution 4.0 International License, which permits use, sharing, adaptation, distribution and reproduction in any medium or format, as long as you give appropriate credit to the original author(s) and the source, provide a link to the Creative Commons licence, and indicate if changes were made. The images or other third party material in this article are included in the article's Creative Commons licence, unless indicated otherwise in a credit line to the material. If material is not included in the article's Creative Commons licence and your intended use is not permitted by statutory regulation or exceeds the permitted use, you will need to obtain permission directly from the copyright holder. To view a copy of this licence, visit <ext-link ext-link-type="uri" xlink:href="https://creativecommons.org/licenses/by/4.0/">http://creativecommons.org/licenses/by/4.0/</ext-link>. The Creative Commons Public Domain Dedication waiver (<ext-link ext-link-type="uri" xlink:href="https://creativecommons.org/publicdomain/zero/1.0/">http://creativecommons.org/publicdomain/zero/1.0/</ext-link>) applies to the data made available in this article, unless otherwise stated in a credit line to the data.</license-p>
      </license>
    </permissions>
    <abstract id="Abs1">
      <sec>
        <title>Background</title>
        <p id="Par1">We present FHIR-PYrate, a Python package to handle the full clinical data collection and extraction process. The software is to be plugged into a modern hospital domain, where electronic patient records are used to handle the entire patient’s history. Most research institutes follow the same procedures to build study cohorts, but mainly in a non-standardized and repetitive way. As a result, researchers spend time writing boilerplate code, which could be used for more challenging tasks.</p>
      </sec>
      <sec>
        <title>Methods</title>
        <p id="Par2">The package can improve and simplify existing processes in the clinical research environment. It collects all needed functionalities into a straightforward interface that can be used to query a FHIR server, download imaging studies and filter clinical documents. The full capacity of the search mechanism of the FHIR REST API is available to the user, leading to a uniform querying process for all resources, thus simplifying the customization of each use case. Additionally, valuable features like parallelization and filtering are included to make it more performant.</p>
      </sec>
      <sec>
        <title>Results</title>
        <p id="Par3">As an exemplary practical application, the package can be used to analyze the prognostic significance of routine CT imaging and clinical data in breast cancer with tumor metastases in the lungs. In this example, the initial patient cohort is first collected using ICD-10 codes. For these patients, the survival information is also gathered. Some additional clinical data is retrieved, and CT scans of the thorax are downloaded. Finally, the survival analysis can be computed using a deep learning model with the CT scans, the TNM staging and positivity of relevant markers as input. This process may vary depending on the FHIR server and available clinical data, and can be customized to cover even more use cases.</p>
      </sec>
      <sec>
        <title>Conclusions</title>
        <p id="Par4">FHIR-PYrate opens up the possibility to quickly and easily retrieve FHIR data, download image data, and search medical documents for keywords within a Python package. With the demonstrated functionality, FHIR-PYrate opens an easy way to assemble research collectives automatically.</p>
      </sec>
    </abstract>
    <kwd-group xml:lang="en">
      <title>Keywords</title>
      <kwd>Electronic patient record</kwd>
      <kwd>FHIR</kwd>
      <kwd>Python</kwd>
      <kwd>Dataframe</kwd>
      <kwd>Information extraction</kwd>
      <kwd>Dicom</kwd>
    </kwd-group>
    <funding-group>
      <award-group>
        <funding-source>
          <institution>Universitätsklinikum Essen (8912)</institution>
        </funding-source>
      </award-group>
      <open-access>
        <p>Open Access funding enabled and organized by Projekt DEAL.</p>
      </open-access>
    </funding-group>
    <custom-meta-group>
      <custom-meta>
        <meta-name>issue-copyright-statement</meta-name>
        <meta-value>© BioMed Central Ltd., part of Springer Nature 2023</meta-value>
      </custom-meta>
    </custom-meta-group>
  </article-meta>
</front>
<body>
  <sec id="Sec1">
    <title>Introduction</title>
    <p id="Par28">The HL7 (<italic>Heath Level Seven</italic>) FHIR (<italic>Fast Healthcare Interoperability Resources</italic>) standard [<xref ref-type="bibr" rid="CR1">1</xref>] is steadily developing into the healthcare standard for semantic interoperable data exchange [<xref ref-type="bibr" rid="CR2">2</xref>]. Clinical routines are not exempt from the digitalization process that the world is currently experiencing [<xref ref-type="bibr" rid="CR3">3</xref>, <xref ref-type="bibr" rid="CR4">4</xref>]. As a consequence, hospitals are evolving and adapting. Many hospitals and healthcare organizations are already using EHRs (<italic>Electronic Health Records</italic>) to store and manage patient health information [<xref ref-type="bibr" rid="CR5">5</xref>]. The ONC (<italic>Office of the National Coordinator for Health Information Technology</italic>) estimated that in 2021 in the US “nearly 4 in 5 office-based physicians (78%) and nearly all non-federal acute care hospitals (96%) adopted a certified EHR” [<xref ref-type="bibr" rid="CR6">6</xref>]. EHRs can help to improve the quality and safety of patient care by providing healthcare providers with access to up-to-date and accurate patient information [<xref ref-type="bibr" rid="CR7">7</xref>–<xref ref-type="bibr" rid="CR9">9</xref>]. However, EHRs can also create challenges for data exchange between different healthcare systems, as there are often multiple EHR systems in use [<xref ref-type="bibr" rid="CR10">10</xref>]. To address these challenges, healthcare organizations may use a variety of systems and standards for data exchange, such as HL7 v2 [<xref ref-type="bibr" rid="CR1">1</xref>], HL7 v3 [<xref ref-type="bibr" rid="CR1">1</xref>], HL7 CDA (<italic>Clinical Document Architecture</italic>) [<xref ref-type="bibr" rid="CR11">11</xref>], openEHR [<xref ref-type="bibr" rid="CR12">12</xref>] or HL7 FHIR [<xref ref-type="bibr" rid="CR1">1</xref>]. However, FHIR is the newest and most widely used one [<xref ref-type="bibr" rid="CR1">1</xref>, <xref ref-type="bibr" rid="CR2">2</xref>, <xref ref-type="bibr" rid="CR13">13</xref>]. The ONC estimated that in 2019 “84% of hospitals and 61% of clinicians adopted and implemented 2015 Edition certified API technology enabled with FHIR” and that the trend is expected to continue [<xref ref-type="bibr" rid="CR14">14</xref>]. Furthermore, FHIR is not only utilized in clinical practice but is also a subject of ongoing research and development [<xref ref-type="bibr" rid="CR15">15</xref>–<xref ref-type="bibr" rid="CR20">20</xref>]. One of the main advantages of FHIR is its uniform structure and reproducibility for all information created within clinical workflows. This strive for standardization is especially needed in the world of hospital data, which includes multiple manufacturers, standards, and ways to store the overall complex clinical data. Because of the considerable success of this standard, manufacturers of medical applications have already started integrating it into their tools. Notable examples are the AI-Pathway Companion [<xref ref-type="bibr" rid="CR21">21</xref>] and the Azure Health Data Services API (<italic>Application Programming Interface</italic>) [<xref ref-type="bibr" rid="CR22">22</xref>], but other well-known companies also rely on open interfaces such as FHIR to facilitate interoperability [<xref ref-type="bibr" rid="CR23">23</xref>, <xref ref-type="bibr" rid="CR24">24</xref>].</p>
    <p id="Par29">Together with the popularity of FHIR, machine learning applications and studies in clinical context have also steadily increased [<xref ref-type="bibr" rid="CR25">25</xref>]. For the year 2022, 13,931 articles can be found on PubMed by searching for results including both "machine learning" or "artificial intelligence" and "healthcare" or "clinical", a number that is higher than any of the previous years. Thus, it is not only important to have a standard for the data format (FHIR), but also to build a uniform way to easily extract data and to transfer them into formats preferred for machine learning. As technology advances, multimodal models (i.e., accepting both images, unstructured text and structured information) are also becoming more and more relevant [<xref ref-type="bibr" rid="CR26">26</xref>], yielding that FHIR is also going to be part of previously only image-based pipelines.</p>
    <p id="Par30">The paper has the following structure. First, the “<xref rid="Sec2" ref-type="sec">Background</xref>” section defines and introduces basic FHIR terminology, resources, and components. In addition, an overview of the current number of FHIR resources is given using the example of the University Hospital Essen, comparable tools are discussed and the advantages of FHIR-PYrate are explained. Subsequently, all important components and functions of the package are presented in the "<xref rid="Sec3" ref-type="sec">Implementation</xref>" section. Subsequently, in the "<xref rid="Sec12" ref-type="sec">Results</xref>" section, an application-oriented example of a cohort compilation of metastatic breast cancer patients with the help of FHIR-PYrate is presented. Finally, in the "<xref rid="Sec14" ref-type="sec">Conclusion</xref>" and "<xref rid="Sec13" ref-type="sec">Discussion</xref>" sections advantages of the tool are described and a final conclusion about the capabilities of the package is drawn.</p>
  </sec>
  <sec id="Sec2">
    <title>Background</title>
    <p id="Par31">Since many FHIR-related terms are used in this paper, the FHIR specification will be introduced first. The FHIR standard builds an abstraction layer on top of one or many databases, where healthcare-related data are stored. This abstraction provides an intuitive and semantically interoperable data exchange, where every single entity can be described as one object or, in FHIR terms, one resource. In general, FHIR (in version R4B) includes 140 different resource definitions [<xref ref-type="bibr" rid="CR27">27</xref>]. Based on these definitions, all types of hospital data collected within the clinical routine can be categorized and stored in a structured way. This includes, for example, patient data, image data, laboratory values, ward assignments, procedures, medications, medical documents, and many more. In the following, we will briefly describe four resources: Patient, DiagnosticReport, ImagingStudy, Observation, and Bundle.</p>
    <p id="Par32">Almost every data point created within the clinical routine is associated with a patient. Thus, the Patient resource is often the basis for creating and collecting cohorts. This resource contains relevant data such as gender, age, date of birth, or addresses, and also information about the vital status. Attributes can, in turn, have further nested attributes to describe a specific setting more precisely. For example, the patient's multiple addresses could be represented by a list with attributes such as city, address line, and postal code. This yields that a resource might have an arbitrarily complex structure but still conform to the standard. Another essential resource is DiagnosticReport, which includes medical documents such as radiological findings, pathological findings, doctor's letters, and many more. In addition, FHIR offers the possibility to map all imaging data in the form of the ImagingStudy resource. This means that all types of imaging modalities such as CT (<italic>Computed Tomography</italic>), MRI (<italic>Magnetic Resonance Imaging</italic>), ultrasound, or X-ray are available in a structured way, and entire studies, including the corresponding series, can be mapped. It is important to note though, that the image payload, in particular the pixel data, is not contained in the ImagingStudy resource but normally provided via references to a specialized service like a DICOM (<italic>Digital Imaging and Communications in Medicine</italic>) or DICOMweb server. Finally, Observation is a versatile resource, which offers a structure for any measured value, such as laboratory values but also short text like clinical notes. All resources in FHIR have their own unique ID but can be combined per patient via the associated patient ID. The communication with the FHIR server is carried out with a standardized REST (<italic>REpresentational State Transfer</italic>) protocol [<xref ref-type="bibr" rid="CR1">1</xref>], which allows for creating, reading, replacing, modifying or deleting data. The server returns a FHIR Bundle, which is a collection of FHIR resources matching the search parameters with additional metadata related to the search results. Other uses of Bundles include transactionally modifying multiple resources, or grouping multiple related resources into a coherent view. Thus, FHIR provides the basic framework to retrieve clinical data in a structured way. While the FHIR specification itself allows many degrees of freedom with respect to the type and cardinality of the attributes of FHIR resources, so-called FHIR profiles are used to concretize the semantically interoperable exchange data.</p>
    <p id="Par33">At our institution, the FHIR servers store over 1 billion FHIR resources (see Fig. <xref rid="Fig1" ref-type="fig">1</xref>). These encompass approximately 4.6 million imaging studies, 45 million fully indexed clinical text documents, and 389 million clinical observations from more than 3 million patients, as presented in Fig. <xref rid="Fig1" ref-type="fig">1</xref>. Thus, it is particularly relevant to have a fast, simple, parallelizable tool that lets the client leverage the capabilities of the FHIR REST API and handle the most expensive steps server-side.
<fig id="Fig1"><label>Fig. 1</label><caption><p>Resource statistics at our institution. The plot shows the distribution of the 1,498,863,142 resources present on our FHIR server as of 2023–03-13. The most common resource is ServiceRequest, which is used for records of requests for procedures, diagnostics, or any other service. The second most common is Observation, which stores measurements like lab values, vital parameters but also small texts like clinical notes</p></caption><graphic xlink:href="12913_2023_9498_Fig1_HTML" id="MO1"/></fig></p>
    <p id="Par34">Although this standard has excellent capabilities for exchanging data in a semantically interoperable manner, it is not optimal for statistical data analysis or machine learning in its primary form. Recent studies and tools use preprocessing on FHIR resources to limit and select the input for statistical analysis [<xref ref-type="bibr" rid="CR28">28</xref>–<xref ref-type="bibr" rid="CR30">30</xref>]. However, there also exist deep learning pipelines that use preprocessing and tokenization of FHIR resources to make predictions [<xref ref-type="bibr" rid="CR31">31</xref>]. Nonetheless, this is still not feasible for statistical software or for purely clinical studies. FHIR resources are typically nested, and their degree of complexity is usually unbounded, while data structures used for data science (e.g., pandas’ <italic>DataFrames</italic> [<xref ref-type="bibr" rid="CR32">32</xref>, <xref ref-type="bibr" rid="CR33">33</xref>] for Python, data frames in R) are often tabular data. This mismatch calls for a fast, simple, and easy-to-use tool that acts as a bridge between FHIR and the data science world. We aim to build a simple Python abstraction utilizing the existing FHIR REST API functionalities, giving the user complete control over the queries and providing results as pandas <italic>DataFrames</italic>. The desire for an easy-to-use package for interacting with FHIR servers and data is not new. For example, the fhircrackr [<xref ref-type="bibr" rid="CR30">30</xref>] package was built to provide an interface for the automated extraction of FHIR data in the R programming language. In addition, several Python-based packages exist. The client-py [<xref ref-type="bibr" rid="CR34">34</xref>] package has a query functionality and builds FHIR resources as object classes, but does not deal with <italic>DataFrames</italic>. Similarly, the fhir.resources [<xref ref-type="bibr" rid="CR35">35</xref>] package builds object classes from the FHIR resources and validates them against the FHIR standard requirements, which can sometimes cause problems, as not all FHIR servers follow the standard strictly. Another package, fhir-py [<xref ref-type="bibr" rid="CR36">36</xref>], performs asynchronous calls and allows for saving resources, but is also more focused on data retrieval from the FHIR server. Finally, fhirpack [<xref ref-type="bibr" rid="CR37">37</xref>] has the same purpose as our package but with a different focus and structure in mind.</p>
    <p id="Par35">Three of the mentioned tools offer an interface for FHIR data extraction, but client-py and fhir-py are more focused on pure data extraction. In addition, the tools mentioned have no support for structured data export, e.g., into pandas <italic>DataFrames</italic>. Only fhirpack also tries to save the data in a structured way. However, this tool is more interested in an abstraction of the FHIR logic, and thus many FHIR mechanisms are not made accessible to the user.</p>
    <p id="Par36">The key features of our tool are:<list list-type="bullet"><list-item><p id="Par37">• Easy to use, as the examples present on the project website can be easily customized to cover any use case.</p></list-item><list-item><p id="Par38">• Works with all FHIR resources and does not need customization.</p></list-item><list-item><p id="Par39">• The user has control over the attributes that will be extracted. They can either extract the entire resource or have multiple options to select which attributes are relevant.</p></list-item><list-item><p id="Par40">• Supports FHIRPath [<xref ref-type="bibr" rid="CR38">38</xref>], which is a standardized syntax similar to the one of JSONPath [<xref ref-type="bibr" rid="CR39">39</xref>]. The relevant information can be selected by specifying the attribute path, or by enforcing conditions such as existence or equality.</p></list-item><list-item><p id="Par41">• Combines clinical data as well as DICOM support (if a connection to a DICOMweb compliant imaging storage is available).</p></list-item><list-item><p id="Par42">• Text mining support for medical documents.</p></list-item></list></p>
    <p id="Par43">The tool is supposed to integrate into a modern hospital's broader healthcare infrastructure, as described in Fig. <xref rid="Fig2" ref-type="fig">2</xref>. In this architecture, the clinical data comes from multiple sources, and can, for example, be transformed using ETL (<italic>Extract, Transform and Load</italic>) processes before being imported into the FHIR server. The clinical data may come from different systems, such as: LIS (<italic>Laboratory Information System</italic>), CIS (<italic>Clinical Information System</italic>), VCF (<italic>Variant Call Format</italic>) files, SAP (<italic>System Analysis Program development</italic>) and medication workflow solutions. The imaging data is stored in a RIS (<italic>Radiology Information System</italic>) or in a PACS (<italic>Picture Archiving and Communication System</italic>), which usually also have a DICOMweb interface [<xref ref-type="bibr" rid="CR40">40</xref>]. The research domain is a separated system where the FHIR data is anonymized or pseudoanonymized, and can thus be used for cohort management of clinical studies and to build machine learning solutions. Using these, multiple AI (<italic>Artificial Intelligence</italic>) applications can be implemented for research purposes, for example, to compute automatic segmentations [<xref ref-type="bibr" rid="CR41">41</xref>, <xref ref-type="bibr" rid="CR42">42</xref>], or for risk analysis [<xref ref-type="bibr" rid="CR43">43</xref>]. Additionally, commercial AI software may also be included into the infrastructure [<xref ref-type="bibr" rid="CR44">44</xref>], which can in turn be used to optimize the clinical workflows and for additional clinical studies.
<fig id="Fig2"><label>Fig. 2</label><caption><p>Overview of the tool’s role in the healthcare/machine learning picture. Presentation of an exemplary hospital infrastructure including multiple apps: a FHIR server, a DICOM Web capable PACS (or alternatively an app that handles the communication to the medical imaging storage), and various AI applications. Within the research domain, the FHIR-PYrate package handles the communication between the FHIR server and the PACS (DICOM Web). The package also helps with creating the data prerequisites needed for implementing machine learning solutions and for creating cohorts</p></caption><graphic xlink:href="12913_2023_9498_Fig2_HTML" id="MO2"/></fig></p>
    <p id="Par44">The package is of aid for researchers to implement machine learning solutions and statistical analysis and for doctors to build cohorts of patients for studies. A cohort is a collection of patients that can be grouped according to a particular characteristic. A cohort can be built only with clinical data (e.g., Observation, Condition) but also with imaging data. For example, it is often the case that there is interest in collecting all patients based on a certain diagnosis or treatment. Then, for example, all CT scans of the abdomen could be collected and downloaded for these patients. This process is exactly one of the strengths of the package: Being able to build any cohort, regardless of the resource or even chain of resources. If the CT scans should also be downloaded for further analysis, it is also essential to have direct communication to the FHIR server and to a PACS, where the imaging studies are stored.</p>
  </sec>
  <sec id="Sec3">
    <title>Implementation</title>
    <p id="Par45">The package is open source and available under the following link: <ext-link ext-link-type="uri" xlink:href="https://github.com/UMEssen/FHIR-PYrate">https://github.com/UMEssen/FHIR-PYrate</ext-link>. It can be installed with the pip Python package manager and all relevant information for installation and usage are reported on GitHub. The package is built on four main classes: <italic>Ahoy</italic>, <italic>Pirate</italic>, <italic>DICOMDownloader</italic>, and <italic>Miner</italic>, as presented in Fig. <xref rid="Fig3" ref-type="fig">3</xref>. In the following, we will describe their implementation and explain our stylistic choices. Most FHIR servers require authentication to access clinical data as a prerequisite for data extraction. The <italic>Ahoy</italic> class was implemented for this eventuality, supporting basic HTTP and token authentication. Its primary purpose is to create an HTTP object with the necessary headers for a later connection to a specific FHIR server. Additionally, this class ensures that the token stays up-to-date by either refreshing or reauthenticating the session.
<fig id="Fig3"><label>Fig. 3</label><caption><p>A schematic view of the package structure. The <italic>Ahoy</italic> class handles the user's authentication and creates an HTTP session, which the other classes will then use to interact with the FHIR server. The <italic>Pirate</italic> class handles the communication with the REST API, collects Bundles, and builds the <italic>DataFrames</italic>. The <italic>Miner</italic> class is to be used on a <italic>DataFrame</italic> (normally the result of a DiagnosticReport query), and it will output a report on whether a particular regular expression is present in a text, and in which particular parts of the documents. The <italic>DICOMDownloader</italic> class is used to download medical imaging scans in bulk and store information about them. The <italic>Miner</italic> and the <italic>DICOMDownloader</italic> class are connected with dashed lines, as they can be used as an optional step after retrieving the initial data</p></caption><graphic xlink:href="12913_2023_9498_Fig3_HTML" id="MO3"/></fig></p>
    <sec id="Sec4">
      <title>Pirate</title>
      <p id="Par46">The <italic>Pirate</italic> class is the main interaction point for the data collection and handles all the communication with the FHIR server. The main idea of this class is to allow an easy collection and handling of clinical cohorts for researchers and doctors by using common data structures such as tabular data, which can, in turn, be converted to Excel files. In general, with an instance of the <italic>Pirate</italic> class, it is possible to access all FHIR resources (as shown in Fig. <xref rid="Fig4" ref-type="fig">4</xref>) and to use all implemented FHIR search parameters. The user has full control over the queries and can decide which operations should be done server-side by the FHIR server and which ones should be done client-side within the Python program. The Pirate class can handle all search parameters supported by the server, allowing for easy customization since each FHIR server may designate different parameters. Additionally, the user can also request a Bundle containing the edit history of a particular resource.
<fig id="Fig4"><label>Fig. 4</label><caption><p>Schematic view of the process within the <italic>Pirate</italic> class. The <italic>Pirate</italic> class can be used with any existing resource, and data retrieval processes remain unchanged. In this figure, the querying process for the pictured resources is always the same: First, a query has to be defined and run, then, a FHIR Bundle is returned, and finally, the Bundle is transformed into a <italic>DataFrame</italic></p></caption><graphic xlink:href="12913_2023_9498_Fig4_HTML" id="MO4"/></fig></p>
      <p id="Par47">The functions contained in the <italic>Pirate</italic> class have one of three objectives:<list list-type="order"><list-item><p id="Par48"><bold>Request to</bold> Bundle: They handle the communication with the FHIR server, run the query and return the FHIR resources in the form of a list of Python objects representing the Bundles.</p></list-item><list-item><p id="Par49">Bundle <bold>to</bold>
<bold><italic>DataFrame</italic></bold>: They map the data in the obtained Bundles to <italic>DataFrames</italic>. In our schema, a row usually represents one resource.</p></list-item><list-item><p id="Par50"><bold>Facade functionality</bold>: They combine the functionalities of 1 and 2 to make querying and obtaining <italic>DataFrames</italic> more convenient.</p></list-item></list></p>
      <p id="Par51">Additionally, the functions can either:<list list-type="simple"><list-item><label>a</label><p id="Par52">run a query only according to the resource type and request parameters, or</p></list-item><list-item><label>b</label><p id="Par53">run a query according to the resource type, request parameters, and constraints given by an existing <italic>DataFrame</italic>.</p></list-item></list></p>
      <p id="Par54">The <italic>Pirate</italic> class has seven main data retrieval functions. The steal_bundles function takes the input request parameter and runs one single query on the FHIR server and collects the returned data as Python objects. The sail_through_search_space function uses concurrent processes to speed up the data retrieval. Usually, the user is interested in resources coming from a particular time frame. This function divides the desired time frame into as many time spans as there are processes available, and runs one query for each span. The trade_rows_for_bundles function also uses concurrent processes, but this time by spawning one process for each row of the input <italic>DataFrame</italic>. In fact, this function can be used when, for example, a cohort definition is already defined in a <italic>DataFrame</italic>, and we would like to retrieve information related to each single row. The function uses the given request parameters together with the constraints that are given by the <italic>DataFrame</italic> to build as many queries as there are rows, that are then run concurrently. The bundles_to_dataframe function takes the input of the previous functions and transforms it into a <italic>DataFrame</italic> by transforming the Bundles into rows. As per default, all FHIR attributes are stored in the final <italic>DataFrame</italic>, but some filtering mechanisms can also be used, which will be described later.</p>
      <p id="Par55">The steal_bundles_to_dataframe, sail_through_search_space_to_dataframe and trade_rows_for_dataframe are functions that combine their non-<italic>DataFrame</italic> variant with the bundles_to_dataframe function and perform both operations together. The trade_rows_for_dataframe function also has the option to add the original columns as columns to the final DataFrame to make further processing easier. A summary of the functions and their roles is presented in Table <xref rid="Tab1" ref-type="table">1</xref>.<table-wrap id="Tab1"><label>Table 1</label><caption><p>Overview of the <italic>Pirate</italic> functions and of their capabilities. The functions of type 1 handle the conversion from query to Bundle, while the ones of type 2 build <italic>DataFrames</italic> from the Bundles. The functions of type 3 are facade functions that combine the functionalities of type 1 and 2 for convenience. Additionally, we have functions that only retrieve data according to the request parameters (type a), and functions that take a <italic>DataFrame</italic> as input and process all the rows (type b). Furthermore, we also support concurrent querying and computing for all functions but one, which is not parallelizable, as it only runs one query</p></caption><table frame="hsides" rules="groups"><thead><tr><th align="left" rowspan="2">Function</th><th align="left" rowspan="2">Type</th><th align="left" rowspan="2">Constraints on <italic>DataFrame</italic></th><th align="left" colspan="2">Parallel</th></tr><tr><th align="left"><bold>Queries</bold></th><th align="left"><bold><italic>DataFrame</italic></bold><bold> Building</bold></th></tr></thead><tbody><tr><td align="left">steal_bundles</td><td align="left">1a. Request to Bundle</td><td align="left">No</td><td align="left">No</td><td align="left">/</td></tr><tr><td align="left">sail_through_search_space</td><td align="left">1a. Request to Bundle</td><td align="left">No</td><td align="left">Yes</td><td align="left">/</td></tr><tr><td align="left">trade_rows_for_bundles</td><td align="left">1b. Request to Bundle</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">/</td></tr><tr><td align="left">bundles_to_dataframe</td><td align="left">2. Bundle to <italic>DataFrame</italic></td><td align="left">/</td><td align="left">/</td><td align="left">Yes</td></tr><tr><td align="left">steal_bundles_to_dataframe</td><td align="left">3a. Facade (1 + 2)</td><td align="left">No</td><td align="left">No</td><td align="left">Yes</td></tr><tr><td align="left">sail_through_search_space_to_dataframe</td><td align="left">3a. Facade (1 + 2)</td><td align="left">No</td><td align="left">Yes</td><td align="left">Yes</td></tr><tr><td align="left">trade_rows_for_dataframe</td><td align="left">3b. Facade (1 + 2)</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td></tr></tbody></table></table-wrap></p>
      <p id="Par56">For example, a specific use case for the application of FHIR-PYrate would be the extraction of all CT scans from patients with a certain disease. One way to address this problem is to first find all Observation resources with a certain ICD (<italic>International Classification of Diseases</italic>) code [<xref ref-type="bibr" rid="CR45">45</xref>], then use these resources to retrieve the Patient resources, and finally collect all the ImagingStudy resources for these patients. This can be achieved with two FHIR-PYrate queries, which are presented in Fig. <xref rid="Fig5" ref-type="fig">5</xref>.<fig id="Fig5"><label>Fig. 5</label><caption><p>Retrieval of all CT studies for patients with scoliosis. Two FHIR-PYrate queries can be used to obtain all CT studies belonging to patients which suffer from scoliosis. The first query is for the Condition resource, while the second one is for the ImagingStudy resource. The request parameters for the FHIR server are specified using the request_params parameter. The df_constraints parameter is used to specify request parameters that should be constrained according to each row of the input <italic>DataFrame</italic>. The fhir_paths parameter selects which attribute of the resource should be returned</p></caption><graphic xlink:href="12913_2023_9498_Fig5_HTML" id="MO5"/></fig></p>
      <p id="Par57">The first query is of type 3a, as we just need to specify the kind of resource (Observation), and the required ICD code as a parameter. Each Observation has a reference to the corresponding Patient resource that has a diagnosis. The second query is of type 3b, and takes the kind of resource (ImagingStudy) and the <italic>DataFrame</italic> that we obtained from the previous query as input. Now, a query on ImagingStudy will be run for each row of the <italic>DataFrame</italic> of Observation resources, where the query’s Patient reference will be constrained on the subject of the Observation.</p>
      <p id="Par58">However, it often happens that the FHIR server contains multiple instances of the same patient, as they might be identified by multiple accounts on the hospital’s systems. If the server implements a heuristic that links the Patient resources with the Patient.link attribute (e.g. such as having the same name and date of birth assumes being the same person), then one additional query of type 3b on the <italic>DataFrame</italic> of Observation resources can be used to retrieve all the Patient resources.</p>
      <p id="Par59">As we previously mentioned, FHIR resources can be arbitrarily complex, and thus it is important to implement mechanisms to filter only the needed information. The filtering is run while building the <italic>DataFrames</italic>, so all functions that have <italic>DataFrames</italic> as output support filtering. We offer two kinds of filtering, all Bundle-based:<list list-type="order"><list-item><p id="Par60">Filter using FHIRPath: FHIRPath [<xref ref-type="bibr" rid="CR38">38</xref>] is a standardized query syntax that accesses the desired attributes and performs simple operations such as replacing strings, simple mathematical operations, and checking for existence. The advantage of this is that it is rather easy to store any needed attribute with a small amount of code (as shown in Fig. <xref rid="Fig5" ref-type="fig">5</xref>). In this case, each row of the <italic>DataFrame</italic> represents one resource. We implement this feature with the help of fhirpath-py [<xref ref-type="bibr" rid="CR46">46</xref>], a Python package built exactly for this purpose.</p></list-item><list-item><p id="Par61">Filter using processing functions: Another option is to use a processing function, which can be given as input to the functions that transform the Bundles into <italic>DataFrames</italic>. These functions are always run for each Bundle and can implement any desired logic (example in Fig. <xref rid="Fig6" ref-type="fig">6</xref>). In this case, the <italic>DataFrame</italic> structure can be built arbitrarily, and each row does not necessarily represent one resource.</p></list-item></list><fig id="Fig6"><label>Fig. 6</label><caption><p>Using processing functions. The steal_bundles_to_dataframe retrieves the required Observation resources that contain information about the blood pressure panel. Then, the obtained bundles are transformed to rows by using the get_blood_panel_info function. This function iterates through the entries of a bundle and collects the resource IDs, and then iterates through the component attribute, which contains multiple pieces of information about the blood panel status, in this case, the systolic and the diastolic blood pressure. Each component attribute contains a display name (a natural language name of what is being evaluated), a quantity (the actual measured value) and a unit of measurement. For each piece of information, the display name becomes the column header, the quantity becomes the value, and the unit is stored in an additional column. The table below the figure presents an example output for this query</p></caption><graphic xlink:href="12913_2023_9498_Fig6_HTML" id="MO6"/></fig></p>
      <p id="Par62">Another essential aspect is the possibility to run concurrent processes to more quickly process the queries. This, however, highly depends on the throughput of the FHIR server and on how many requests it can handle. The default number of processes is always one and can be increased freely according to the server’s capabilities.</p>
      <p id="Par63">We implement three kinds of parallelization. First, whenever multiple queries are generated from one <italic>DataFrame</italic> (functions of type a), this can be run in parallel by setting the number of desired processes. Second, the conversion from Bundle to <italic>DataFrame</italic> can also be performed concurrently. Last, if the amount of data to retrieve concerns a vast time span, the time span can be broken into as many time frames as there are processes. For all facade functions supporting multiprocessing, the user can decide whether they want to run the queries first and then build the output <italic>DataFrame</italic>, or whether they want to alternate between running queries and transforming them using the filtering functions. A direct transformation after each bundle retrieval ensures that if a data point does not apply to the filtering schema, the run will stop. If the bundles are retrieved first and then transformed, any errors will occur at the very end. Another notable feature is the possibility to merge information from multiple rows automatically after running a query. This may happen when a query includes resources of another type in the result. For example, a query on ImagingStudy may also want to return the Patient resources (as in Fig. <xref rid="Fig7" ref-type="fig">7</xref>), such that it is possible to process the studies and the patients together. In this case, since we usually expect one row to represent one resource, we would have rows corresponding to ImagingStudy resources, and rows corresponding to Patient resources. By specifying the merge_on flag with the name of the column that should be used for merging resources (in this case, with the same Patient ID), we obtain a <italic>DataFrame</italic> where each row represents an ImagingStudy and that has all the needed information about the patient.<fig id="Fig7"><label>Fig. 7</label><caption><p>Including secondary resources. ImagingStudy resources also contain a reference to the Patient resource they belong to, and using the _include parameter the corresponding Patient resources can be imported in the output Bundle. The attributes that should be added to the final <italic>DataFrame</italic> can be specified with the fhir_paths parameter, where it is also possible to specify from which resource the attribute should come from, to ensure clarity. Usually, one row of the output <italic>DataFrame</italic> represents one entry of a Bundle. By specifying the merge_on parameter, the rows which have the same patient_id are merged, producing a <italic>DataFrame</italic> similar to the table below the figure</p></caption><graphic xlink:href="12913_2023_9498_Fig7_HTML" id="MO7"/></fig></p>
    </sec>
    <sec id="Sec8">
      <title>Miner</title>
      <p id="Par65">Medical findings are often stored in an unstructured manner, especially as free text. Thus, whenever a piece of information is needed from a document, it has to be found manually among all existing documents. Increasingly powerful NLP (<italic>Natural Language Processing</italic>) models have currently been used for named entity recognition to solve this exact problem [<xref ref-type="bibr" rid="CR47">47</xref>–<xref ref-type="bibr" rid="CR49">49</xref>]. However, they usually need some ground truth, are not available for all languages, and they must undergo stringent validation processes to be admitted into the clinical routine. The <italic>Miner</italic> class is supposed to aid NLP pipelines by identifying which documents are possibly relevant to a particular research question.</p>
      <p id="Par66">The main idea of the class is to take a <italic>DataFrame</italic> containing texts and find out whether a user-given regular expression is present in the document, as presented in Fig. <xref rid="Fig8" ref-type="fig">8</xref>. This is done by first converting the text into sentences and then checking whether the regular expression is present in each sentence. As a result, the user is given a summary of the locations of the searched expression, and the number of viable instances. Additionally, it is also possible to give a secondary regular expression as input, and in such cases the result is the sentences that contain the first regular expression and do not contain the secondary one. This process may be useful to find some particular keyword (e.g., sarcoma), but at the same time to remove specific cases that are not interesting for our research question (e.g., osteosarcoma). The sentences are created using the well-known NLP library SpaCy [<xref ref-type="bibr" rid="CR50">50</xref>], while the regular expression matching is done with the Python standard library re [<xref ref-type="bibr" rid="CR51">51</xref>].<fig id="Fig8"><label>Fig. 8</label><caption><p>An overview of the process to identify whether a text contains relevant sentences using the <italic>Miner</italic> class. First, if the document has a specific structure, all the information before a known keyword (e.g., “Findings”) is removed. Then, the sentences are identified using the SpaCy library. For each sentence, the input regular expression is matched against the text and if the sentiment of the sentence is not negative, the sentence is considered a match</p></caption><graphic xlink:href="12913_2023_9498_Fig8_HTML" id="MO8"/></fig></p>
      <p id="Par67">In many cases, clinical documents have a specific structure. For example, documents may always have a header, and the relevant part of the text may always start with the word “Findings”. In such cases, it is beneficial to remove the header, and this can be done by giving these specific keywords as input to the ​​nlp_on_dataframe function (Fig. <xref rid="Fig9" ref-type="fig">9</xref>). This class function handles the entire described process, and if requested, the rows of the <italic>DataFrame</italic> can also be examined concurrently using multiple processes.<fig id="Fig9"><label>Fig. 9</label><caption><p>Example <italic>Miner </italic>Query. The <italic>Miner</italic> class is first initialized, then, a <italic>DataFrame</italic> containing the text documents in a specified column is processed using the nlp_on_dataframe function. However, the data may not be stored as readable text on the FHIR server (e.g. may be stored as HTML, encoded). For this purpose, a processing function to preprocess the text may be specified, in this case, decode_text</p></caption><graphic xlink:href="12913_2023_9498_Fig9_HTML" id="MO9"/></fig></p>
    </sec>
    <sec id="Sec10">
      <title>DICOMDownloader</title>
      <p id="Par68">In recent years, deep learning for medical imaging has become a very active field of research, resulting in a great need for direct and automatable access to image data by data scientists. Most imaging studies conducted within the clinical routine are stored in a PACS using the DICOM format. In our system, the DICOM studies are referenced as resources on a DICOMweb endpoint by ImagingStudy resources on the FHIR server. Each ImagingStudy references a DICOM study, which can reference multiple series (i.e., the actual scans). In the DICOM standard, each scan has a SeriesInstanceUID and a StudyInstanceUID.</p>
      <p id="Par69">The <italic>DICOMDownloader</italic> class aims at automating the downloading process of DICOM studies or specific series. As a prerequisite, we need a pandas <italic>DataFrame</italic> containing the StudyInstanceUID of the study we want to download. In the event that only certain series are to be downloaded, a SeriesInstanceUID can also be supplied. Once the cohort of series has been identified, a call to download_data_from_dataframe stores the downloaded series in the desired folder. Optionally, the series may be stored according to a hierarchical folder structure, which reduces the number of files per folder and may be beneficial to avoid overloading the file system.</p>
      <p id="Par70">The communication with a PACS is handled by the DicomWebClient package [<xref ref-type="bibr" rid="CR52">52</xref>]. This assumes that the PACS is able to handle the DICOMweb standard [<xref ref-type="bibr" rid="CR40">40</xref>]. Once the series have been downloaded, the download_data_from_dataframe function returns two <italic>DataFrames</italic> (Fig. <xref rid="Fig10" ref-type="fig">10</xref>), one containing the series that could be successfully downloaded and the name of the folder where they are stored, and the other containing the IDs of the series that failed, and the error that caused them to fail. This process is also depicted in Fig. <xref rid="Fig11" ref-type="fig">11</xref>.<fig id="Fig10"><label>Fig. 10</label><caption><p>Example <italic>DICOMDownloader</italic> Query. The <italic>DICOMDownloader</italic> class is initialized with the desired output format, and the data is downloaded to the desired output directory using the download_data_from_dataframe function</p></caption><graphic xlink:href="12913_2023_9498_Fig10_HTML" id="MO10"/></fig><fig id="Fig11"><label>Fig. 11</label><caption><p>An overview of the download of DICOM studies using the <italic>DICOMDownloader</italic>. A collection of StudyInstanceUID and SeriesInstanceUID is given as input to the DICOMDownloader (1), which uses them to communicate with a DICOMweb instance (2) and stores the results in a predefined folder (3). Additionally, two <italic>DataFrames</italic> are returned (3). The first one contains a list of all successfully downloaded series, while the second one has a list of all the failed series and the kind of error that was produced</p></caption><graphic xlink:href="12913_2023_9498_Fig11_HTML" id="MO11"/></fig></p>
    </sec>
  </sec>
  <sec id="Sec12">
    <title>Results</title>
    <p id="Par71">To demonstrate the practical applicability of this package, a real-world scenario is presented to analyze the prognostic significance of routine CT imaging and clinical data in breast cancer patients with pulmonary metastases. Since triple negative breast cancer is known to have a poor prognosis [<xref ref-type="bibr" rid="CR53">53</xref>], ER (<italic>Estrogen Receptor</italic>), PR (<italic>Progesterone Receptor</italic>), and HER-2 (<italic>Human Epidermal growth factor Receptor 2</italic>) are highly relevant markers. In this example, a survival analysis will be performed using a deep learning model with the CT of the thorax, age, TNM stage, ER, PR, and HER-2 status of the selected patients.</p>
    <p id="Par72">The first step is to find all patients with metastatic breast cancer. The patients can be identified using the Condition resource with the ICD-10 code “C50” for breast cancer, and “C78.0” for pulmonary metastases, and by selecting the patients that have both. For the remaining patients, some demographic information is retrieved, such as age and date of death. For the survival analysis, the samples are going to be censored if the patient has died, and uncensored otherwise. The time to death will be specified as the number of days between the diagnosis date of the metastases and the death of the patient, or a specific date to be chosen as the end of the study. Additionally, the clinical data is retrieved using the Observation resource and the respective LOINC (<italic>Logical Observation Identifiers Names and Codes</italic>) codes [<xref ref-type="bibr" rid="CR54">54</xref>] and by checking that the date of the Observation is at most 30 days before or after the diagnosis of the metastases. The resulting table contains the ER (LOINC code “16,112–5”), PR (LOINC code “16,113–3”) and HER-2 (LOINC code “48,676–1”) markers and the TNM stadium (LOINC code “21,908–9”) for the selected patients. Similarly, ImagingStudy resources referencing CTs of the thorax are retrieved using the same date constraints and are downloaded using the <italic>DICOMDownloader</italic>. This process is outlined in Fig. <xref rid="Fig12" ref-type="fig">12</xref>. It is important to notice that the available data and the use of particular codes (e.g., LOINC, ICD-10) may depend on the FHIR server and on the clinical data available at an institution. Additionally, some FHIR servers do not implement all search parameters, and there might be different approaches to obtain the same results.<fig id="Fig12"><label>Fig. 12</label><caption><p>Data collection using FHIR-PYrate for breast cancer patients. The process starts by collecting patients with specific ICD-10 codes (1), the results are filtered (2), and then the clinical (3) and imaging data (4) is retrieved. The resulting <italic>DataFrames</italic> can also be merged to obtain the complete cohort information. The code retrieval is simplified by omitting the URL of each system (i.e., LOINC instead of "<ext-link ext-link-type="uri" xlink:href="http://loinc.org">http://loinc.org</ext-link>")</p></caption><graphic xlink:href="12913_2023_9498_Fig12_HTML" id="MO12"/></fig></p>
    <p id="Par73">The patient cohort can be then divided into a train and a test set, and a deep learning model can be trained to predict the survival of the patients using a Cox regression. Previous studies have already successfully used deep learning methods for survival analysis [<xref ref-type="bibr" rid="CR55">55</xref>], and could be extended to also consider imaging information.</p>
    <p id="Par74">The described process can be used for any use case requiring both clinical and imaging data, and could also be extended to NLP by also retrieving the DiagnosticReport relevant to the use case.</p>
  </sec>
  <sec id="Sec13">
    <title>Discussion</title>
    <p id="Par75">The tool offers a connection between the well-structured and complex FHIR standard and the field of data science, which is dominated by the use of tabular data. Its <italic>DataFrame</italic> output delivers an easy-to-understand, simplified overview of the FHIR resources and can be used more easily for statistical analysis and machine learning. The filtering capabilities also ensure that the user is only provided with the data they need and that the output is not just a dump of the FHIR resources. Furthermore, the filtering allows the user to perform simple operations on the data (e.g., replacement, splitting) such that the final <italic>DataFrame</italic> does not require further modification. An important criterion in the design of our package was not—by means of abstraction—to keep the user away from the FHIR standard, which in our view is well designed, very intuitive and at the same time powerful, but rather to allow the user efficient access to the data contained in a FHIR server while retaining full control over the underlying queries and data structures. The package is intended as a scripting tool, but a more user-friendly graphical interface to be used with the tool as its core is already being planned. In this regard, the tool can also be used to build dashboards and monitors to display important FHIR metrics and data, and that can actively be used in patient care.</p>
  </sec>
  <sec id="Sec14">
    <title>Conclusions</title>
    <p id="Par76">In this work, we presented FHIR-PYrate, a Python package for extracting and collecting all sorts of clinical data from FHIR servers. The proposed tool is essential for researchers, but also for technology-affine doctors, to rapidly build research cohorts and to combine clinical as well as imaging data. The main <italic>Pirate</italic> class handles the communication with the FHIR server and can be used for any resource type, which makes the creation of any dataset straightforward. Additionally, we presented two additional classes: The <italic>Miner</italic> class to filter attributes according to regular expressions and the <italic>DICOMDownloader</italic> to download imaging studies directly from a PACS. With its simplicity and standardized mechanisms, the FHIR-PYrate uses all the advantages of the FHIR standard and combines it into one Python based API.</p>
    <p id="Par77">In future work, we plan to further analyze and test this package with FHIR servers from multiple institutions. Additionally, we aim at simplifying and streamlining the main package API to make it more accessible to users with various levels of programming experience. The newest developments will be posted on the GitHub page of the package (<ext-link ext-link-type="uri" xlink:href="https://github.com/UMEssen/FHIR-PYrate">https://github.com/UMEssen/FHIR-PYrate</ext-link>).</p>
  </sec>
  <sec id="Sec15">
    <title>Availability and requirements</title>
    <p id="Par78"><bold>Project name</bold>: FHIR-PYrate.</p>
    <p id="Par79"><bold>Project home page</bold>: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.5281/zenodo.7025226">https://doi.org/10.5281/zenodo.7025226</ext-link></p>
    <p id="Par80"><bold>Operating system(s)</bold>: Platform independent.</p>
    <p id="Par81"><bold>Programming language</bold>: Python.</p>
    <p id="Par82"><bold>Other requirements</bold>: Python 3.7 or higher (for version 0.1.0), Python 3.8 or higher.</p>
    <p id="Par83"><bold>License</bold>: MIT.</p>
    <p id="Par84"><bold>Any restrictions to use by non-academics</bold>: None.</p>
  </sec>
</body>
<back>
  <glossary>
    <title>Abbreviations</title>
    <def-list>
      <def-item>
        <term>AI</term>
        <def>
          <p id="Par5">Artificial Intelligence</p>
        </def>
      </def-item>
      <def-item>
        <term>API</term>
        <def>
          <p id="Par6">Application Programming Interface</p>
        </def>
      </def-item>
      <def-item>
        <term>CDA</term>
        <def>
          <p id="Par7">Clinical Document Architecture</p>
        </def>
      </def-item>
      <def-item>
        <term>CIS</term>
        <def>
          <p id="Par8">Clinical Information System</p>
        </def>
      </def-item>
      <def-item>
        <term>CT</term>
        <def>
          <p id="Par9">Computed Tomography</p>
        </def>
      </def-item>
      <def-item>
        <term>DICOM</term>
        <def>
          <p id="Par10">Digital Imaging and Communications in Medicine</p>
        </def>
      </def-item>
      <def-item>
        <term>EHR</term>
        <def>
          <p id="Par11">Electronic Health Records</p>
        </def>
      </def-item>
      <def-item>
        <term>ER</term>
        <def>
          <p id="Par12">Estrogen Receptor</p>
        </def>
      </def-item>
      <def-item>
        <term>ETL</term>
        <def>
          <p id="Par13">Extract, Transform and Load</p>
        </def>
      </def-item>
      <def-item>
        <term>FHIR</term>
        <def>
          <p id="Par14">Fast Healthcare Interoperability Resources</p>
        </def>
      </def-item>
      <def-item>
        <term>HER-2</term>
        <def>
          <p id="Par15">Human Epidermal growth factor Receptor 2</p>
        </def>
      </def-item>
      <def-item>
        <term>HL7</term>
        <def>
          <p id="Par16">Heath Level Seven</p>
        </def>
      </def-item>
      <def-item>
        <term>ICD</term>
        <def>
          <p id="Par17">International Classification of Diseases</p>
        </def>
      </def-item>
      <def-item>
        <term>LIS</term>
        <def>
          <p id="Par18">Laboratory Information System</p>
        </def>
      </def-item>
      <def-item>
        <term>LOINC</term>
        <def>
          <p id="Par19">Logical Observation Identifiers Names and Codes</p>
        </def>
      </def-item>
      <def-item>
        <term>ONC</term>
        <def>
          <p id="Par20">Office of the National Coordinator for Health Information Technology</p>
        </def>
      </def-item>
      <def-item>
        <term>MRI</term>
        <def>
          <p id="Par21">Magnetic Resonance Imaging</p>
        </def>
      </def-item>
      <def-item>
        <term>PACS</term>
        <def>
          <p id="Par22">Picture Archiving and Communication System</p>
        </def>
      </def-item>
      <def-item>
        <term>PR</term>
        <def>
          <p id="Par23">Progesterone Receptor</p>
        </def>
      </def-item>
      <def-item>
        <term>REST</term>
        <def>
          <p id="Par24">REpresentational State Transfer</p>
        </def>
      </def-item>
      <def-item>
        <term>RIS</term>
        <def>
          <p id="Par25">Radiology Information System</p>
        </def>
      </def-item>
      <def-item>
        <term>SAP</term>
        <def>
          <p id="Par26">System Analysis Program development</p>
        </def>
      </def-item>
      <def-item>
        <term>VCF</term>
        <def>
          <p id="Par27">Variant Call Format</p>
        </def>
      </def-item>
    </def-list>
  </glossary>
  <fn-group>
    <fn>
      <p>
        <bold>Publisher’s Note</bold>
      </p>
      <p>Springer Nature remains neutral with regard to jurisdictional claims in published maps and institutional affiliations.</p>
    </fn>
    <fn>
      <p>René Hosch and Giulia Baldini these authors contributed equally to this work.</p>
    </fn>
  </fn-group>
  <ack>
    <title>Acknowledgements</title>
    <p>We would like to thank Johannes Haubold for his valuable clinical insights, Tobias Brieden for his essential technical input and Cynthia Sabrina Schmidt for assisting us in identifying a pertinent medical application for the “<xref rid="Sec4" ref-type="sec">Results</xref>” section. We acknowledge support by the Open Access Publication Fund of the University of Duisburg-Essen.
</p>
  </ack>
  <notes notes-type="author-contribution">
    <title>Authors’ contributions</title>
    <p>RH and GB built the FHIR-PYrate package. GB, RH, SK, VP, KB, ME, KA and FN tested and optimized the package. GB and RH co-wrote the manuscript and approved its final content. FN, SK, VP, KB, MU, KA, and ME contributed to the package design, critically revised the manuscript and package, and approved its final content. The author(s) read and approved the final manuscript.</p>
  </notes>
  <notes notes-type="funding-information">
    <title>Funding</title>
    <p>Open Access funding enabled and organized by Projekt DEAL. The authors declare that no funds, grants, or other support were received during the preparation of this manuscript.</p>
  </notes>
  <notes notes-type="data-availability">
    <title>Availability of data and materials</title>
    <p>Not applicable.</p>
  </notes>
  <notes>
    <title>Declarations</title>
    <notes id="FPar1">
      <title>Ethics approval and consent to participate</title>
      <p id="Par85">Not applicable.</p>
    </notes>
    <notes id="FPar2">
      <title>Consent for publication</title>
      <p id="Par86">Not applicable.</p>
    </notes>
    <notes id="FPar3" notes-type="COI-statement">
      <title>Competing interests</title>
      <p id="Par87">The authors declare that they have no competing interests.</p>
    </notes>
  </notes>
  <ref-list id="Bib1">
    <title>References</title>
    <ref id="CR1">
      <label>1.</label>
      <mixed-citation publication-type="other">Bender D, Sartipi K. HL7 FHIR: An Agile and RESTful approach to healthcare information exchange. Proceedings of the 26th IEEE International Symposium on Computer-Based Medical Systems. IEEE; 2013. p. 326–31. 10.1109/CBMS.2013.6627810.</mixed-citation>
    </ref>
    <ref id="CR2">
      <label>2.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Duda</surname>
            <given-names>SN</given-names>
          </name>
          <name>
            <surname>Kennedy</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Conway</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Cheng</surname>
            <given-names>AC</given-names>
          </name>
          <name>
            <surname>Nguyen</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Zayas-Cabán</surname>
            <given-names>T</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>HL7 FHIR-based tools and initiatives to support clinical research: a scoping review</article-title>
        <source>J Am Med Inform Assoc</source>
        <year>2022</year>
        <volume>29</volume>
        <fpage>1642</fpage>
        <lpage>1653</lpage>
        <pub-id pub-id-type="doi">10.1093/jamia/ocac105</pub-id>
        <?supplied-pmid 35818340?>
        <pub-id pub-id-type="pmid">35818340</pub-id>
      </element-citation>
    </ref>
    <ref id="CR3">
      <label>3.</label>
      <mixed-citation publication-type="other">Hehner S, Liese K, Loos G, Möller M, Schiegnitz S, Schneider T, et al. Die Digitalisierung in deutschen Krankenhäusern - eine Chance mit Milliardenpotenzial. McKinsey &amp; Company Healthcare Practice. 2018. <ext-link ext-link-type="uri" xlink:href="https://www.mckinsey.de/publikationen/digitalisierung-chance-mit-milliardenpotenzial">https://www.mckinsey.de/publikationen/digitalisierung-chance-mit-milliardenpotenzial</ext-link>. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR4">
      <label>4.</label>
      <mixed-citation publication-type="other">Dash P, Henricson C, Kumar P, Stern N. The hospital is dead, long live the hospital! McKinsey &amp; Company Healthcare Systems and Services Practice. 2019. <ext-link ext-link-type="uri" xlink:href="https://www.mckinsey.com/industries/healthcare-systems-and-services/our-insights/the-hospital-is-dead-long-live-the-hospital">https://www.mckinsey.com/industries/healthcare-systems-and-services/our-insights/the-hospital-is-dead-long-live-the-hospital</ext-link>. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR5">
      <label>5.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Adler-Milstein</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Holmgren</surname>
            <given-names>AJ</given-names>
          </name>
          <name>
            <surname>Kralovec</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Worzala</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Searcy</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Patel</surname>
            <given-names>V</given-names>
          </name>
        </person-group>
        <article-title>Electronic health record adoption in US hospitals: the emergence of a digital “advanced use” divide</article-title>
        <source>J Am Med Inform Assoc JAMIA</source>
        <year>2017</year>
        <volume>24</volume>
        <fpage>1142</fpage>
        <lpage>1148</lpage>
        <pub-id pub-id-type="doi">10.1093/jamia/ocx080</pub-id>
        <?supplied-pmid 29016973?>
        <pub-id pub-id-type="pmid">29016973</pub-id>
      </element-citation>
    </ref>
    <ref id="CR6">
      <label>6.</label>
      <mixed-citation publication-type="other">HealthIT.gov. National Trends in Hospital and Physician Adoption of Electronic Health Records. The Office of the National Coordinator for Health Information Technology. 2021. <ext-link ext-link-type="uri" xlink:href="https://www.healthit.gov/data/quickstats/national-trends-hospital-and-physician-adoption-electronic-health-records">https://www.healthit.gov/data/quickstats/national-trends-hospital-and-physician-adoption-electronic-health-records</ext-link>. Accessed 9 Mar 2023.</mixed-citation>
    </ref>
    <ref id="CR7">
      <label>7.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Kruse</surname>
            <given-names>CS</given-names>
          </name>
          <name>
            <surname>Stein</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Thomas</surname>
            <given-names>H</given-names>
          </name>
          <name>
            <surname>Kaur</surname>
            <given-names>H</given-names>
          </name>
        </person-group>
        <article-title>The use of electronic health records to support population health: a systematic review of the literature</article-title>
        <source>J Med Syst</source>
        <year>2018</year>
        <volume>42</volume>
        <fpage>214</fpage>
        <pub-id pub-id-type="doi">10.1007/s10916-018-1075-6</pub-id>
        <?supplied-pmid 30269237?>
        <pub-id pub-id-type="pmid">30269237</pub-id>
      </element-citation>
    </ref>
    <ref id="CR8">
      <label>8.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Stanhope</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Matthews</surname>
            <given-names>EB</given-names>
          </name>
        </person-group>
        <article-title>Delivering person-centered care with an electronic health record</article-title>
        <source>BMC Med Inform Decis Mak</source>
        <year>2019</year>
        <volume>19</volume>
        <fpage>168</fpage>
        <pub-id pub-id-type="doi">10.1186/s12911-019-0897-6</pub-id>
        <?supplied-pmid 31438960?>
        <pub-id pub-id-type="pmid">31438960</pub-id>
      </element-citation>
    </ref>
    <ref id="CR9">
      <label>9.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Riahi</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Fischler</surname>
            <given-names>I</given-names>
          </name>
          <name>
            <surname>Stuckey</surname>
            <given-names>MI</given-names>
          </name>
          <name>
            <surname>Klassen</surname>
            <given-names>PE</given-names>
          </name>
          <name>
            <surname>Chen</surname>
            <given-names>J</given-names>
          </name>
        </person-group>
        <article-title>The value of electronic medical record implementation in mental health care: a case study</article-title>
        <source>JMIR Med Inform</source>
        <year>2017</year>
        <volume>5</volume>
        <fpage>e6512</fpage>
        <pub-id pub-id-type="doi">10.2196/medinform.6512</pub-id>
      </element-citation>
    </ref>
    <ref id="CR10">
      <label>10.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Reisman</surname>
            <given-names>M</given-names>
          </name>
        </person-group>
        <article-title>EHRs: the challenge of making electronic data usable and interoperable</article-title>
        <source>Pharm Ther</source>
        <year>2017</year>
        <volume>42</volume>
        <fpage>572</fpage>
        <lpage>575</lpage>
      </element-citation>
    </ref>
    <ref id="CR11">
      <label>11.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Dolin</surname>
            <given-names>RH</given-names>
          </name>
          <name>
            <surname>Alschuler</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Beebe</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Biron</surname>
            <given-names>PV</given-names>
          </name>
          <name>
            <surname>Boyer</surname>
            <given-names>SL</given-names>
          </name>
          <name>
            <surname>Essin</surname>
            <given-names>D</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>The HL7 clinical document architecture</article-title>
        <source>J Am Med Inform Assoc JAMIA</source>
        <year>2001</year>
        <volume>8</volume>
        <fpage>552</fpage>
        <lpage>569</lpage>
        <pub-id pub-id-type="doi">10.1136/jamia.2001.0080552</pub-id>
        <?supplied-pmid 11687563?>
        <pub-id pub-id-type="pmid">11687563</pub-id>
      </element-citation>
    </ref>
    <ref id="CR12">
      <label>12.</label>
      <mixed-citation publication-type="other">Atalag DK, Beale T, Chen DR. openEHR: A semantically-enabled, vendor-independent health computing platform. openEHR International. 2015. <ext-link ext-link-type="uri" xlink:href="https://www.openehr.org/static/files/resources/openEHR_vendor_independent_platform.pdf">https://www.openehr.org/static/files/resources/openEHR_vendor_independent_platform.pdf</ext-link>. Accessed 9 Mar 2023.</mixed-citation>
    </ref>
    <ref id="CR13">
      <label>13.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Lehne </surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Luijten </surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Vom Felde Genannt Imbusch </surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname> Thun </surname>
            <given-names>S</given-names>
          </name>
        </person-group>
        <article-title>The Use of FHIR in Digital Health - A Review of the Scientific Literature</article-title>
        <source>Stud Health Technol Inform</source>
        <year>2019</year>
        <volume>267</volume>
        <fpage>52</fpage>
        <lpage>8</lpage>
        <?supplied-pmid 31483254?>
        <pub-id pub-id-type="pmid">31483254</pub-id>
      </element-citation>
    </ref>
    <ref id="CR14">
      <label>14.</label>
      <mixed-citation publication-type="other">Steven Posnack, Wes Barker. The Heat is On: US Caught FHIR in 2019. Health IT Buzz. 2021. <ext-link ext-link-type="uri" xlink:href="https://www.healthit.gov/buzz-blog/health-it/the-heat-is-on-us-caught-fhir-in-2019">https://www.healthit.gov/buzz-blog/health-it/the-heat-is-on-us-caught-fhir-in-2019</ext-link>. Accessed 9 Mar 2023.</mixed-citation>
    </ref>
    <ref id="CR15">
      <label>15.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Marteau</surname>
            <given-names>BL</given-names>
          </name>
          <name>
            <surname>Zhu</surname>
            <given-names>Y</given-names>
          </name>
          <name>
            <surname>Giuste</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Shi</surname>
            <given-names>W</given-names>
          </name>
          <name>
            <surname>Carpenter</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Hilton</surname>
            <given-names>C</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Accelerating multi-site health informatics with streamlined data infrastructure using OMOP-on-FHIR</article-title>
        <source>Annu Int Conf IEEE Eng Med Biol Soc IEEE Eng Med Biol Soc Annu Int Conf</source>
        <year>2022</year>
        <volume>2022</volume>
        <fpage>4687</fpage>
        <lpage>4690</lpage>
      </element-citation>
    </ref>
    <ref id="CR16">
      <label>16.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Xu</surname>
            <given-names>H</given-names>
          </name>
          <name>
            <surname>Cox</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Stillwell</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Pfaff</surname>
            <given-names>E</given-names>
          </name>
          <name>
            <surname>Champion</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Ahalt</surname>
            <given-names>SC</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>FHIR PIT: an open software application for spatiotemporal integration of clinical data and environmental exposures data</article-title>
        <source>BMC Med Inform Decis Mak</source>
        <year>2020</year>
        <volume>20</volume>
        <fpage>53</fpage>
        <pub-id pub-id-type="doi">10.1186/s12911-020-1056-9</pub-id>
        <?supplied-pmid 32160884?>
        <pub-id pub-id-type="pmid">32160884</pub-id>
      </element-citation>
    </ref>
    <ref id="CR17">
      <label>17.</label>
      <mixed-citation publication-type="other">Kiourtis A, Mavrogiorgou A, Kyriazis D. FHIR Ontology Mapper (FOM): Aggregating Structural and Semantic Similarities of Ontologies towards their Alignment to HL7 FHIR. 2018 IEEE 20th International Conference on e-Health Networking, Applications and Services. IEEE; 2018. p. 1–7. 10.1109/HealthCom.2018.8531149.</mixed-citation>
    </ref>
    <ref id="CR18">
      <label>18.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Alterovitz</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Heale</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Jones</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Kreda</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Lin</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Liu</surname>
            <given-names>L</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>FHIR Genomics: enabling standardization for precision medicine use cases</article-title>
        <source>Npj Genomic Med</source>
        <year>2020</year>
        <volume>5</volume>
        <fpage>1</fpage>
        <lpage>4</lpage>
        <pub-id pub-id-type="doi">10.1038/s41525-020-0115-6</pub-id>
      </element-citation>
    </ref>
    <ref id="CR19">
      <label>19.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Mavrogiorgou</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Kiourtis</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Touloupou</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Kapassa</surname>
            <given-names>E</given-names>
          </name>
          <name>
            <surname>Kyriazis</surname>
            <given-names>D</given-names>
          </name>
        </person-group>
        <article-title>Internet of medical things (IoMT): acquiring and transforming data into HL7 FHIR through 5G network slicing</article-title>
        <source>Emerg Sci J</source>
        <year>2019</year>
        <volume>3</volume>
        <fpage>64</fpage>
        <lpage>77</lpage>
        <pub-id pub-id-type="doi">10.28991/esj-2019-01170</pub-id>
      </element-citation>
    </ref>
    <ref id="CR20">
      <label>20.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Mandel</surname>
            <given-names>JC</given-names>
          </name>
          <name>
            <surname>Kreda</surname>
            <given-names>DA</given-names>
          </name>
          <name>
            <surname>Mandl</surname>
            <given-names>KD</given-names>
          </name>
          <name>
            <surname>Kohane</surname>
            <given-names>IS</given-names>
          </name>
          <name>
            <surname>Ramoni</surname>
            <given-names>RB</given-names>
          </name>
        </person-group>
        <article-title>SMART on FHIR: a standards-based, interoperable apps platform for electronic health records</article-title>
        <source>J Am Med Inform Assoc JAMIA</source>
        <year>2016</year>
        <volume>23</volume>
        <fpage>899</fpage>
        <lpage>908</lpage>
        <pub-id pub-id-type="doi">10.1093/jamia/ocv189</pub-id>
        <?supplied-pmid 26911829?>
        <pub-id pub-id-type="pmid">26911829</pub-id>
      </element-citation>
    </ref>
    <ref id="CR21">
      <label>21.</label>
      <mixed-citation publication-type="other">Siemens Healthineers. AI-Pathway Companion. 2022. <ext-link ext-link-type="uri" xlink:href="https://www.siemens-healthineers.com/services/it-standards/hl7-digital-and-automation/al-pathway-companion">https://www.siemens-healthineers.com/services/it-standards/hl7-digital-and-automation/al-pathway-companion</ext-link>. Accessed 16 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR22">
      <label>22.</label>
      <mixed-citation publication-type="other">Microsoft. Azure Health Data Services – FHIR, DICOM &amp; MedTech. 2022. <ext-link ext-link-type="uri" xlink:href="https://azure.microsoft.com/de-de/services/health-data-services/">https://azure.microsoft.com/de-de/services/health-data-services/</ext-link>. Accessed 16 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR23">
      <label>23.</label>
      <mixed-citation publication-type="other">Philips Healthcare. Matching FHIR interoperability and population health. 2016. <ext-link ext-link-type="uri" xlink:href="https://www.usa.philips.com/healthcare/education-resources/publications/population-health-insights/blogs/matching-fhir-interoperability-and-population-health">https://www.usa.philips.com/healthcare/education-resources/publications/population-health-insights/blogs/matching-fhir-interoperability-and-population-health</ext-link>. Accessed 12 Sept 2022.</mixed-citation>
    </ref>
    <ref id="CR24">
      <label>24.</label>
      <mixed-citation publication-type="other">Amazon Web Services. Achieving healthcare interoperability. AWS Public Sector Blog. 2019. <ext-link ext-link-type="uri" xlink:href="https://aws.amazon.com/blogs/publicsector/achieving-healthcare-interoperability/">https://aws.amazon.com/blogs/publicsector/achieving-healthcare-interoperability/</ext-link>. Accessed 12 Sept 2022.</mixed-citation>
    </ref>
    <ref id="CR25">
      <label>25.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Weissler</surname>
            <given-names>EH</given-names>
          </name>
          <name>
            <surname>Naumann</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Andersson</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Ranganath</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Elemento</surname>
            <given-names>O</given-names>
          </name>
          <name>
            <surname>Luo</surname>
            <given-names>Y</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>The role of machine learning in clinical research: transforming the future of evidence generation</article-title>
        <source>Trials</source>
        <year>2021</year>
        <volume>22</volume>
        <fpage>537</fpage>
        <pub-id pub-id-type="doi">10.1186/s13063-021-05489-x</pub-id>
        <?supplied-pmid 34399832?>
        <pub-id pub-id-type="pmid">34399832</pub-id>
      </element-citation>
    </ref>
    <ref id="CR26">
      <label>26.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Huang</surname>
            <given-names>S-C</given-names>
          </name>
          <name>
            <surname>Pareek</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Seyyedi</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Banerjee</surname>
            <given-names>I</given-names>
          </name>
          <name>
            <surname>Lungren</surname>
            <given-names>MP</given-names>
          </name>
        </person-group>
        <article-title>Fusion of medical imaging and electronic health records using deep learning: a systematic review and implementation guidelines</article-title>
        <source>Npj Digit Med</source>
        <year>2020</year>
        <volume>3</volume>
        <fpage>1</fpage>
        <lpage>9</lpage>
        <pub-id pub-id-type="doi">10.1038/s41746-020-00341-z</pub-id>
        <pub-id pub-id-type="pmid">31934645</pub-id>
      </element-citation>
    </ref>
    <ref id="CR27">
      <label>27.</label>
      <mixed-citation publication-type="other">HL7 FHIR. Resource Index. 2022. <ext-link ext-link-type="uri" xlink:href="http://hl7.org/fhir/resourcelist.html">http://hl7.org/fhir/resourcelist.html</ext-link>. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR28">
      <label>28.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Gruendner</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Gulden</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Kampf</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Mate</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Prokosch</surname>
            <given-names>H-U</given-names>
          </name>
          <name>
            <surname>Zierk</surname>
            <given-names>J</given-names>
          </name>
        </person-group>
        <article-title>A framework for criteria-based selection and processing of fast healthcare interoperability resources (FHIR) data for statistical analysis: design and implementation study</article-title>
        <source>JMIR Med Inform</source>
        <year>2021</year>
        <volume>9</volume>
        <fpage>e25645</fpage>
        <pub-id pub-id-type="doi">10.2196/25645</pub-id>
        <?supplied-pmid 33792554?>
        <pub-id pub-id-type="pmid">33792554</pub-id>
      </element-citation>
    </ref>
    <ref id="CR29">
      <label>29.</label>
      <element-citation publication-type="book">
        <person-group person-group-type="author">
          <name>
            <surname>Oehm</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Storck</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Fechner</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Brix</surname>
            <given-names>TJ</given-names>
          </name>
          <name>
            <surname>Yildirim</surname>
            <given-names>K</given-names>
          </name>
        </person-group>
        <source>Dugas M</source>
        <year>2021</year>
        <publisher-loc>FhirExtinguisher</publisher-loc>
        <publisher-name>A FHIR Resource Flattening Tool Using FHIRPath. Public Health Inform</publisher-name>
        <fpage>1112</fpage>
        <lpage>1113</lpage>
      </element-citation>
    </ref>
    <ref id="CR30">
      <label>30.</label>
      <mixed-citation publication-type="other">Palm J, Meineke FA, Przybilla J, Peschel T. "fhircrackr": An R Package Unlocking Fast Healthcare Interoperability Resources for Statistical Analysis. Appl Clin Inform. 2023;14:54–64.</mixed-citation>
    </ref>
    <ref id="CR31">
      <label>31.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Rajkomar</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Oren</surname>
            <given-names>E</given-names>
          </name>
          <name>
            <surname>Chen</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Dai</surname>
            <given-names>AM</given-names>
          </name>
          <name>
            <surname>Hajaj</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Hardt</surname>
            <given-names>M</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Scalable and accurate deep learning with electronic health records</article-title>
        <source>NPJ Digit Med</source>
        <year>2018</year>
        <volume>1</volume>
        <fpage>18</fpage>
        <pub-id pub-id-type="doi">10.1038/s41746-018-0029-1</pub-id>
        <?supplied-pmid 31304302?>
        <pub-id pub-id-type="pmid">31304302</pub-id>
      </element-citation>
    </ref>
    <ref id="CR32">
      <label>32.</label>
      <mixed-citation publication-type="other">The pandas development team. Pandas. 2022. 10.5281/zenodo.6702671. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR33">
      <label>33.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>McKinney </surname>
            <given-names>W</given-names>
          </name>
        </person-group>
        <article-title>Data Structures for Statistical Computing in Python</article-title>
        <source>Proc 9th Python Sci Conf</source>
        <year>2010</year>
        <volume>445</volume>
        <fpage>56</fpage>
        <lpage>61</lpage>
        <pub-id pub-id-type="doi">10.25080/Majora-92bf1922-00a</pub-id>
      </element-citation>
    </ref>
    <ref id="CR34">
      <label>34.</label>
      <mixed-citation publication-type="other">Bjonnes A, Wiffin E, Mandel J, Schwertner N, Pfiffner P, Sayeed R, et al. SMART on FHIR Python Client. 2019. <ext-link ext-link-type="uri" xlink:href="http://docs.smarthealthit.org/client-py/">http://docs.smarthealthit.org/client-py/</ext-link>. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR35">
      <label>35.</label>
      <mixed-citation publication-type="other">Islam N, Mabey M, Vadée S, Goren I, Hazeleger M, et al. fhir.resources. 2022. <ext-link ext-link-type="uri" xlink:href="https://github.com/nazrulworld/fhir.resources">https://github.com/nazrulworld/fhir.resources</ext-link>. Accessed 9 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR36">
      <label>36.</label>
      <mixed-citation publication-type="other">Beda I, Kizesov M, Laletin V, Rozhkov P, Pavlushkin A, Vogler BS, et al. fhir-py. 2022. <ext-link ext-link-type="uri" xlink:href="https://github.com/beda-software/fhir-py">https://github.com/beda-software/fhir-py</ext-link>. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR37">
      <label>37.</label>
      <mixed-citation publication-type="other">Salazar J, Rostalski T, Kim M. FHIRPACK. 2022. <ext-link ext-link-type="uri" xlink:href="https://github.com/fhirpack/main">https://github.com/fhirpack/main</ext-link>. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR38">
      <label>38.</label>
      <mixed-citation publication-type="other">HL7 FHIR. FHIRPath. 2022. <ext-link ext-link-type="uri" xlink:href="https://hl7.org/fhirpath/">https://hl7.org/fhirpath/</ext-link>. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR39">
      <label>39.</label>
      <mixed-citation publication-type="other">Gössner S. JSONPath - XPath for JSON. 2005. <ext-link ext-link-type="uri" xlink:href="https://goessner.net/articles/JsonPath/">https://goessner.net/articles/JsonPath/</ext-link>. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR40">
      <label>40.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Genereaux</surname>
            <given-names>BW</given-names>
          </name>
          <name>
            <surname>Dennison</surname>
            <given-names>DK</given-names>
          </name>
          <name>
            <surname>Ho</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Horn</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Silver</surname>
            <given-names>EL</given-names>
          </name>
          <name>
            <surname>O’Donnell</surname>
            <given-names>K</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>DICOMweb™: background and application of the web standard for medical imaging</article-title>
        <source>J Digit Imaging</source>
        <year>2018</year>
        <volume>31</volume>
        <fpage>321</fpage>
        <lpage>326</lpage>
        <pub-id pub-id-type="doi">10.1007/s10278-018-0073-z</pub-id>
        <?supplied-pmid 29748852?>
        <pub-id pub-id-type="pmid">29748852</pub-id>
      </element-citation>
    </ref>
    <ref id="CR41">
      <label>41.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Koitka</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Kroll</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Malamutmann</surname>
            <given-names>E</given-names>
          </name>
          <name>
            <surname>Oezcelik</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Nensa</surname>
            <given-names>F</given-names>
          </name>
        </person-group>
        <article-title>Fully automated body composition analysis in routine CT imaging using 3D semantic segmentation convolutional neural networks</article-title>
        <source>Eur Radiol</source>
        <year>2021</year>
        <volume>31</volume>
        <fpage>1795</fpage>
        <lpage>1804</lpage>
        <pub-id pub-id-type="doi">10.1007/s00330-020-07147-3</pub-id>
        <?supplied-pmid 32945971?>
        <pub-id pub-id-type="pmid">32945971</pub-id>
      </element-citation>
    </ref>
    <ref id="CR42">
      <label>42.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Koitka</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Gudlin</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Theysohn</surname>
            <given-names>JM</given-names>
          </name>
          <name>
            <surname>Oezcelik</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Hoyer</surname>
            <given-names>DP</given-names>
          </name>
          <name>
            <surname>Dayangac</surname>
            <given-names>M</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Fully automated preoperative liver volumetry incorporating the anatomical location of the central hepatic vein</article-title>
        <source>Sci Rep</source>
        <year>2022</year>
        <volume>12</volume>
        <fpage>16479</fpage>
        <pub-id pub-id-type="doi">10.1038/s41598-022-20778-4</pub-id>
        <?supplied-pmid 36183002?>
        <pub-id pub-id-type="pmid">36183002</pub-id>
      </element-citation>
    </ref>
    <ref id="CR43">
      <label>43.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Haubold</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Hosch</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Parmar</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Glas</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Guberina</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Catalano</surname>
            <given-names>OA</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Fully automated MR based virtual biopsy of cerebral gliomas</article-title>
        <source>Cancers</source>
        <year>2021</year>
        <volume>13</volume>
        <fpage>6186</fpage>
        <pub-id pub-id-type="doi">10.3390/cancers13246186</pub-id>
        <?supplied-pmid 34944806?>
        <pub-id pub-id-type="pmid">34944806</pub-id>
      </element-citation>
    </ref>
    <ref id="CR44">
      <label>44.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Duron</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Ducarouge</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Gillibert</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Lainé</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Allouche</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Cherel</surname>
            <given-names>N</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Assessment of an AI aid in detection of adult appendicular skeletal fractures by emergency physicians and radiologists: a multicenter cross-sectional diagnostic study</article-title>
        <source>Radiology</source>
        <year>2021</year>
        <volume>300</volume>
        <fpage>120</fpage>
        <lpage>129</lpage>
        <pub-id pub-id-type="doi">10.1148/radiol.2021203886</pub-id>
        <?supplied-pmid 33944629?>
        <pub-id pub-id-type="pmid">33944629</pub-id>
      </element-citation>
    </ref>
    <ref id="CR45">
      <label>45.</label>
      <mixed-citation publication-type="other">World Health Organization. International statistical classification of diseases and related health problems. 2022. <ext-link ext-link-type="uri" xlink:href="https://www.who.int/standards/classifications/classification-of-diseases">https://www.who.int/standards/classifications/classification-of-diseases</ext-link>. Accessed 23 May 2023.</mixed-citation>
    </ref>
    <ref id="CR46">
      <label>46.</label>
      <mixed-citation publication-type="other">Beda I, Nikiforov M, Laletin V, Baldini G, Tretyakov N, et al. fhirpath-py. 2022. <ext-link ext-link-type="uri" xlink:href="https://github.com/beda-software/fhirpath-py">https://github.com/beda-software/fhirpath-py</ext-link>. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR47">
      <label>47.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Piad-Morffis</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Gutiérrez</surname>
            <given-names>Y</given-names>
          </name>
          <name>
            <surname>Almeida-Cruz</surname>
            <given-names>Y</given-names>
          </name>
          <name>
            <surname>Muñoz</surname>
            <given-names>R</given-names>
          </name>
        </person-group>
        <article-title>A computational ecosystem to support eHealth knowledge discovery technologies in Spanish</article-title>
        <source>J Biomed Inform</source>
        <year>2020</year>
        <volume>109</volume>
        <fpage>103517</fpage>
        <pub-id pub-id-type="doi">10.1016/j.jbi.2020.103517</pub-id>
        <?supplied-pmid 32712157?>
        <pub-id pub-id-type="pmid">32712157</pub-id>
      </element-citation>
    </ref>
    <ref id="CR48">
      <label>48.</label>
      <mixed-citation publication-type="other">Phan R, Luu T, Davey R, Chetty G. Enhancing clinical name entity recognition based on hybrid deep learning scheme. 2019 International Conference on Data Mining Workshops. IEEE; 2019. p. 1049–55. 10.1109/ICDMW.2019.00153.</mixed-citation>
    </ref>
    <ref id="CR49">
      <label>49.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Cabot</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Darmoni</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Soualmia</surname>
            <given-names>LF</given-names>
          </name>
        </person-group>
        <article-title>Cimind: a phonetic-based tool for multilingual named entity recognition in biomedical texts</article-title>
        <source>J Biomed Inform</source>
        <year>2019</year>
        <volume>94</volume>
        <fpage>103176</fpage>
        <pub-id pub-id-type="doi">10.1016/j.jbi.2019.103176</pub-id>
        <?supplied-pmid 30980962?>
        <pub-id pub-id-type="pmid">30980962</pub-id>
      </element-citation>
    </ref>
    <ref id="CR50">
      <label>50.</label>
      <mixed-citation publication-type="other">Honnibal M, Montani I, Van Landeghem S, Boyd A. spaCy: Industrial-strength Natural Language Processing in Python. 2022. 10.5281/zenodo.6907665. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR51">
      <label>51.</label>
      <mixed-citation publication-type="other">Python. Regular expression operations. 2022. <ext-link ext-link-type="uri" xlink:href="https://docs.python.org/3/library/re.html">https://docs.python.org/3/library/re.html</ext-link>. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR52">
      <label>52.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Herrmann</surname>
            <given-names>MD</given-names>
          </name>
          <name>
            <surname>Clunie</surname>
            <given-names>DA</given-names>
          </name>
          <name>
            <surname>Fedorov</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Doyle</surname>
            <given-names>SW</given-names>
          </name>
          <name>
            <surname>Pieper</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Klepeis</surname>
            <given-names>V</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Implementing the DICOM standard for digital pathology</article-title>
        <source>J Pathol Inform</source>
        <year>2018</year>
        <volume>9</volume>
        <fpage>37</fpage>
        <pub-id pub-id-type="doi">10.4103/jpi.jpi_42_18</pub-id>
        <?supplied-pmid 30533276?>
        <pub-id pub-id-type="pmid">30533276</pub-id>
      </element-citation>
    </ref>
    <ref id="CR53">
      <label>53.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Yin</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Duan</surname>
            <given-names>J-J</given-names>
          </name>
          <name>
            <surname>Bian</surname>
            <given-names>X-W</given-names>
          </name>
          <name>
            <surname>Yu</surname>
            <given-names>S-C</given-names>
          </name>
        </person-group>
        <article-title>Triple-negative breast cancer molecular subtyping and treatment progress</article-title>
        <source>Breast Cancer Res BCR</source>
        <year>2020</year>
        <volume>22</volume>
        <fpage>61</fpage>
        <pub-id pub-id-type="doi">10.1186/s13058-020-01296-5</pub-id>
        <?supplied-pmid 32517735?>
        <pub-id pub-id-type="pmid">32517735</pub-id>
      </element-citation>
    </ref>
    <ref id="CR54">
      <label>54.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>McDonald </surname>
            <given-names>CJ</given-names>
          </name>
          <name>
            <surname>Humphreys</surname>
            <given-names>BL</given-names>
          </name>
        </person-group>
        <article-title>The U.S. National Library of Medicine and Standards for Electronic Health Records: One Thing Led to Another</article-title>
        <source>Stud Health Technol Inform</source>
        <year>2022</year>
        <volume>288</volume>
        <fpage>85</fpage>
        <lpage>99</lpage>
        <?supplied-pmid 35102831?>
        <pub-id pub-id-type="pmid">35102831</pub-id>
      </element-citation>
    </ref>
    <ref id="CR55">
      <label>55.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Zhu</surname>
            <given-names>W</given-names>
          </name>
          <name>
            <surname>Xie</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Han</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Guo</surname>
            <given-names>X</given-names>
          </name>
        </person-group>
        <article-title>The application of deep learning in cancer prognosis prediction</article-title>
        <source>Cancers</source>
        <year>2020</year>
        <volume>12</volume>
        <fpage>603</fpage>
        <pub-id pub-id-type="doi">10.3390/cancers12030603</pub-id>
        <?supplied-pmid 32150991?>
        <pub-id pub-id-type="pmid">32150991</pub-id>
      </element-citation>
    </ref>
  </ref-list>
</back>
<?properties open_access?>
<?DTDIdentifier.IdentifierValue -//Springer-Verlag//DTD A++ V2.4//EN?>
<?DTDIdentifier.IdentifierType public?>
<?SourceDTD.DTDName A++V2.4.dtd?>
<?SourceDTD.Version 2.4?>
<?ConverterInfo.XSLTName springer2nlmx2.xsl?>
<?ConverterInfo.Version 1?>
<processing-meta base-tagset="archiving" mathml-version="3.0" table-model="xhtml" tagset-family="jats">
  <restricted-by>pmc</restricted-by>
</processing-meta>
<front>
  <journal-meta>
    <journal-id journal-id-type="nlm-ta">BMC Health Serv Res</journal-id>
    <journal-id journal-id-type="iso-abbrev">BMC Health Serv Res</journal-id>
    <journal-title-group>
      <journal-title>BMC Health Services Research</journal-title>
    </journal-title-group>
    <issn pub-type="epub">1472-6963</issn>
    <publisher>
      <publisher-name>BioMed Central</publisher-name>
      <publisher-loc>London</publisher-loc>
    </publisher>
  </journal-meta>
  <article-meta>
    <article-id pub-id-type="pmcid">10326955</article-id>
    <article-id pub-id-type="pmid">37415138</article-id>
    <article-id pub-id-type="publisher-id">9498</article-id>
    <article-id pub-id-type="doi">10.1186/s12913-023-09498-1</article-id>
    <article-categories>
      <subj-group subj-group-type="heading">
        <subject>Software</subject>
      </subj-group>
    </article-categories>
    <title-group>
      <article-title>FHIR-PYrate: a data science friendly Python package to query FHIR servers</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author" equal-contrib="yes">
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0003-1760-2342</contrib-id>
        <name>
          <surname>Hosch</surname>
          <given-names>René</given-names>
        </name>
        <xref ref-type="aff" rid="Aff1">1</xref>
        <xref ref-type="aff" rid="Aff2">2</xref>
      </contrib>
      <contrib contrib-type="author" corresp="yes" equal-contrib="yes">
        <contrib-id contrib-id-type="orcid">http://orcid.org/0000-0002-5929-0271</contrib-id>
        <name>
          <surname>Baldini</surname>
          <given-names>Giulia</given-names>
        </name>
        <address>
          <email>giulia.baldini@uk-essen.de</email>
        </address>
        <xref ref-type="aff" rid="Aff1">1</xref>
        <xref ref-type="aff" rid="Aff2">2</xref>
      </contrib>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0002-0383-0435</contrib-id>
        <name>
          <surname>Parmar</surname>
          <given-names>Vicky</given-names>
        </name>
        <xref ref-type="aff" rid="Aff1">1</xref>
        <xref ref-type="aff" rid="Aff2">2</xref>
      </contrib>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0001-6987-6041</contrib-id>
        <name>
          <surname>Borys</surname>
          <given-names>Katarzyna</given-names>
        </name>
        <xref ref-type="aff" rid="Aff1">1</xref>
        <xref ref-type="aff" rid="Aff2">2</xref>
      </contrib>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0001-9704-1180</contrib-id>
        <name>
          <surname>Koitka</surname>
          <given-names>Sven</given-names>
        </name>
        <xref ref-type="aff" rid="Aff1">1</xref>
        <xref ref-type="aff" rid="Aff2">2</xref>
      </contrib>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0002-8463-8786</contrib-id>
        <name>
          <surname>Engelke</surname>
          <given-names>Merlin</given-names>
        </name>
        <xref ref-type="aff" rid="Aff1">1</xref>
        <xref ref-type="aff" rid="Aff2">2</xref>
      </contrib>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid">https://orcid.org/0009-0005-6074-804X</contrib-id>
        <name>
          <surname>Arzideh</surname>
          <given-names>Kamyar</given-names>
        </name>
        <xref ref-type="aff" rid="Aff2">2</xref>
        <xref ref-type="aff" rid="Aff3">3</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Ulrich</surname>
          <given-names>Moritz</given-names>
        </name>
        <xref ref-type="aff" rid="Aff2">2</xref>
        <xref ref-type="aff" rid="Aff3">3</xref>
      </contrib>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0002-5811-7100</contrib-id>
        <name>
          <surname>Nensa</surname>
          <given-names>Felix</given-names>
        </name>
        <xref ref-type="aff" rid="Aff1">1</xref>
        <xref ref-type="aff" rid="Aff2">2</xref>
      </contrib>
      <aff id="Aff1"><label>1</label><institution-wrap><institution-id institution-id-type="GRID">grid.410718.b</institution-id><institution-id institution-id-type="ISNI">0000 0001 0262 7331</institution-id><institution>Institute of Interventional and Diagnostic Radiology and Neuroradiology, </institution><institution>University Hospital Essen, </institution></institution-wrap>Hufelandstraße 55, Essen, 45147 Germany </aff>
      <aff id="Aff2"><label>2</label><institution-wrap><institution-id institution-id-type="GRID">grid.410718.b</institution-id><institution-id institution-id-type="ISNI">0000 0001 0262 7331</institution-id><institution>Institute for Artificial Intelligence in Medicine, </institution><institution>University Hospital Essen, </institution></institution-wrap>Girardetstraße 2, Essen, 45131 Germany </aff>
      <aff id="Aff3"><label>3</label><institution-wrap><institution-id institution-id-type="GRID">grid.410718.b</institution-id><institution-id institution-id-type="ISNI">0000 0001 0262 7331</institution-id><institution>Central IT Department, Data Integration Center, </institution><institution>University Hospital Essen, </institution></institution-wrap>Hufelandstraße 55, Essen, 45147 Germany </aff>
    </contrib-group>
    <pub-date pub-type="epub">
      <day>6</day>
      <month>7</month>
      <year>2023</year>
    </pub-date>
    <pub-date pub-type="pmc-release">
      <day>6</day>
      <month>7</month>
      <year>2023</year>
    </pub-date>
    <pub-date pub-type="collection">
      <year>2023</year>
    </pub-date>
    <volume>23</volume>
    <elocation-id>734</elocation-id>
    <history>
      <date date-type="received">
        <day>23</day>
        <month>9</month>
        <year>2022</year>
      </date>
      <date date-type="accepted">
        <day>3</day>
        <month>5</month>
        <year>2023</year>
      </date>
    </history>
    <permissions>
      <copyright-statement>© The Author(s) 2023</copyright-statement>
      <license>
        <ali:license_ref specific-use="textmining" content-type="ccbylicense">https://creativecommons.org/licenses/by/4.0/</ali:license_ref>
        <license-p><bold>Open Access</bold> This article is licensed under a Creative Commons Attribution 4.0 International License, which permits use, sharing, adaptation, distribution and reproduction in any medium or format, as long as you give appropriate credit to the original author(s) and the source, provide a link to the Creative Commons licence, and indicate if changes were made. The images or other third party material in this article are included in the article's Creative Commons licence, unless indicated otherwise in a credit line to the material. If material is not included in the article's Creative Commons licence and your intended use is not permitted by statutory regulation or exceeds the permitted use, you will need to obtain permission directly from the copyright holder. To view a copy of this licence, visit <ext-link ext-link-type="uri" xlink:href="https://creativecommons.org/licenses/by/4.0/">http://creativecommons.org/licenses/by/4.0/</ext-link>. The Creative Commons Public Domain Dedication waiver (<ext-link ext-link-type="uri" xlink:href="https://creativecommons.org/publicdomain/zero/1.0/">http://creativecommons.org/publicdomain/zero/1.0/</ext-link>) applies to the data made available in this article, unless otherwise stated in a credit line to the data.</license-p>
      </license>
    </permissions>
    <abstract id="Abs1">
      <sec>
        <title>Background</title>
        <p id="Par1">We present FHIR-PYrate, a Python package to handle the full clinical data collection and extraction process. The software is to be plugged into a modern hospital domain, where electronic patient records are used to handle the entire patient’s history. Most research institutes follow the same procedures to build study cohorts, but mainly in a non-standardized and repetitive way. As a result, researchers spend time writing boilerplate code, which could be used for more challenging tasks.</p>
      </sec>
      <sec>
        <title>Methods</title>
        <p id="Par2">The package can improve and simplify existing processes in the clinical research environment. It collects all needed functionalities into a straightforward interface that can be used to query a FHIR server, download imaging studies and filter clinical documents. The full capacity of the search mechanism of the FHIR REST API is available to the user, leading to a uniform querying process for all resources, thus simplifying the customization of each use case. Additionally, valuable features like parallelization and filtering are included to make it more performant.</p>
      </sec>
      <sec>
        <title>Results</title>
        <p id="Par3">As an exemplary practical application, the package can be used to analyze the prognostic significance of routine CT imaging and clinical data in breast cancer with tumor metastases in the lungs. In this example, the initial patient cohort is first collected using ICD-10 codes. For these patients, the survival information is also gathered. Some additional clinical data is retrieved, and CT scans of the thorax are downloaded. Finally, the survival analysis can be computed using a deep learning model with the CT scans, the TNM staging and positivity of relevant markers as input. This process may vary depending on the FHIR server and available clinical data, and can be customized to cover even more use cases.</p>
      </sec>
      <sec>
        <title>Conclusions</title>
        <p id="Par4">FHIR-PYrate opens up the possibility to quickly and easily retrieve FHIR data, download image data, and search medical documents for keywords within a Python package. With the demonstrated functionality, FHIR-PYrate opens an easy way to assemble research collectives automatically.</p>
      </sec>
    </abstract>
    <kwd-group xml:lang="en">
      <title>Keywords</title>
      <kwd>Electronic patient record</kwd>
      <kwd>FHIR</kwd>
      <kwd>Python</kwd>
      <kwd>Dataframe</kwd>
      <kwd>Information extraction</kwd>
      <kwd>Dicom</kwd>
    </kwd-group>
    <funding-group>
      <award-group>
        <funding-source>
          <institution>Universitätsklinikum Essen (8912)</institution>
        </funding-source>
      </award-group>
      <open-access>
        <p>Open Access funding enabled and organized by Projekt DEAL.</p>
      </open-access>
    </funding-group>
    <custom-meta-group>
      <custom-meta>
        <meta-name>issue-copyright-statement</meta-name>
        <meta-value>© BioMed Central Ltd., part of Springer Nature 2023</meta-value>
      </custom-meta>
    </custom-meta-group>
  </article-meta>
</front>
<body>
  <sec id="Sec1">
    <title>Introduction</title>
    <p id="Par28">The HL7 (<italic>Heath Level Seven</italic>) FHIR (<italic>Fast Healthcare Interoperability Resources</italic>) standard [<xref ref-type="bibr" rid="CR1">1</xref>] is steadily developing into the healthcare standard for semantic interoperable data exchange [<xref ref-type="bibr" rid="CR2">2</xref>]. Clinical routines are not exempt from the digitalization process that the world is currently experiencing [<xref ref-type="bibr" rid="CR3">3</xref>, <xref ref-type="bibr" rid="CR4">4</xref>]. As a consequence, hospitals are evolving and adapting. Many hospitals and healthcare organizations are already using EHRs (<italic>Electronic Health Records</italic>) to store and manage patient health information [<xref ref-type="bibr" rid="CR5">5</xref>]. The ONC (<italic>Office of the National Coordinator for Health Information Technology</italic>) estimated that in 2021 in the US “nearly 4 in 5 office-based physicians (78%) and nearly all non-federal acute care hospitals (96%) adopted a certified EHR” [<xref ref-type="bibr" rid="CR6">6</xref>]. EHRs can help to improve the quality and safety of patient care by providing healthcare providers with access to up-to-date and accurate patient information [<xref ref-type="bibr" rid="CR7">7</xref>–<xref ref-type="bibr" rid="CR9">9</xref>]. However, EHRs can also create challenges for data exchange between different healthcare systems, as there are often multiple EHR systems in use [<xref ref-type="bibr" rid="CR10">10</xref>]. To address these challenges, healthcare organizations may use a variety of systems and standards for data exchange, such as HL7 v2 [<xref ref-type="bibr" rid="CR1">1</xref>], HL7 v3 [<xref ref-type="bibr" rid="CR1">1</xref>], HL7 CDA (<italic>Clinical Document Architecture</italic>) [<xref ref-type="bibr" rid="CR11">11</xref>], openEHR [<xref ref-type="bibr" rid="CR12">12</xref>] or HL7 FHIR [<xref ref-type="bibr" rid="CR1">1</xref>]. However, FHIR is the newest and most widely used one [<xref ref-type="bibr" rid="CR1">1</xref>, <xref ref-type="bibr" rid="CR2">2</xref>, <xref ref-type="bibr" rid="CR13">13</xref>]. The ONC estimated that in 2019 “84% of hospitals and 61% of clinicians adopted and implemented 2015 Edition certified API technology enabled with FHIR” and that the trend is expected to continue [<xref ref-type="bibr" rid="CR14">14</xref>]. Furthermore, FHIR is not only utilized in clinical practice but is also a subject of ongoing research and development [<xref ref-type="bibr" rid="CR15">15</xref>–<xref ref-type="bibr" rid="CR20">20</xref>]. One of the main advantages of FHIR is its uniform structure and reproducibility for all information created within clinical workflows. This strive for standardization is especially needed in the world of hospital data, which includes multiple manufacturers, standards, and ways to store the overall complex clinical data. Because of the considerable success of this standard, manufacturers of medical applications have already started integrating it into their tools. Notable examples are the AI-Pathway Companion [<xref ref-type="bibr" rid="CR21">21</xref>] and the Azure Health Data Services API (<italic>Application Programming Interface</italic>) [<xref ref-type="bibr" rid="CR22">22</xref>], but other well-known companies also rely on open interfaces such as FHIR to facilitate interoperability [<xref ref-type="bibr" rid="CR23">23</xref>, <xref ref-type="bibr" rid="CR24">24</xref>].</p>
    <p id="Par29">Together with the popularity of FHIR, machine learning applications and studies in clinical context have also steadily increased [<xref ref-type="bibr" rid="CR25">25</xref>]. For the year 2022, 13,931 articles can be found on PubMed by searching for results including both "machine learning" or "artificial intelligence" and "healthcare" or "clinical", a number that is higher than any of the previous years. Thus, it is not only important to have a standard for the data format (FHIR), but also to build a uniform way to easily extract data and to transfer them into formats preferred for machine learning. As technology advances, multimodal models (i.e., accepting both images, unstructured text and structured information) are also becoming more and more relevant [<xref ref-type="bibr" rid="CR26">26</xref>], yielding that FHIR is also going to be part of previously only image-based pipelines.</p>
    <p id="Par30">The paper has the following structure. First, the “<xref rid="Sec2" ref-type="sec">Background</xref>” section defines and introduces basic FHIR terminology, resources, and components. In addition, an overview of the current number of FHIR resources is given using the example of the University Hospital Essen, comparable tools are discussed and the advantages of FHIR-PYrate are explained. Subsequently, all important components and functions of the package are presented in the "<xref rid="Sec3" ref-type="sec">Implementation</xref>" section. Subsequently, in the "<xref rid="Sec12" ref-type="sec">Results</xref>" section, an application-oriented example of a cohort compilation of metastatic breast cancer patients with the help of FHIR-PYrate is presented. Finally, in the "<xref rid="Sec14" ref-type="sec">Conclusion</xref>" and "<xref rid="Sec13" ref-type="sec">Discussion</xref>" sections advantages of the tool are described and a final conclusion about the capabilities of the package is drawn.</p>
  </sec>
  <sec id="Sec2">
    <title>Background</title>
    <p id="Par31">Since many FHIR-related terms are used in this paper, the FHIR specification will be introduced first. The FHIR standard builds an abstraction layer on top of one or many databases, where healthcare-related data are stored. This abstraction provides an intuitive and semantically interoperable data exchange, where every single entity can be described as one object or, in FHIR terms, one resource. In general, FHIR (in version R4B) includes 140 different resource definitions [<xref ref-type="bibr" rid="CR27">27</xref>]. Based on these definitions, all types of hospital data collected within the clinical routine can be categorized and stored in a structured way. This includes, for example, patient data, image data, laboratory values, ward assignments, procedures, medications, medical documents, and many more. In the following, we will briefly describe four resources: Patient, DiagnosticReport, ImagingStudy, Observation, and Bundle.</p>
    <p id="Par32">Almost every data point created within the clinical routine is associated with a patient. Thus, the Patient resource is often the basis for creating and collecting cohorts. This resource contains relevant data such as gender, age, date of birth, or addresses, and also information about the vital status. Attributes can, in turn, have further nested attributes to describe a specific setting more precisely. For example, the patient's multiple addresses could be represented by a list with attributes such as city, address line, and postal code. This yields that a resource might have an arbitrarily complex structure but still conform to the standard. Another essential resource is DiagnosticReport, which includes medical documents such as radiological findings, pathological findings, doctor's letters, and many more. In addition, FHIR offers the possibility to map all imaging data in the form of the ImagingStudy resource. This means that all types of imaging modalities such as CT (<italic>Computed Tomography</italic>), MRI (<italic>Magnetic Resonance Imaging</italic>), ultrasound, or X-ray are available in a structured way, and entire studies, including the corresponding series, can be mapped. It is important to note though, that the image payload, in particular the pixel data, is not contained in the ImagingStudy resource but normally provided via references to a specialized service like a DICOM (<italic>Digital Imaging and Communications in Medicine</italic>) or DICOMweb server. Finally, Observation is a versatile resource, which offers a structure for any measured value, such as laboratory values but also short text like clinical notes. All resources in FHIR have their own unique ID but can be combined per patient via the associated patient ID. The communication with the FHIR server is carried out with a standardized REST (<italic>REpresentational State Transfer</italic>) protocol [<xref ref-type="bibr" rid="CR1">1</xref>], which allows for creating, reading, replacing, modifying or deleting data. The server returns a FHIR Bundle, which is a collection of FHIR resources matching the search parameters with additional metadata related to the search results. Other uses of Bundles include transactionally modifying multiple resources, or grouping multiple related resources into a coherent view. Thus, FHIR provides the basic framework to retrieve clinical data in a structured way. While the FHIR specification itself allows many degrees of freedom with respect to the type and cardinality of the attributes of FHIR resources, so-called FHIR profiles are used to concretize the semantically interoperable exchange data.</p>
    <p id="Par33">At our institution, the FHIR servers store over 1 billion FHIR resources (see Fig. <xref rid="Fig1" ref-type="fig">1</xref>). These encompass approximately 4.6 million imaging studies, 45 million fully indexed clinical text documents, and 389 million clinical observations from more than 3 million patients, as presented in Fig. <xref rid="Fig1" ref-type="fig">1</xref>. Thus, it is particularly relevant to have a fast, simple, parallelizable tool that lets the client leverage the capabilities of the FHIR REST API and handle the most expensive steps server-side.
<fig id="Fig1"><label>Fig. 1</label><caption><p>Resource statistics at our institution. The plot shows the distribution of the 1,498,863,142 resources present on our FHIR server as of 2023–03-13. The most common resource is ServiceRequest, which is used for records of requests for procedures, diagnostics, or any other service. The second most common is Observation, which stores measurements like lab values, vital parameters but also small texts like clinical notes</p></caption><graphic xlink:href="12913_2023_9498_Fig1_HTML" id="MO1"/></fig></p>
    <p id="Par34">Although this standard has excellent capabilities for exchanging data in a semantically interoperable manner, it is not optimal for statistical data analysis or machine learning in its primary form. Recent studies and tools use preprocessing on FHIR resources to limit and select the input for statistical analysis [<xref ref-type="bibr" rid="CR28">28</xref>–<xref ref-type="bibr" rid="CR30">30</xref>]. However, there also exist deep learning pipelines that use preprocessing and tokenization of FHIR resources to make predictions [<xref ref-type="bibr" rid="CR31">31</xref>]. Nonetheless, this is still not feasible for statistical software or for purely clinical studies. FHIR resources are typically nested, and their degree of complexity is usually unbounded, while data structures used for data science (e.g., pandas’ <italic>DataFrames</italic> [<xref ref-type="bibr" rid="CR32">32</xref>, <xref ref-type="bibr" rid="CR33">33</xref>] for Python, data frames in R) are often tabular data. This mismatch calls for a fast, simple, and easy-to-use tool that acts as a bridge between FHIR and the data science world. We aim to build a simple Python abstraction utilizing the existing FHIR REST API functionalities, giving the user complete control over the queries and providing results as pandas <italic>DataFrames</italic>. The desire for an easy-to-use package for interacting with FHIR servers and data is not new. For example, the fhircrackr [<xref ref-type="bibr" rid="CR30">30</xref>] package was built to provide an interface for the automated extraction of FHIR data in the R programming language. In addition, several Python-based packages exist. The client-py [<xref ref-type="bibr" rid="CR34">34</xref>] package has a query functionality and builds FHIR resources as object classes, but does not deal with <italic>DataFrames</italic>. Similarly, the fhir.resources [<xref ref-type="bibr" rid="CR35">35</xref>] package builds object classes from the FHIR resources and validates them against the FHIR standard requirements, which can sometimes cause problems, as not all FHIR servers follow the standard strictly. Another package, fhir-py [<xref ref-type="bibr" rid="CR36">36</xref>], performs asynchronous calls and allows for saving resources, but is also more focused on data retrieval from the FHIR server. Finally, fhirpack [<xref ref-type="bibr" rid="CR37">37</xref>] has the same purpose as our package but with a different focus and structure in mind.</p>
    <p id="Par35">Three of the mentioned tools offer an interface for FHIR data extraction, but client-py and fhir-py are more focused on pure data extraction. In addition, the tools mentioned have no support for structured data export, e.g., into pandas <italic>DataFrames</italic>. Only fhirpack also tries to save the data in a structured way. However, this tool is more interested in an abstraction of the FHIR logic, and thus many FHIR mechanisms are not made accessible to the user.</p>
    <p id="Par36">The key features of our tool are:<list list-type="bullet"><list-item><p id="Par37">• Easy to use, as the examples present on the project website can be easily customized to cover any use case.</p></list-item><list-item><p id="Par38">• Works with all FHIR resources and does not need customization.</p></list-item><list-item><p id="Par39">• The user has control over the attributes that will be extracted. They can either extract the entire resource or have multiple options to select which attributes are relevant.</p></list-item><list-item><p id="Par40">• Supports FHIRPath [<xref ref-type="bibr" rid="CR38">38</xref>], which is a standardized syntax similar to the one of JSONPath [<xref ref-type="bibr" rid="CR39">39</xref>]. The relevant information can be selected by specifying the attribute path, or by enforcing conditions such as existence or equality.</p></list-item><list-item><p id="Par41">• Combines clinical data as well as DICOM support (if a connection to a DICOMweb compliant imaging storage is available).</p></list-item><list-item><p id="Par42">• Text mining support for medical documents.</p></list-item></list></p>
    <p id="Par43">The tool is supposed to integrate into a modern hospital's broader healthcare infrastructure, as described in Fig. <xref rid="Fig2" ref-type="fig">2</xref>. In this architecture, the clinical data comes from multiple sources, and can, for example, be transformed using ETL (<italic>Extract, Transform and Load</italic>) processes before being imported into the FHIR server. The clinical data may come from different systems, such as: LIS (<italic>Laboratory Information System</italic>), CIS (<italic>Clinical Information System</italic>), VCF (<italic>Variant Call Format</italic>) files, SAP (<italic>System Analysis Program development</italic>) and medication workflow solutions. The imaging data is stored in a RIS (<italic>Radiology Information System</italic>) or in a PACS (<italic>Picture Archiving and Communication System</italic>), which usually also have a DICOMweb interface [<xref ref-type="bibr" rid="CR40">40</xref>]. The research domain is a separated system where the FHIR data is anonymized or pseudoanonymized, and can thus be used for cohort management of clinical studies and to build machine learning solutions. Using these, multiple AI (<italic>Artificial Intelligence</italic>) applications can be implemented for research purposes, for example, to compute automatic segmentations [<xref ref-type="bibr" rid="CR41">41</xref>, <xref ref-type="bibr" rid="CR42">42</xref>], or for risk analysis [<xref ref-type="bibr" rid="CR43">43</xref>]. Additionally, commercial AI software may also be included into the infrastructure [<xref ref-type="bibr" rid="CR44">44</xref>], which can in turn be used to optimize the clinical workflows and for additional clinical studies.
<fig id="Fig2"><label>Fig. 2</label><caption><p>Overview of the tool’s role in the healthcare/machine learning picture. Presentation of an exemplary hospital infrastructure including multiple apps: a FHIR server, a DICOM Web capable PACS (or alternatively an app that handles the communication to the medical imaging storage), and various AI applications. Within the research domain, the FHIR-PYrate package handles the communication between the FHIR server and the PACS (DICOM Web). The package also helps with creating the data prerequisites needed for implementing machine learning solutions and for creating cohorts</p></caption><graphic xlink:href="12913_2023_9498_Fig2_HTML" id="MO2"/></fig></p>
    <p id="Par44">The package is of aid for researchers to implement machine learning solutions and statistical analysis and for doctors to build cohorts of patients for studies. A cohort is a collection of patients that can be grouped according to a particular characteristic. A cohort can be built only with clinical data (e.g., Observation, Condition) but also with imaging data. For example, it is often the case that there is interest in collecting all patients based on a certain diagnosis or treatment. Then, for example, all CT scans of the abdomen could be collected and downloaded for these patients. This process is exactly one of the strengths of the package: Being able to build any cohort, regardless of the resource or even chain of resources. If the CT scans should also be downloaded for further analysis, it is also essential to have direct communication to the FHIR server and to a PACS, where the imaging studies are stored.</p>
  </sec>
  <sec id="Sec3">
    <title>Implementation</title>
    <p id="Par45">The package is open source and available under the following link: <ext-link ext-link-type="uri" xlink:href="https://github.com/UMEssen/FHIR-PYrate">https://github.com/UMEssen/FHIR-PYrate</ext-link>. It can be installed with the pip Python package manager and all relevant information for installation and usage are reported on GitHub. The package is built on four main classes: <italic>Ahoy</italic>, <italic>Pirate</italic>, <italic>DICOMDownloader</italic>, and <italic>Miner</italic>, as presented in Fig. <xref rid="Fig3" ref-type="fig">3</xref>. In the following, we will describe their implementation and explain our stylistic choices. Most FHIR servers require authentication to access clinical data as a prerequisite for data extraction. The <italic>Ahoy</italic> class was implemented for this eventuality, supporting basic HTTP and token authentication. Its primary purpose is to create an HTTP object with the necessary headers for a later connection to a specific FHIR server. Additionally, this class ensures that the token stays up-to-date by either refreshing or reauthenticating the session.
<fig id="Fig3"><label>Fig. 3</label><caption><p>A schematic view of the package structure. The <italic>Ahoy</italic> class handles the user's authentication and creates an HTTP session, which the other classes will then use to interact with the FHIR server. The <italic>Pirate</italic> class handles the communication with the REST API, collects Bundles, and builds the <italic>DataFrames</italic>. The <italic>Miner</italic> class is to be used on a <italic>DataFrame</italic> (normally the result of a DiagnosticReport query), and it will output a report on whether a particular regular expression is present in a text, and in which particular parts of the documents. The <italic>DICOMDownloader</italic> class is used to download medical imaging scans in bulk and store information about them. The <italic>Miner</italic> and the <italic>DICOMDownloader</italic> class are connected with dashed lines, as they can be used as an optional step after retrieving the initial data</p></caption><graphic xlink:href="12913_2023_9498_Fig3_HTML" id="MO3"/></fig></p>
    <sec id="Sec4">
      <title>Pirate</title>
      <p id="Par46">The <italic>Pirate</italic> class is the main interaction point for the data collection and handles all the communication with the FHIR server. The main idea of this class is to allow an easy collection and handling of clinical cohorts for researchers and doctors by using common data structures such as tabular data, which can, in turn, be converted to Excel files. In general, with an instance of the <italic>Pirate</italic> class, it is possible to access all FHIR resources (as shown in Fig. <xref rid="Fig4" ref-type="fig">4</xref>) and to use all implemented FHIR search parameters. The user has full control over the queries and can decide which operations should be done server-side by the FHIR server and which ones should be done client-side within the Python program. The Pirate class can handle all search parameters supported by the server, allowing for easy customization since each FHIR server may designate different parameters. Additionally, the user can also request a Bundle containing the edit history of a particular resource.
<fig id="Fig4"><label>Fig. 4</label><caption><p>Schematic view of the process within the <italic>Pirate</italic> class. The <italic>Pirate</italic> class can be used with any existing resource, and data retrieval processes remain unchanged. In this figure, the querying process for the pictured resources is always the same: First, a query has to be defined and run, then, a FHIR Bundle is returned, and finally, the Bundle is transformed into a <italic>DataFrame</italic></p></caption><graphic xlink:href="12913_2023_9498_Fig4_HTML" id="MO4"/></fig></p>
      <p id="Par47">The functions contained in the <italic>Pirate</italic> class have one of three objectives:<list list-type="order"><list-item><p id="Par48"><bold>Request to</bold> Bundle: They handle the communication with the FHIR server, run the query and return the FHIR resources in the form of a list of Python objects representing the Bundles.</p></list-item><list-item><p id="Par49">Bundle <bold>to</bold>
<bold><italic>DataFrame</italic></bold>: They map the data in the obtained Bundles to <italic>DataFrames</italic>. In our schema, a row usually represents one resource.</p></list-item><list-item><p id="Par50"><bold>Facade functionality</bold>: They combine the functionalities of 1 and 2 to make querying and obtaining <italic>DataFrames</italic> more convenient.</p></list-item></list></p>
      <p id="Par51">Additionally, the functions can either:<list list-type="simple"><list-item><label>a</label><p id="Par52">run a query only according to the resource type and request parameters, or</p></list-item><list-item><label>b</label><p id="Par53">run a query according to the resource type, request parameters, and constraints given by an existing <italic>DataFrame</italic>.</p></list-item></list></p>
      <p id="Par54">The <italic>Pirate</italic> class has seven main data retrieval functions. The steal_bundles function takes the input request parameter and runs one single query on the FHIR server and collects the returned data as Python objects. The sail_through_search_space function uses concurrent processes to speed up the data retrieval. Usually, the user is interested in resources coming from a particular time frame. This function divides the desired time frame into as many time spans as there are processes available, and runs one query for each span. The trade_rows_for_bundles function also uses concurrent processes, but this time by spawning one process for each row of the input <italic>DataFrame</italic>. In fact, this function can be used when, for example, a cohort definition is already defined in a <italic>DataFrame</italic>, and we would like to retrieve information related to each single row. The function uses the given request parameters together with the constraints that are given by the <italic>DataFrame</italic> to build as many queries as there are rows, that are then run concurrently. The bundles_to_dataframe function takes the input of the previous functions and transforms it into a <italic>DataFrame</italic> by transforming the Bundles into rows. As per default, all FHIR attributes are stored in the final <italic>DataFrame</italic>, but some filtering mechanisms can also be used, which will be described later.</p>
      <p id="Par55">The steal_bundles_to_dataframe, sail_through_search_space_to_dataframe and trade_rows_for_dataframe are functions that combine their non-<italic>DataFrame</italic> variant with the bundles_to_dataframe function and perform both operations together. The trade_rows_for_dataframe function also has the option to add the original columns as columns to the final DataFrame to make further processing easier. A summary of the functions and their roles is presented in Table <xref rid="Tab1" ref-type="table">1</xref>.<table-wrap id="Tab1"><label>Table 1</label><caption><p>Overview of the <italic>Pirate</italic> functions and of their capabilities. The functions of type 1 handle the conversion from query to Bundle, while the ones of type 2 build <italic>DataFrames</italic> from the Bundles. The functions of type 3 are facade functions that combine the functionalities of type 1 and 2 for convenience. Additionally, we have functions that only retrieve data according to the request parameters (type a), and functions that take a <italic>DataFrame</italic> as input and process all the rows (type b). Furthermore, we also support concurrent querying and computing for all functions but one, which is not parallelizable, as it only runs one query</p></caption><table frame="hsides" rules="groups"><thead><tr><th align="left" rowspan="2">Function</th><th align="left" rowspan="2">Type</th><th align="left" rowspan="2">Constraints on <italic>DataFrame</italic></th><th align="left" colspan="2">Parallel</th></tr><tr><th align="left"><bold>Queries</bold></th><th align="left"><bold><italic>DataFrame</italic></bold><bold> Building</bold></th></tr></thead><tbody><tr><td align="left">steal_bundles</td><td align="left">1a. Request to Bundle</td><td align="left">No</td><td align="left">No</td><td align="left">/</td></tr><tr><td align="left">sail_through_search_space</td><td align="left">1a. Request to Bundle</td><td align="left">No</td><td align="left">Yes</td><td align="left">/</td></tr><tr><td align="left">trade_rows_for_bundles</td><td align="left">1b. Request to Bundle</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">/</td></tr><tr><td align="left">bundles_to_dataframe</td><td align="left">2. Bundle to <italic>DataFrame</italic></td><td align="left">/</td><td align="left">/</td><td align="left">Yes</td></tr><tr><td align="left">steal_bundles_to_dataframe</td><td align="left">3a. Facade (1 + 2)</td><td align="left">No</td><td align="left">No</td><td align="left">Yes</td></tr><tr><td align="left">sail_through_search_space_to_dataframe</td><td align="left">3a. Facade (1 + 2)</td><td align="left">No</td><td align="left">Yes</td><td align="left">Yes</td></tr><tr><td align="left">trade_rows_for_dataframe</td><td align="left">3b. Facade (1 + 2)</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td></tr></tbody></table></table-wrap></p>
      <p id="Par56">For example, a specific use case for the application of FHIR-PYrate would be the extraction of all CT scans from patients with a certain disease. One way to address this problem is to first find all Observation resources with a certain ICD (<italic>International Classification of Diseases</italic>) code [<xref ref-type="bibr" rid="CR45">45</xref>], then use these resources to retrieve the Patient resources, and finally collect all the ImagingStudy resources for these patients. This can be achieved with two FHIR-PYrate queries, which are presented in Fig. <xref rid="Fig5" ref-type="fig">5</xref>.<fig id="Fig5"><label>Fig. 5</label><caption><p>Retrieval of all CT studies for patients with scoliosis. Two FHIR-PYrate queries can be used to obtain all CT studies belonging to patients which suffer from scoliosis. The first query is for the Condition resource, while the second one is for the ImagingStudy resource. The request parameters for the FHIR server are specified using the request_params parameter. The df_constraints parameter is used to specify request parameters that should be constrained according to each row of the input <italic>DataFrame</italic>. The fhir_paths parameter selects which attribute of the resource should be returned</p></caption><graphic xlink:href="12913_2023_9498_Fig5_HTML" id="MO5"/></fig></p>
      <p id="Par57">The first query is of type 3a, as we just need to specify the kind of resource (Observation), and the required ICD code as a parameter. Each Observation has a reference to the corresponding Patient resource that has a diagnosis. The second query is of type 3b, and takes the kind of resource (ImagingStudy) and the <italic>DataFrame</italic> that we obtained from the previous query as input. Now, a query on ImagingStudy will be run for each row of the <italic>DataFrame</italic> of Observation resources, where the query’s Patient reference will be constrained on the subject of the Observation.</p>
      <p id="Par58">However, it often happens that the FHIR server contains multiple instances of the same patient, as they might be identified by multiple accounts on the hospital’s systems. If the server implements a heuristic that links the Patient resources with the Patient.link attribute (e.g. such as having the same name and date of birth assumes being the same person), then one additional query of type 3b on the <italic>DataFrame</italic> of Observation resources can be used to retrieve all the Patient resources.</p>
      <p id="Par59">As we previously mentioned, FHIR resources can be arbitrarily complex, and thus it is important to implement mechanisms to filter only the needed information. The filtering is run while building the <italic>DataFrames</italic>, so all functions that have <italic>DataFrames</italic> as output support filtering. We offer two kinds of filtering, all Bundle-based:<list list-type="order"><list-item><p id="Par60">Filter using FHIRPath: FHIRPath [<xref ref-type="bibr" rid="CR38">38</xref>] is a standardized query syntax that accesses the desired attributes and performs simple operations such as replacing strings, simple mathematical operations, and checking for existence. The advantage of this is that it is rather easy to store any needed attribute with a small amount of code (as shown in Fig. <xref rid="Fig5" ref-type="fig">5</xref>). In this case, each row of the <italic>DataFrame</italic> represents one resource. We implement this feature with the help of fhirpath-py [<xref ref-type="bibr" rid="CR46">46</xref>], a Python package built exactly for this purpose.</p></list-item><list-item><p id="Par61">Filter using processing functions: Another option is to use a processing function, which can be given as input to the functions that transform the Bundles into <italic>DataFrames</italic>. These functions are always run for each Bundle and can implement any desired logic (example in Fig. <xref rid="Fig6" ref-type="fig">6</xref>). In this case, the <italic>DataFrame</italic> structure can be built arbitrarily, and each row does not necessarily represent one resource.</p></list-item></list><fig id="Fig6"><label>Fig. 6</label><caption><p>Using processing functions. The steal_bundles_to_dataframe retrieves the required Observation resources that contain information about the blood pressure panel. Then, the obtained bundles are transformed to rows by using the get_blood_panel_info function. This function iterates through the entries of a bundle and collects the resource IDs, and then iterates through the component attribute, which contains multiple pieces of information about the blood panel status, in this case, the systolic and the diastolic blood pressure. Each component attribute contains a display name (a natural language name of what is being evaluated), a quantity (the actual measured value) and a unit of measurement. For each piece of information, the display name becomes the column header, the quantity becomes the value, and the unit is stored in an additional column. The table below the figure presents an example output for this query</p></caption><graphic xlink:href="12913_2023_9498_Fig6_HTML" id="MO6"/></fig></p>
      <p id="Par62">Another essential aspect is the possibility to run concurrent processes to more quickly process the queries. This, however, highly depends on the throughput of the FHIR server and on how many requests it can handle. The default number of processes is always one and can be increased freely according to the server’s capabilities.</p>
      <p id="Par63">We implement three kinds of parallelization. First, whenever multiple queries are generated from one <italic>DataFrame</italic> (functions of type a), this can be run in parallel by setting the number of desired processes. Second, the conversion from Bundle to <italic>DataFrame</italic> can also be performed concurrently. Last, if the amount of data to retrieve concerns a vast time span, the time span can be broken into as many time frames as there are processes. For all facade functions supporting multiprocessing, the user can decide whether they want to run the queries first and then build the output <italic>DataFrame</italic>, or whether they want to alternate between running queries and transforming them using the filtering functions. A direct transformation after each bundle retrieval ensures that if a data point does not apply to the filtering schema, the run will stop. If the bundles are retrieved first and then transformed, any errors will occur at the very end. Another notable feature is the possibility to merge information from multiple rows automatically after running a query. This may happen when a query includes resources of another type in the result. For example, a query on ImagingStudy may also want to return the Patient resources (as in Fig. <xref rid="Fig7" ref-type="fig">7</xref>), such that it is possible to process the studies and the patients together. In this case, since we usually expect one row to represent one resource, we would have rows corresponding to ImagingStudy resources, and rows corresponding to Patient resources. By specifying the merge_on flag with the name of the column that should be used for merging resources (in this case, with the same Patient ID), we obtain a <italic>DataFrame</italic> where each row represents an ImagingStudy and that has all the needed information about the patient.<fig id="Fig7"><label>Fig. 7</label><caption><p>Including secondary resources. ImagingStudy resources also contain a reference to the Patient resource they belong to, and using the _include parameter the corresponding Patient resources can be imported in the output Bundle. The attributes that should be added to the final <italic>DataFrame</italic> can be specified with the fhir_paths parameter, where it is also possible to specify from which resource the attribute should come from, to ensure clarity. Usually, one row of the output <italic>DataFrame</italic> represents one entry of a Bundle. By specifying the merge_on parameter, the rows which have the same patient_id are merged, producing a <italic>DataFrame</italic> similar to the table below the figure</p></caption><graphic xlink:href="12913_2023_9498_Fig7_HTML" id="MO7"/></fig></p>
    </sec>
    <sec id="Sec8">
      <title>Miner</title>
      <p id="Par65">Medical findings are often stored in an unstructured manner, especially as free text. Thus, whenever a piece of information is needed from a document, it has to be found manually among all existing documents. Increasingly powerful NLP (<italic>Natural Language Processing</italic>) models have currently been used for named entity recognition to solve this exact problem [<xref ref-type="bibr" rid="CR47">47</xref>–<xref ref-type="bibr" rid="CR49">49</xref>]. However, they usually need some ground truth, are not available for all languages, and they must undergo stringent validation processes to be admitted into the clinical routine. The <italic>Miner</italic> class is supposed to aid NLP pipelines by identifying which documents are possibly relevant to a particular research question.</p>
      <p id="Par66">The main idea of the class is to take a <italic>DataFrame</italic> containing texts and find out whether a user-given regular expression is present in the document, as presented in Fig. <xref rid="Fig8" ref-type="fig">8</xref>. This is done by first converting the text into sentences and then checking whether the regular expression is present in each sentence. As a result, the user is given a summary of the locations of the searched expression, and the number of viable instances. Additionally, it is also possible to give a secondary regular expression as input, and in such cases the result is the sentences that contain the first regular expression and do not contain the secondary one. This process may be useful to find some particular keyword (e.g., sarcoma), but at the same time to remove specific cases that are not interesting for our research question (e.g., osteosarcoma). The sentences are created using the well-known NLP library SpaCy [<xref ref-type="bibr" rid="CR50">50</xref>], while the regular expression matching is done with the Python standard library re [<xref ref-type="bibr" rid="CR51">51</xref>].<fig id="Fig8"><label>Fig. 8</label><caption><p>An overview of the process to identify whether a text contains relevant sentences using the <italic>Miner</italic> class. First, if the document has a specific structure, all the information before a known keyword (e.g., “Findings”) is removed. Then, the sentences are identified using the SpaCy library. For each sentence, the input regular expression is matched against the text and if the sentiment of the sentence is not negative, the sentence is considered a match</p></caption><graphic xlink:href="12913_2023_9498_Fig8_HTML" id="MO8"/></fig></p>
      <p id="Par67">In many cases, clinical documents have a specific structure. For example, documents may always have a header, and the relevant part of the text may always start with the word “Findings”. In such cases, it is beneficial to remove the header, and this can be done by giving these specific keywords as input to the ​​nlp_on_dataframe function (Fig. <xref rid="Fig9" ref-type="fig">9</xref>). This class function handles the entire described process, and if requested, the rows of the <italic>DataFrame</italic> can also be examined concurrently using multiple processes.<fig id="Fig9"><label>Fig. 9</label><caption><p>Example <italic>Miner </italic>Query. The <italic>Miner</italic> class is first initialized, then, a <italic>DataFrame</italic> containing the text documents in a specified column is processed using the nlp_on_dataframe function. However, the data may not be stored as readable text on the FHIR server (e.g. may be stored as HTML, encoded). For this purpose, a processing function to preprocess the text may be specified, in this case, decode_text</p></caption><graphic xlink:href="12913_2023_9498_Fig9_HTML" id="MO9"/></fig></p>
    </sec>
    <sec id="Sec10">
      <title>DICOMDownloader</title>
      <p id="Par68">In recent years, deep learning for medical imaging has become a very active field of research, resulting in a great need for direct and automatable access to image data by data scientists. Most imaging studies conducted within the clinical routine are stored in a PACS using the DICOM format. In our system, the DICOM studies are referenced as resources on a DICOMweb endpoint by ImagingStudy resources on the FHIR server. Each ImagingStudy references a DICOM study, which can reference multiple series (i.e., the actual scans). In the DICOM standard, each scan has a SeriesInstanceUID and a StudyInstanceUID.</p>
      <p id="Par69">The <italic>DICOMDownloader</italic> class aims at automating the downloading process of DICOM studies or specific series. As a prerequisite, we need a pandas <italic>DataFrame</italic> containing the StudyInstanceUID of the study we want to download. In the event that only certain series are to be downloaded, a SeriesInstanceUID can also be supplied. Once the cohort of series has been identified, a call to download_data_from_dataframe stores the downloaded series in the desired folder. Optionally, the series may be stored according to a hierarchical folder structure, which reduces the number of files per folder and may be beneficial to avoid overloading the file system.</p>
      <p id="Par70">The communication with a PACS is handled by the DicomWebClient package [<xref ref-type="bibr" rid="CR52">52</xref>]. This assumes that the PACS is able to handle the DICOMweb standard [<xref ref-type="bibr" rid="CR40">40</xref>]. Once the series have been downloaded, the download_data_from_dataframe function returns two <italic>DataFrames</italic> (Fig. <xref rid="Fig10" ref-type="fig">10</xref>), one containing the series that could be successfully downloaded and the name of the folder where they are stored, and the other containing the IDs of the series that failed, and the error that caused them to fail. This process is also depicted in Fig. <xref rid="Fig11" ref-type="fig">11</xref>.<fig id="Fig10"><label>Fig. 10</label><caption><p>Example <italic>DICOMDownloader</italic> Query. The <italic>DICOMDownloader</italic> class is initialized with the desired output format, and the data is downloaded to the desired output directory using the download_data_from_dataframe function</p></caption><graphic xlink:href="12913_2023_9498_Fig10_HTML" id="MO10"/></fig><fig id="Fig11"><label>Fig. 11</label><caption><p>An overview of the download of DICOM studies using the <italic>DICOMDownloader</italic>. A collection of StudyInstanceUID and SeriesInstanceUID is given as input to the DICOMDownloader (1), which uses them to communicate with a DICOMweb instance (2) and stores the results in a predefined folder (3). Additionally, two <italic>DataFrames</italic> are returned (3). The first one contains a list of all successfully downloaded series, while the second one has a list of all the failed series and the kind of error that was produced</p></caption><graphic xlink:href="12913_2023_9498_Fig11_HTML" id="MO11"/></fig></p>
    </sec>
  </sec>
  <sec id="Sec12">
    <title>Results</title>
    <p id="Par71">To demonstrate the practical applicability of this package, a real-world scenario is presented to analyze the prognostic significance of routine CT imaging and clinical data in breast cancer patients with pulmonary metastases. Since triple negative breast cancer is known to have a poor prognosis [<xref ref-type="bibr" rid="CR53">53</xref>], ER (<italic>Estrogen Receptor</italic>), PR (<italic>Progesterone Receptor</italic>), and HER-2 (<italic>Human Epidermal growth factor Receptor 2</italic>) are highly relevant markers. In this example, a survival analysis will be performed using a deep learning model with the CT of the thorax, age, TNM stage, ER, PR, and HER-2 status of the selected patients.</p>
    <p id="Par72">The first step is to find all patients with metastatic breast cancer. The patients can be identified using the Condition resource with the ICD-10 code “C50” for breast cancer, and “C78.0” for pulmonary metastases, and by selecting the patients that have both. For the remaining patients, some demographic information is retrieved, such as age and date of death. For the survival analysis, the samples are going to be censored if the patient has died, and uncensored otherwise. The time to death will be specified as the number of days between the diagnosis date of the metastases and the death of the patient, or a specific date to be chosen as the end of the study. Additionally, the clinical data is retrieved using the Observation resource and the respective LOINC (<italic>Logical Observation Identifiers Names and Codes</italic>) codes [<xref ref-type="bibr" rid="CR54">54</xref>] and by checking that the date of the Observation is at most 30 days before or after the diagnosis of the metastases. The resulting table contains the ER (LOINC code “16,112–5”), PR (LOINC code “16,113–3”) and HER-2 (LOINC code “48,676–1”) markers and the TNM stadium (LOINC code “21,908–9”) for the selected patients. Similarly, ImagingStudy resources referencing CTs of the thorax are retrieved using the same date constraints and are downloaded using the <italic>DICOMDownloader</italic>. This process is outlined in Fig. <xref rid="Fig12" ref-type="fig">12</xref>. It is important to notice that the available data and the use of particular codes (e.g., LOINC, ICD-10) may depend on the FHIR server and on the clinical data available at an institution. Additionally, some FHIR servers do not implement all search parameters, and there might be different approaches to obtain the same results.<fig id="Fig12"><label>Fig. 12</label><caption><p>Data collection using FHIR-PYrate for breast cancer patients. The process starts by collecting patients with specific ICD-10 codes (1), the results are filtered (2), and then the clinical (3) and imaging data (4) is retrieved. The resulting <italic>DataFrames</italic> can also be merged to obtain the complete cohort information. The code retrieval is simplified by omitting the URL of each system (i.e., LOINC instead of "<ext-link ext-link-type="uri" xlink:href="http://loinc.org">http://loinc.org</ext-link>")</p></caption><graphic xlink:href="12913_2023_9498_Fig12_HTML" id="MO12"/></fig></p>
    <p id="Par73">The patient cohort can be then divided into a train and a test set, and a deep learning model can be trained to predict the survival of the patients using a Cox regression. Previous studies have already successfully used deep learning methods for survival analysis [<xref ref-type="bibr" rid="CR55">55</xref>], and could be extended to also consider imaging information.</p>
    <p id="Par74">The described process can be used for any use case requiring both clinical and imaging data, and could also be extended to NLP by also retrieving the DiagnosticReport relevant to the use case.</p>
  </sec>
  <sec id="Sec13">
    <title>Discussion</title>
    <p id="Par75">The tool offers a connection between the well-structured and complex FHIR standard and the field of data science, which is dominated by the use of tabular data. Its <italic>DataFrame</italic> output delivers an easy-to-understand, simplified overview of the FHIR resources and can be used more easily for statistical analysis and machine learning. The filtering capabilities also ensure that the user is only provided with the data they need and that the output is not just a dump of the FHIR resources. Furthermore, the filtering allows the user to perform simple operations on the data (e.g., replacement, splitting) such that the final <italic>DataFrame</italic> does not require further modification. An important criterion in the design of our package was not—by means of abstraction—to keep the user away from the FHIR standard, which in our view is well designed, very intuitive and at the same time powerful, but rather to allow the user efficient access to the data contained in a FHIR server while retaining full control over the underlying queries and data structures. The package is intended as a scripting tool, but a more user-friendly graphical interface to be used with the tool as its core is already being planned. In this regard, the tool can also be used to build dashboards and monitors to display important FHIR metrics and data, and that can actively be used in patient care.</p>
  </sec>
  <sec id="Sec14">
    <title>Conclusions</title>
    <p id="Par76">In this work, we presented FHIR-PYrate, a Python package for extracting and collecting all sorts of clinical data from FHIR servers. The proposed tool is essential for researchers, but also for technology-affine doctors, to rapidly build research cohorts and to combine clinical as well as imaging data. The main <italic>Pirate</italic> class handles the communication with the FHIR server and can be used for any resource type, which makes the creation of any dataset straightforward. Additionally, we presented two additional classes: The <italic>Miner</italic> class to filter attributes according to regular expressions and the <italic>DICOMDownloader</italic> to download imaging studies directly from a PACS. With its simplicity and standardized mechanisms, the FHIR-PYrate uses all the advantages of the FHIR standard and combines it into one Python based API.</p>
    <p id="Par77">In future work, we plan to further analyze and test this package with FHIR servers from multiple institutions. Additionally, we aim at simplifying and streamlining the main package API to make it more accessible to users with various levels of programming experience. The newest developments will be posted on the GitHub page of the package (<ext-link ext-link-type="uri" xlink:href="https://github.com/UMEssen/FHIR-PYrate">https://github.com/UMEssen/FHIR-PYrate</ext-link>).</p>
  </sec>
  <sec id="Sec15">
    <title>Availability and requirements</title>
    <p id="Par78"><bold>Project name</bold>: FHIR-PYrate.</p>
    <p id="Par79"><bold>Project home page</bold>: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.5281/zenodo.7025226">https://doi.org/10.5281/zenodo.7025226</ext-link></p>
    <p id="Par80"><bold>Operating system(s)</bold>: Platform independent.</p>
    <p id="Par81"><bold>Programming language</bold>: Python.</p>
    <p id="Par82"><bold>Other requirements</bold>: Python 3.7 or higher (for version 0.1.0), Python 3.8 or higher.</p>
    <p id="Par83"><bold>License</bold>: MIT.</p>
    <p id="Par84"><bold>Any restrictions to use by non-academics</bold>: None.</p>
  </sec>
</body>
<back>
  <glossary>
    <title>Abbreviations</title>
    <def-list>
      <def-item>
        <term>AI</term>
        <def>
          <p id="Par5">Artificial Intelligence</p>
        </def>
      </def-item>
      <def-item>
        <term>API</term>
        <def>
          <p id="Par6">Application Programming Interface</p>
        </def>
      </def-item>
      <def-item>
        <term>CDA</term>
        <def>
          <p id="Par7">Clinical Document Architecture</p>
        </def>
      </def-item>
      <def-item>
        <term>CIS</term>
        <def>
          <p id="Par8">Clinical Information System</p>
        </def>
      </def-item>
      <def-item>
        <term>CT</term>
        <def>
          <p id="Par9">Computed Tomography</p>
        </def>
      </def-item>
      <def-item>
        <term>DICOM</term>
        <def>
          <p id="Par10">Digital Imaging and Communications in Medicine</p>
        </def>
      </def-item>
      <def-item>
        <term>EHR</term>
        <def>
          <p id="Par11">Electronic Health Records</p>
        </def>
      </def-item>
      <def-item>
        <term>ER</term>
        <def>
          <p id="Par12">Estrogen Receptor</p>
        </def>
      </def-item>
      <def-item>
        <term>ETL</term>
        <def>
          <p id="Par13">Extract, Transform and Load</p>
        </def>
      </def-item>
      <def-item>
        <term>FHIR</term>
        <def>
          <p id="Par14">Fast Healthcare Interoperability Resources</p>
        </def>
      </def-item>
      <def-item>
        <term>HER-2</term>
        <def>
          <p id="Par15">Human Epidermal growth factor Receptor 2</p>
        </def>
      </def-item>
      <def-item>
        <term>HL7</term>
        <def>
          <p id="Par16">Heath Level Seven</p>
        </def>
      </def-item>
      <def-item>
        <term>ICD</term>
        <def>
          <p id="Par17">International Classification of Diseases</p>
        </def>
      </def-item>
      <def-item>
        <term>LIS</term>
        <def>
          <p id="Par18">Laboratory Information System</p>
        </def>
      </def-item>
      <def-item>
        <term>LOINC</term>
        <def>
          <p id="Par19">Logical Observation Identifiers Names and Codes</p>
        </def>
      </def-item>
      <def-item>
        <term>ONC</term>
        <def>
          <p id="Par20">Office of the National Coordinator for Health Information Technology</p>
        </def>
      </def-item>
      <def-item>
        <term>MRI</term>
        <def>
          <p id="Par21">Magnetic Resonance Imaging</p>
        </def>
      </def-item>
      <def-item>
        <term>PACS</term>
        <def>
          <p id="Par22">Picture Archiving and Communication System</p>
        </def>
      </def-item>
      <def-item>
        <term>PR</term>
        <def>
          <p id="Par23">Progesterone Receptor</p>
        </def>
      </def-item>
      <def-item>
        <term>REST</term>
        <def>
          <p id="Par24">REpresentational State Transfer</p>
        </def>
      </def-item>
      <def-item>
        <term>RIS</term>
        <def>
          <p id="Par25">Radiology Information System</p>
        </def>
      </def-item>
      <def-item>
        <term>SAP</term>
        <def>
          <p id="Par26">System Analysis Program development</p>
        </def>
      </def-item>
      <def-item>
        <term>VCF</term>
        <def>
          <p id="Par27">Variant Call Format</p>
        </def>
      </def-item>
    </def-list>
  </glossary>
  <fn-group>
    <fn>
      <p>
        <bold>Publisher’s Note</bold>
      </p>
      <p>Springer Nature remains neutral with regard to jurisdictional claims in published maps and institutional affiliations.</p>
    </fn>
    <fn>
      <p>René Hosch and Giulia Baldini these authors contributed equally to this work.</p>
    </fn>
  </fn-group>
  <ack>
    <title>Acknowledgements</title>
    <p>We would like to thank Johannes Haubold for his valuable clinical insights, Tobias Brieden for his essential technical input and Cynthia Sabrina Schmidt for assisting us in identifying a pertinent medical application for the “<xref rid="Sec4" ref-type="sec">Results</xref>” section. We acknowledge support by the Open Access Publication Fund of the University of Duisburg-Essen.
</p>
  </ack>
  <notes notes-type="author-contribution">
    <title>Authors’ contributions</title>
    <p>RH and GB built the FHIR-PYrate package. GB, RH, SK, VP, KB, ME, KA and FN tested and optimized the package. GB and RH co-wrote the manuscript and approved its final content. FN, SK, VP, KB, MU, KA, and ME contributed to the package design, critically revised the manuscript and package, and approved its final content. The author(s) read and approved the final manuscript.</p>
  </notes>
  <notes notes-type="funding-information">
    <title>Funding</title>
    <p>Open Access funding enabled and organized by Projekt DEAL. The authors declare that no funds, grants, or other support were received during the preparation of this manuscript.</p>
  </notes>
  <notes notes-type="data-availability">
    <title>Availability of data and materials</title>
    <p>Not applicable.</p>
  </notes>
  <notes>
    <title>Declarations</title>
    <notes id="FPar1">
      <title>Ethics approval and consent to participate</title>
      <p id="Par85">Not applicable.</p>
    </notes>
    <notes id="FPar2">
      <title>Consent for publication</title>
      <p id="Par86">Not applicable.</p>
    </notes>
    <notes id="FPar3" notes-type="COI-statement">
      <title>Competing interests</title>
      <p id="Par87">The authors declare that they have no competing interests.</p>
    </notes>
  </notes>
  <ref-list id="Bib1">
    <title>References</title>
    <ref id="CR1">
      <label>1.</label>
      <mixed-citation publication-type="other">Bender D, Sartipi K. HL7 FHIR: An Agile and RESTful approach to healthcare information exchange. Proceedings of the 26th IEEE International Symposium on Computer-Based Medical Systems. IEEE; 2013. p. 326–31. 10.1109/CBMS.2013.6627810.</mixed-citation>
    </ref>
    <ref id="CR2">
      <label>2.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Duda</surname>
            <given-names>SN</given-names>
          </name>
          <name>
            <surname>Kennedy</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Conway</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Cheng</surname>
            <given-names>AC</given-names>
          </name>
          <name>
            <surname>Nguyen</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Zayas-Cabán</surname>
            <given-names>T</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>HL7 FHIR-based tools and initiatives to support clinical research: a scoping review</article-title>
        <source>J Am Med Inform Assoc</source>
        <year>2022</year>
        <volume>29</volume>
        <fpage>1642</fpage>
        <lpage>1653</lpage>
        <pub-id pub-id-type="doi">10.1093/jamia/ocac105</pub-id>
        <?supplied-pmid 35818340?>
        <pub-id pub-id-type="pmid">35818340</pub-id>
      </element-citation>
    </ref>
    <ref id="CR3">
      <label>3.</label>
      <mixed-citation publication-type="other">Hehner S, Liese K, Loos G, Möller M, Schiegnitz S, Schneider T, et al. Die Digitalisierung in deutschen Krankenhäusern - eine Chance mit Milliardenpotenzial. McKinsey &amp; Company Healthcare Practice. 2018. <ext-link ext-link-type="uri" xlink:href="https://www.mckinsey.de/publikationen/digitalisierung-chance-mit-milliardenpotenzial">https://www.mckinsey.de/publikationen/digitalisierung-chance-mit-milliardenpotenzial</ext-link>. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR4">
      <label>4.</label>
      <mixed-citation publication-type="other">Dash P, Henricson C, Kumar P, Stern N. The hospital is dead, long live the hospital! McKinsey &amp; Company Healthcare Systems and Services Practice. 2019. <ext-link ext-link-type="uri" xlink:href="https://www.mckinsey.com/industries/healthcare-systems-and-services/our-insights/the-hospital-is-dead-long-live-the-hospital">https://www.mckinsey.com/industries/healthcare-systems-and-services/our-insights/the-hospital-is-dead-long-live-the-hospital</ext-link>. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR5">
      <label>5.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Adler-Milstein</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Holmgren</surname>
            <given-names>AJ</given-names>
          </name>
          <name>
            <surname>Kralovec</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Worzala</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Searcy</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Patel</surname>
            <given-names>V</given-names>
          </name>
        </person-group>
        <article-title>Electronic health record adoption in US hospitals: the emergence of a digital “advanced use” divide</article-title>
        <source>J Am Med Inform Assoc JAMIA</source>
        <year>2017</year>
        <volume>24</volume>
        <fpage>1142</fpage>
        <lpage>1148</lpage>
        <pub-id pub-id-type="doi">10.1093/jamia/ocx080</pub-id>
        <?supplied-pmid 29016973?>
        <pub-id pub-id-type="pmid">29016973</pub-id>
      </element-citation>
    </ref>
    <ref id="CR6">
      <label>6.</label>
      <mixed-citation publication-type="other">HealthIT.gov. National Trends in Hospital and Physician Adoption of Electronic Health Records. The Office of the National Coordinator for Health Information Technology. 2021. <ext-link ext-link-type="uri" xlink:href="https://www.healthit.gov/data/quickstats/national-trends-hospital-and-physician-adoption-electronic-health-records">https://www.healthit.gov/data/quickstats/national-trends-hospital-and-physician-adoption-electronic-health-records</ext-link>. Accessed 9 Mar 2023.</mixed-citation>
    </ref>
    <ref id="CR7">
      <label>7.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Kruse</surname>
            <given-names>CS</given-names>
          </name>
          <name>
            <surname>Stein</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Thomas</surname>
            <given-names>H</given-names>
          </name>
          <name>
            <surname>Kaur</surname>
            <given-names>H</given-names>
          </name>
        </person-group>
        <article-title>The use of electronic health records to support population health: a systematic review of the literature</article-title>
        <source>J Med Syst</source>
        <year>2018</year>
        <volume>42</volume>
        <fpage>214</fpage>
        <pub-id pub-id-type="doi">10.1007/s10916-018-1075-6</pub-id>
        <?supplied-pmid 30269237?>
        <pub-id pub-id-type="pmid">30269237</pub-id>
      </element-citation>
    </ref>
    <ref id="CR8">
      <label>8.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Stanhope</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Matthews</surname>
            <given-names>EB</given-names>
          </name>
        </person-group>
        <article-title>Delivering person-centered care with an electronic health record</article-title>
        <source>BMC Med Inform Decis Mak</source>
        <year>2019</year>
        <volume>19</volume>
        <fpage>168</fpage>
        <pub-id pub-id-type="doi">10.1186/s12911-019-0897-6</pub-id>
        <?supplied-pmid 31438960?>
        <pub-id pub-id-type="pmid">31438960</pub-id>
      </element-citation>
    </ref>
    <ref id="CR9">
      <label>9.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Riahi</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Fischler</surname>
            <given-names>I</given-names>
          </name>
          <name>
            <surname>Stuckey</surname>
            <given-names>MI</given-names>
          </name>
          <name>
            <surname>Klassen</surname>
            <given-names>PE</given-names>
          </name>
          <name>
            <surname>Chen</surname>
            <given-names>J</given-names>
          </name>
        </person-group>
        <article-title>The value of electronic medical record implementation in mental health care: a case study</article-title>
        <source>JMIR Med Inform</source>
        <year>2017</year>
        <volume>5</volume>
        <fpage>e6512</fpage>
        <pub-id pub-id-type="doi">10.2196/medinform.6512</pub-id>
      </element-citation>
    </ref>
    <ref id="CR10">
      <label>10.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Reisman</surname>
            <given-names>M</given-names>
          </name>
        </person-group>
        <article-title>EHRs: the challenge of making electronic data usable and interoperable</article-title>
        <source>Pharm Ther</source>
        <year>2017</year>
        <volume>42</volume>
        <fpage>572</fpage>
        <lpage>575</lpage>
      </element-citation>
    </ref>
    <ref id="CR11">
      <label>11.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Dolin</surname>
            <given-names>RH</given-names>
          </name>
          <name>
            <surname>Alschuler</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Beebe</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Biron</surname>
            <given-names>PV</given-names>
          </name>
          <name>
            <surname>Boyer</surname>
            <given-names>SL</given-names>
          </name>
          <name>
            <surname>Essin</surname>
            <given-names>D</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>The HL7 clinical document architecture</article-title>
        <source>J Am Med Inform Assoc JAMIA</source>
        <year>2001</year>
        <volume>8</volume>
        <fpage>552</fpage>
        <lpage>569</lpage>
        <pub-id pub-id-type="doi">10.1136/jamia.2001.0080552</pub-id>
        <?supplied-pmid 11687563?>
        <pub-id pub-id-type="pmid">11687563</pub-id>
      </element-citation>
    </ref>
    <ref id="CR12">
      <label>12.</label>
      <mixed-citation publication-type="other">Atalag DK, Beale T, Chen DR. openEHR: A semantically-enabled, vendor-independent health computing platform. openEHR International. 2015. <ext-link ext-link-type="uri" xlink:href="https://www.openehr.org/static/files/resources/openEHR_vendor_independent_platform.pdf">https://www.openehr.org/static/files/resources/openEHR_vendor_independent_platform.pdf</ext-link>. Accessed 9 Mar 2023.</mixed-citation>
    </ref>
    <ref id="CR13">
      <label>13.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Lehne </surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Luijten </surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Vom Felde Genannt Imbusch </surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname> Thun </surname>
            <given-names>S</given-names>
          </name>
        </person-group>
        <article-title>The Use of FHIR in Digital Health - A Review of the Scientific Literature</article-title>
        <source>Stud Health Technol Inform</source>
        <year>2019</year>
        <volume>267</volume>
        <fpage>52</fpage>
        <lpage>8</lpage>
        <?supplied-pmid 31483254?>
        <pub-id pub-id-type="pmid">31483254</pub-id>
      </element-citation>
    </ref>
    <ref id="CR14">
      <label>14.</label>
      <mixed-citation publication-type="other">Steven Posnack, Wes Barker. The Heat is On: US Caught FHIR in 2019. Health IT Buzz. 2021. <ext-link ext-link-type="uri" xlink:href="https://www.healthit.gov/buzz-blog/health-it/the-heat-is-on-us-caught-fhir-in-2019">https://www.healthit.gov/buzz-blog/health-it/the-heat-is-on-us-caught-fhir-in-2019</ext-link>. Accessed 9 Mar 2023.</mixed-citation>
    </ref>
    <ref id="CR15">
      <label>15.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Marteau</surname>
            <given-names>BL</given-names>
          </name>
          <name>
            <surname>Zhu</surname>
            <given-names>Y</given-names>
          </name>
          <name>
            <surname>Giuste</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Shi</surname>
            <given-names>W</given-names>
          </name>
          <name>
            <surname>Carpenter</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Hilton</surname>
            <given-names>C</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Accelerating multi-site health informatics with streamlined data infrastructure using OMOP-on-FHIR</article-title>
        <source>Annu Int Conf IEEE Eng Med Biol Soc IEEE Eng Med Biol Soc Annu Int Conf</source>
        <year>2022</year>
        <volume>2022</volume>
        <fpage>4687</fpage>
        <lpage>4690</lpage>
      </element-citation>
    </ref>
    <ref id="CR16">
      <label>16.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Xu</surname>
            <given-names>H</given-names>
          </name>
          <name>
            <surname>Cox</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Stillwell</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Pfaff</surname>
            <given-names>E</given-names>
          </name>
          <name>
            <surname>Champion</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Ahalt</surname>
            <given-names>SC</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>FHIR PIT: an open software application for spatiotemporal integration of clinical data and environmental exposures data</article-title>
        <source>BMC Med Inform Decis Mak</source>
        <year>2020</year>
        <volume>20</volume>
        <fpage>53</fpage>
        <pub-id pub-id-type="doi">10.1186/s12911-020-1056-9</pub-id>
        <?supplied-pmid 32160884?>
        <pub-id pub-id-type="pmid">32160884</pub-id>
      </element-citation>
    </ref>
    <ref id="CR17">
      <label>17.</label>
      <mixed-citation publication-type="other">Kiourtis A, Mavrogiorgou A, Kyriazis D. FHIR Ontology Mapper (FOM): Aggregating Structural and Semantic Similarities of Ontologies towards their Alignment to HL7 FHIR. 2018 IEEE 20th International Conference on e-Health Networking, Applications and Services. IEEE; 2018. p. 1–7. 10.1109/HealthCom.2018.8531149.</mixed-citation>
    </ref>
    <ref id="CR18">
      <label>18.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Alterovitz</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Heale</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Jones</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Kreda</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Lin</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Liu</surname>
            <given-names>L</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>FHIR Genomics: enabling standardization for precision medicine use cases</article-title>
        <source>Npj Genomic Med</source>
        <year>2020</year>
        <volume>5</volume>
        <fpage>1</fpage>
        <lpage>4</lpage>
        <pub-id pub-id-type="doi">10.1038/s41525-020-0115-6</pub-id>
      </element-citation>
    </ref>
    <ref id="CR19">
      <label>19.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Mavrogiorgou</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Kiourtis</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Touloupou</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Kapassa</surname>
            <given-names>E</given-names>
          </name>
          <name>
            <surname>Kyriazis</surname>
            <given-names>D</given-names>
          </name>
        </person-group>
        <article-title>Internet of medical things (IoMT): acquiring and transforming data into HL7 FHIR through 5G network slicing</article-title>
        <source>Emerg Sci J</source>
        <year>2019</year>
        <volume>3</volume>
        <fpage>64</fpage>
        <lpage>77</lpage>
        <pub-id pub-id-type="doi">10.28991/esj-2019-01170</pub-id>
      </element-citation>
    </ref>
    <ref id="CR20">
      <label>20.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Mandel</surname>
            <given-names>JC</given-names>
          </name>
          <name>
            <surname>Kreda</surname>
            <given-names>DA</given-names>
          </name>
          <name>
            <surname>Mandl</surname>
            <given-names>KD</given-names>
          </name>
          <name>
            <surname>Kohane</surname>
            <given-names>IS</given-names>
          </name>
          <name>
            <surname>Ramoni</surname>
            <given-names>RB</given-names>
          </name>
        </person-group>
        <article-title>SMART on FHIR: a standards-based, interoperable apps platform for electronic health records</article-title>
        <source>J Am Med Inform Assoc JAMIA</source>
        <year>2016</year>
        <volume>23</volume>
        <fpage>899</fpage>
        <lpage>908</lpage>
        <pub-id pub-id-type="doi">10.1093/jamia/ocv189</pub-id>
        <?supplied-pmid 26911829?>
        <pub-id pub-id-type="pmid">26911829</pub-id>
      </element-citation>
    </ref>
    <ref id="CR21">
      <label>21.</label>
      <mixed-citation publication-type="other">Siemens Healthineers. AI-Pathway Companion. 2022. <ext-link ext-link-type="uri" xlink:href="https://www.siemens-healthineers.com/services/it-standards/hl7-digital-and-automation/al-pathway-companion">https://www.siemens-healthineers.com/services/it-standards/hl7-digital-and-automation/al-pathway-companion</ext-link>. Accessed 16 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR22">
      <label>22.</label>
      <mixed-citation publication-type="other">Microsoft. Azure Health Data Services – FHIR, DICOM &amp; MedTech. 2022. <ext-link ext-link-type="uri" xlink:href="https://azure.microsoft.com/de-de/services/health-data-services/">https://azure.microsoft.com/de-de/services/health-data-services/</ext-link>. Accessed 16 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR23">
      <label>23.</label>
      <mixed-citation publication-type="other">Philips Healthcare. Matching FHIR interoperability and population health. 2016. <ext-link ext-link-type="uri" xlink:href="https://www.usa.philips.com/healthcare/education-resources/publications/population-health-insights/blogs/matching-fhir-interoperability-and-population-health">https://www.usa.philips.com/healthcare/education-resources/publications/population-health-insights/blogs/matching-fhir-interoperability-and-population-health</ext-link>. Accessed 12 Sept 2022.</mixed-citation>
    </ref>
    <ref id="CR24">
      <label>24.</label>
      <mixed-citation publication-type="other">Amazon Web Services. Achieving healthcare interoperability. AWS Public Sector Blog. 2019. <ext-link ext-link-type="uri" xlink:href="https://aws.amazon.com/blogs/publicsector/achieving-healthcare-interoperability/">https://aws.amazon.com/blogs/publicsector/achieving-healthcare-interoperability/</ext-link>. Accessed 12 Sept 2022.</mixed-citation>
    </ref>
    <ref id="CR25">
      <label>25.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Weissler</surname>
            <given-names>EH</given-names>
          </name>
          <name>
            <surname>Naumann</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Andersson</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Ranganath</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Elemento</surname>
            <given-names>O</given-names>
          </name>
          <name>
            <surname>Luo</surname>
            <given-names>Y</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>The role of machine learning in clinical research: transforming the future of evidence generation</article-title>
        <source>Trials</source>
        <year>2021</year>
        <volume>22</volume>
        <fpage>537</fpage>
        <pub-id pub-id-type="doi">10.1186/s13063-021-05489-x</pub-id>
        <?supplied-pmid 34399832?>
        <pub-id pub-id-type="pmid">34399832</pub-id>
      </element-citation>
    </ref>
    <ref id="CR26">
      <label>26.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Huang</surname>
            <given-names>S-C</given-names>
          </name>
          <name>
            <surname>Pareek</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Seyyedi</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Banerjee</surname>
            <given-names>I</given-names>
          </name>
          <name>
            <surname>Lungren</surname>
            <given-names>MP</given-names>
          </name>
        </person-group>
        <article-title>Fusion of medical imaging and electronic health records using deep learning: a systematic review and implementation guidelines</article-title>
        <source>Npj Digit Med</source>
        <year>2020</year>
        <volume>3</volume>
        <fpage>1</fpage>
        <lpage>9</lpage>
        <pub-id pub-id-type="doi">10.1038/s41746-020-00341-z</pub-id>
        <pub-id pub-id-type="pmid">31934645</pub-id>
      </element-citation>
    </ref>
    <ref id="CR27">
      <label>27.</label>
      <mixed-citation publication-type="other">HL7 FHIR. Resource Index. 2022. <ext-link ext-link-type="uri" xlink:href="http://hl7.org/fhir/resourcelist.html">http://hl7.org/fhir/resourcelist.html</ext-link>. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR28">
      <label>28.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Gruendner</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Gulden</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Kampf</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Mate</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Prokosch</surname>
            <given-names>H-U</given-names>
          </name>
          <name>
            <surname>Zierk</surname>
            <given-names>J</given-names>
          </name>
        </person-group>
        <article-title>A framework for criteria-based selection and processing of fast healthcare interoperability resources (FHIR) data for statistical analysis: design and implementation study</article-title>
        <source>JMIR Med Inform</source>
        <year>2021</year>
        <volume>9</volume>
        <fpage>e25645</fpage>
        <pub-id pub-id-type="doi">10.2196/25645</pub-id>
        <?supplied-pmid 33792554?>
        <pub-id pub-id-type="pmid">33792554</pub-id>
      </element-citation>
    </ref>
    <ref id="CR29">
      <label>29.</label>
      <element-citation publication-type="book">
        <person-group person-group-type="author">
          <name>
            <surname>Oehm</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Storck</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Fechner</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Brix</surname>
            <given-names>TJ</given-names>
          </name>
          <name>
            <surname>Yildirim</surname>
            <given-names>K</given-names>
          </name>
        </person-group>
        <source>Dugas M</source>
        <year>2021</year>
        <publisher-loc>FhirExtinguisher</publisher-loc>
        <publisher-name>A FHIR Resource Flattening Tool Using FHIRPath. Public Health Inform</publisher-name>
        <fpage>1112</fpage>
        <lpage>1113</lpage>
      </element-citation>
    </ref>
    <ref id="CR30">
      <label>30.</label>
      <mixed-citation publication-type="other">Palm J, Meineke FA, Przybilla J, Peschel T. "fhircrackr": An R Package Unlocking Fast Healthcare Interoperability Resources for Statistical Analysis. Appl Clin Inform. 2023;14:54–64.</mixed-citation>
    </ref>
    <ref id="CR31">
      <label>31.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Rajkomar</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Oren</surname>
            <given-names>E</given-names>
          </name>
          <name>
            <surname>Chen</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Dai</surname>
            <given-names>AM</given-names>
          </name>
          <name>
            <surname>Hajaj</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Hardt</surname>
            <given-names>M</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Scalable and accurate deep learning with electronic health records</article-title>
        <source>NPJ Digit Med</source>
        <year>2018</year>
        <volume>1</volume>
        <fpage>18</fpage>
        <pub-id pub-id-type="doi">10.1038/s41746-018-0029-1</pub-id>
        <?supplied-pmid 31304302?>
        <pub-id pub-id-type="pmid">31304302</pub-id>
      </element-citation>
    </ref>
    <ref id="CR32">
      <label>32.</label>
      <mixed-citation publication-type="other">The pandas development team. Pandas. 2022. 10.5281/zenodo.6702671. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR33">
      <label>33.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>McKinney </surname>
            <given-names>W</given-names>
          </name>
        </person-group>
        <article-title>Data Structures for Statistical Computing in Python</article-title>
        <source>Proc 9th Python Sci Conf</source>
        <year>2010</year>
        <volume>445</volume>
        <fpage>56</fpage>
        <lpage>61</lpage>
        <pub-id pub-id-type="doi">10.25080/Majora-92bf1922-00a</pub-id>
      </element-citation>
    </ref>
    <ref id="CR34">
      <label>34.</label>
      <mixed-citation publication-type="other">Bjonnes A, Wiffin E, Mandel J, Schwertner N, Pfiffner P, Sayeed R, et al. SMART on FHIR Python Client. 2019. <ext-link ext-link-type="uri" xlink:href="http://docs.smarthealthit.org/client-py/">http://docs.smarthealthit.org/client-py/</ext-link>. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR35">
      <label>35.</label>
      <mixed-citation publication-type="other">Islam N, Mabey M, Vadée S, Goren I, Hazeleger M, et al. fhir.resources. 2022. <ext-link ext-link-type="uri" xlink:href="https://github.com/nazrulworld/fhir.resources">https://github.com/nazrulworld/fhir.resources</ext-link>. Accessed 9 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR36">
      <label>36.</label>
      <mixed-citation publication-type="other">Beda I, Kizesov M, Laletin V, Rozhkov P, Pavlushkin A, Vogler BS, et al. fhir-py. 2022. <ext-link ext-link-type="uri" xlink:href="https://github.com/beda-software/fhir-py">https://github.com/beda-software/fhir-py</ext-link>. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR37">
      <label>37.</label>
      <mixed-citation publication-type="other">Salazar J, Rostalski T, Kim M. FHIRPACK. 2022. <ext-link ext-link-type="uri" xlink:href="https://github.com/fhirpack/main">https://github.com/fhirpack/main</ext-link>. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR38">
      <label>38.</label>
      <mixed-citation publication-type="other">HL7 FHIR. FHIRPath. 2022. <ext-link ext-link-type="uri" xlink:href="https://hl7.org/fhirpath/">https://hl7.org/fhirpath/</ext-link>. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR39">
      <label>39.</label>
      <mixed-citation publication-type="other">Gössner S. JSONPath - XPath for JSON. 2005. <ext-link ext-link-type="uri" xlink:href="https://goessner.net/articles/JsonPath/">https://goessner.net/articles/JsonPath/</ext-link>. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR40">
      <label>40.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Genereaux</surname>
            <given-names>BW</given-names>
          </name>
          <name>
            <surname>Dennison</surname>
            <given-names>DK</given-names>
          </name>
          <name>
            <surname>Ho</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Horn</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Silver</surname>
            <given-names>EL</given-names>
          </name>
          <name>
            <surname>O’Donnell</surname>
            <given-names>K</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>DICOMweb™: background and application of the web standard for medical imaging</article-title>
        <source>J Digit Imaging</source>
        <year>2018</year>
        <volume>31</volume>
        <fpage>321</fpage>
        <lpage>326</lpage>
        <pub-id pub-id-type="doi">10.1007/s10278-018-0073-z</pub-id>
        <?supplied-pmid 29748852?>
        <pub-id pub-id-type="pmid">29748852</pub-id>
      </element-citation>
    </ref>
    <ref id="CR41">
      <label>41.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Koitka</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Kroll</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Malamutmann</surname>
            <given-names>E</given-names>
          </name>
          <name>
            <surname>Oezcelik</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Nensa</surname>
            <given-names>F</given-names>
          </name>
        </person-group>
        <article-title>Fully automated body composition analysis in routine CT imaging using 3D semantic segmentation convolutional neural networks</article-title>
        <source>Eur Radiol</source>
        <year>2021</year>
        <volume>31</volume>
        <fpage>1795</fpage>
        <lpage>1804</lpage>
        <pub-id pub-id-type="doi">10.1007/s00330-020-07147-3</pub-id>
        <?supplied-pmid 32945971?>
        <pub-id pub-id-type="pmid">32945971</pub-id>
      </element-citation>
    </ref>
    <ref id="CR42">
      <label>42.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Koitka</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Gudlin</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Theysohn</surname>
            <given-names>JM</given-names>
          </name>
          <name>
            <surname>Oezcelik</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Hoyer</surname>
            <given-names>DP</given-names>
          </name>
          <name>
            <surname>Dayangac</surname>
            <given-names>M</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Fully automated preoperative liver volumetry incorporating the anatomical location of the central hepatic vein</article-title>
        <source>Sci Rep</source>
        <year>2022</year>
        <volume>12</volume>
        <fpage>16479</fpage>
        <pub-id pub-id-type="doi">10.1038/s41598-022-20778-4</pub-id>
        <?supplied-pmid 36183002?>
        <pub-id pub-id-type="pmid">36183002</pub-id>
      </element-citation>
    </ref>
    <ref id="CR43">
      <label>43.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Haubold</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Hosch</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Parmar</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Glas</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Guberina</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Catalano</surname>
            <given-names>OA</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Fully automated MR based virtual biopsy of cerebral gliomas</article-title>
        <source>Cancers</source>
        <year>2021</year>
        <volume>13</volume>
        <fpage>6186</fpage>
        <pub-id pub-id-type="doi">10.3390/cancers13246186</pub-id>
        <?supplied-pmid 34944806?>
        <pub-id pub-id-type="pmid">34944806</pub-id>
      </element-citation>
    </ref>
    <ref id="CR44">
      <label>44.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Duron</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Ducarouge</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Gillibert</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Lainé</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Allouche</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Cherel</surname>
            <given-names>N</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Assessment of an AI aid in detection of adult appendicular skeletal fractures by emergency physicians and radiologists: a multicenter cross-sectional diagnostic study</article-title>
        <source>Radiology</source>
        <year>2021</year>
        <volume>300</volume>
        <fpage>120</fpage>
        <lpage>129</lpage>
        <pub-id pub-id-type="doi">10.1148/radiol.2021203886</pub-id>
        <?supplied-pmid 33944629?>
        <pub-id pub-id-type="pmid">33944629</pub-id>
      </element-citation>
    </ref>
    <ref id="CR45">
      <label>45.</label>
      <mixed-citation publication-type="other">World Health Organization. International statistical classification of diseases and related health problems. 2022. <ext-link ext-link-type="uri" xlink:href="https://www.who.int/standards/classifications/classification-of-diseases">https://www.who.int/standards/classifications/classification-of-diseases</ext-link>. Accessed 23 May 2023.</mixed-citation>
    </ref>
    <ref id="CR46">
      <label>46.</label>
      <mixed-citation publication-type="other">Beda I, Nikiforov M, Laletin V, Baldini G, Tretyakov N, et al. fhirpath-py. 2022. <ext-link ext-link-type="uri" xlink:href="https://github.com/beda-software/fhirpath-py">https://github.com/beda-software/fhirpath-py</ext-link>. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR47">
      <label>47.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Piad-Morffis</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Gutiérrez</surname>
            <given-names>Y</given-names>
          </name>
          <name>
            <surname>Almeida-Cruz</surname>
            <given-names>Y</given-names>
          </name>
          <name>
            <surname>Muñoz</surname>
            <given-names>R</given-names>
          </name>
        </person-group>
        <article-title>A computational ecosystem to support eHealth knowledge discovery technologies in Spanish</article-title>
        <source>J Biomed Inform</source>
        <year>2020</year>
        <volume>109</volume>
        <fpage>103517</fpage>
        <pub-id pub-id-type="doi">10.1016/j.jbi.2020.103517</pub-id>
        <?supplied-pmid 32712157?>
        <pub-id pub-id-type="pmid">32712157</pub-id>
      </element-citation>
    </ref>
    <ref id="CR48">
      <label>48.</label>
      <mixed-citation publication-type="other">Phan R, Luu T, Davey R, Chetty G. Enhancing clinical name entity recognition based on hybrid deep learning scheme. 2019 International Conference on Data Mining Workshops. IEEE; 2019. p. 1049–55. 10.1109/ICDMW.2019.00153.</mixed-citation>
    </ref>
    <ref id="CR49">
      <label>49.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Cabot</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Darmoni</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Soualmia</surname>
            <given-names>LF</given-names>
          </name>
        </person-group>
        <article-title>Cimind: a phonetic-based tool for multilingual named entity recognition in biomedical texts</article-title>
        <source>J Biomed Inform</source>
        <year>2019</year>
        <volume>94</volume>
        <fpage>103176</fpage>
        <pub-id pub-id-type="doi">10.1016/j.jbi.2019.103176</pub-id>
        <?supplied-pmid 30980962?>
        <pub-id pub-id-type="pmid">30980962</pub-id>
      </element-citation>
    </ref>
    <ref id="CR50">
      <label>50.</label>
      <mixed-citation publication-type="other">Honnibal M, Montani I, Van Landeghem S, Boyd A. spaCy: Industrial-strength Natural Language Processing in Python. 2022. 10.5281/zenodo.6907665. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR51">
      <label>51.</label>
      <mixed-citation publication-type="other">Python. Regular expression operations. 2022. <ext-link ext-link-type="uri" xlink:href="https://docs.python.org/3/library/re.html">https://docs.python.org/3/library/re.html</ext-link>. Accessed 15 Aug 2022.</mixed-citation>
    </ref>
    <ref id="CR52">
      <label>52.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Herrmann</surname>
            <given-names>MD</given-names>
          </name>
          <name>
            <surname>Clunie</surname>
            <given-names>DA</given-names>
          </name>
          <name>
            <surname>Fedorov</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Doyle</surname>
            <given-names>SW</given-names>
          </name>
          <name>
            <surname>Pieper</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Klepeis</surname>
            <given-names>V</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Implementing the DICOM standard for digital pathology</article-title>
        <source>J Pathol Inform</source>
        <year>2018</year>
        <volume>9</volume>
        <fpage>37</fpage>
        <pub-id pub-id-type="doi">10.4103/jpi.jpi_42_18</pub-id>
        <?supplied-pmid 30533276?>
        <pub-id pub-id-type="pmid">30533276</pub-id>
      </element-citation>
    </ref>
    <ref id="CR53">
      <label>53.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Yin</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Duan</surname>
            <given-names>J-J</given-names>
          </name>
          <name>
            <surname>Bian</surname>
            <given-names>X-W</given-names>
          </name>
          <name>
            <surname>Yu</surname>
            <given-names>S-C</given-names>
          </name>
        </person-group>
        <article-title>Triple-negative breast cancer molecular subtyping and treatment progress</article-title>
        <source>Breast Cancer Res BCR</source>
        <year>2020</year>
        <volume>22</volume>
        <fpage>61</fpage>
        <pub-id pub-id-type="doi">10.1186/s13058-020-01296-5</pub-id>
        <?supplied-pmid 32517735?>
        <pub-id pub-id-type="pmid">32517735</pub-id>
      </element-citation>
    </ref>
    <ref id="CR54">
      <label>54.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>McDonald </surname>
            <given-names>CJ</given-names>
          </name>
          <name>
            <surname>Humphreys</surname>
            <given-names>BL</given-names>
          </name>
        </person-group>
        <article-title>The U.S. National Library of Medicine and Standards for Electronic Health Records: One Thing Led to Another</article-title>
        <source>Stud Health Technol Inform</source>
        <year>2022</year>
        <volume>288</volume>
        <fpage>85</fpage>
        <lpage>99</lpage>
        <?supplied-pmid 35102831?>
        <pub-id pub-id-type="pmid">35102831</pub-id>
      </element-citation>
    </ref>
    <ref id="CR55">
      <label>55.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Zhu</surname>
            <given-names>W</given-names>
          </name>
          <name>
            <surname>Xie</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Han</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Guo</surname>
            <given-names>X</given-names>
          </name>
        </person-group>
        <article-title>The application of deep learning in cancer prognosis prediction</article-title>
        <source>Cancers</source>
        <year>2020</year>
        <volume>12</volume>
        <fpage>603</fpage>
        <pub-id pub-id-type="doi">10.3390/cancers12030603</pub-id>
        <?supplied-pmid 32150991?>
        <pub-id pub-id-type="pmid">32150991</pub-id>
      </element-citation>
    </ref>
  </ref-list>
</back>
