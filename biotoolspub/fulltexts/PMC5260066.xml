<?properties open_access?>
<?DTDIdentifier.IdentifierValue -//Springer-Verlag//DTD A++ V2.4//EN?>
<?DTDIdentifier.IdentifierType public?>
<?SourceDTD.DTDName A++V2.4.dtd?>
<?SourceDTD.Version 2.4?>
<?ConverterInfo.XSLTName springer2nlmx2.xsl?>
<?ConverterInfo.Version 1?>
<front>
  <journal-meta>
    <journal-id journal-id-type="nlm-ta">BMC Bioinformatics</journal-id>
    <journal-id journal-id-type="iso-abbrev">BMC Bioinformatics</journal-id>
    <journal-title-group>
      <journal-title>BMC Bioinformatics</journal-title>
    </journal-title-group>
    <issn pub-type="epub">1471-2105</issn>
    <publisher>
      <publisher-name>BioMed Central</publisher-name>
      <publisher-loc>London</publisher-loc>
    </publisher>
  </journal-meta>
  <article-meta>
    <article-id pub-id-type="pmcid">5260066</article-id>
    <article-id pub-id-type="publisher-id">1459</article-id>
    <article-id pub-id-type="doi">10.1186/s12859-017-1459-5</article-id>
    <article-categories>
      <subj-group subj-group-type="heading">
        <subject>Software</subject>
      </subj-group>
    </article-categories>
    <title-group>
      <article-title>Processing tracking in jMRUI software for magnetic resonance spectra quantitation reproducibility assurance</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author" corresp="yes">
        <contrib-id contrib-id-type="orcid">http://orcid.org/0000-0002-8448-2312</contrib-id>
        <name>
          <surname>Jabłoński</surname>
          <given-names>Michał</given-names>
        </name>
        <address>
          <email>jmj@isibrno.cz</email>
        </address>
        <xref ref-type="aff" rid="Aff1">1</xref>
        <xref ref-type="aff" rid="Aff2">2</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Starčuková</surname>
          <given-names>Jana</given-names>
        </name>
        <address>
          <email>jana@isibrno.cz</email>
        </address>
        <xref ref-type="aff" rid="Aff1">1</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Starčuk</surname>
          <given-names>Zenon</given-names>
          <suffix>Jr.</suffix>
        </name>
        <address>
          <email>starcuk@isibrno.cz</email>
        </address>
        <xref ref-type="aff" rid="Aff1">1</xref>
      </contrib>
      <aff id="Aff1"><label>1</label><institution-wrap><institution-id institution-id-type="ISNI">0000 0004 0428 7459</institution-id><institution-id institution-id-type="GRID">grid.438850.2</institution-id><institution/><institution>Institute of Scientific Instruments of the CAS, </institution></institution-wrap>Královopolská 147, 612 64 Brno, Czech Republic </aff>
      <aff id="Aff2"><label>2</label><institution-wrap><institution-id institution-id-type="ISNI">0000 0001 2194 0956</institution-id><institution-id institution-id-type="GRID">grid.10267.32</institution-id><institution>Faculty of Science, </institution><institution>Masaryk University, </institution></institution-wrap>Kotlářská 267/2, 611 37 Brno, Czech Republic </aff>
    </contrib-group>
    <pub-date pub-type="epub">
      <day>23</day>
      <month>1</month>
      <year>2017</year>
    </pub-date>
    <pub-date pub-type="pmc-release">
      <day>23</day>
      <month>1</month>
      <year>2017</year>
    </pub-date>
    <pub-date pub-type="collection">
      <year>2017</year>
    </pub-date>
    <volume>18</volume>
    <elocation-id>56</elocation-id>
    <history>
      <date date-type="received">
        <day>3</day>
        <month>8</month>
        <year>2016</year>
      </date>
      <date date-type="accepted">
        <day>3</day>
        <month>1</month>
        <year>2017</year>
      </date>
    </history>
    <permissions>
      <copyright-statement>© The Author(s). 2017</copyright-statement>
      <license license-type="OpenAccess">
        <license-p><bold>Open Access</bold>This article is distributed under the terms of the Creative Commons Attribution 4.0 International License (<ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/licenses/by/4.0/">http://creativecommons.org/licenses/by/4.0/</ext-link>), which permits unrestricted use, distribution, and reproduction in any medium, provided you give appropriate credit to the original author(s) and the source, provide a link to the Creative Commons license, and indicate if changes were made. The Creative Commons Public Domain Dedication waiver (<ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/publicdomain/zero/1.0/">http://creativecommons.org/publicdomain/zero/1.0/</ext-link>) applies to the data made available in this article, unless otherwise stated.</license-p>
      </license>
    </permissions>
    <abstract id="Abs1">
      <sec>
        <title>Background</title>
        <p>Proton magnetic resonance spectroscopy is a non-invasive measurement technique which provides information about concentrations of up to 20 metabolites participating in intracellular biochemical processes. In order to obtain any metabolic information from measured spectra a processing should be done in specialized software, like jMRUI. The processing is interactive and complex and often requires many trials before obtaining a correct result. This paper proposes a jMRUI enhancement for efficient and unambiguous history tracking and file identification.</p>
      </sec>
      <sec>
        <title>Results</title>
        <p>A database storing all processing steps, parameters and files used in processing was developed for jMRUI. The solution was developed in Java, authors used a SQL database for robust storage of parameters and SHA-256 hash code for unambiguous file identification. The developed system was integrated directly in jMRUI and it will be publically available. A graphical user interface was implemented in order to make the user experience more comfortable. The database operation is invisible from the point of view of the common user, all tracking operations are performed in the background.</p>
      </sec>
      <sec>
        <title>Conclusions</title>
        <p>The implemented jMRUI database is a tool that can significantly help the user to track the processing history performed on data in jMRUI. The created tool is oriented to be user-friendly, robust and easy to use. The database GUI allows the user to browse the whole processing history of a selected file and learn e.g. what processing lead to the results, where the original data are stored, to obtain the list of all processing actions performed on spectra.</p>
      </sec>
    </abstract>
    <kwd-group xml:lang="en">
      <title>Keywords</title>
      <kwd>Magnetic Resonance Spectroscopy</kwd>
      <kwd>Signal Processing</kwd>
      <kwd>SQL database</kwd>
      <kwd>jMRUI</kwd>
    </kwd-group>
    <funding-group>
      <award-group>
        <funding-source>
          <institution>EU, Seventh Framework Programme (BE)</institution>
        </funding-source>
        <award-id>ITN-GA-2012-316679</award-id>
      </award-group>
      <award-group>
        <funding-source>
          <institution>MEYS CR (LO1212) together with EC </institution>
        </funding-source>
        <award-id>CZ.1.05/2.1.00/01.0017</award-id>
        <principal-award-recipient>
          <name>
            <surname>Starčuková</surname>
            <given-names>Jana</given-names>
          </name>
        </principal-award-recipient>
      </award-group>
      <award-group>
        <funding-source>
          <institution>MEYS CR (LO1212) together with EC</institution>
        </funding-source>
        <award-id>CZ.1.05/2.1.00/01.0017</award-id>
      </award-group>
    </funding-group>
    <custom-meta-group>
      <custom-meta>
        <meta-name>issue-copyright-statement</meta-name>
        <meta-value>© The Author(s) 2017</meta-value>
      </custom-meta>
    </custom-meta-group>
  </article-meta>
</front>
<body>
  <sec id="Sec1">
    <title>Background</title>
    <p>Proton magnetic resonance spectroscopy (MRS) and magnetic resonance imaging (MRI) are non-invasive measurement techniques utilizing the phenomenon of nuclear magnetic resonance (NMR) for detecting signals of hydrogen protons in the human or animal body. Protons, endogenous and abundant in all tissues, provide structural and functional information by probing their nearest biochemical neighborhoods and reporting their positions by responding to gradient-field encoding. It is primarily MRI that is widely used in medicine for diagnosing cancer, injuries, vascular abnormalities, dementia and other diseases [<xref ref-type="bibr" rid="CR1">1</xref>]. MRI also serves for monitoring disease progression, therapy, and – often as a quantitative tool – for biomedical research. Images, carrying statistical information on local nuclear magnetic interactions, translational motion a random mobility of water molecules, on tissue perfusion, blood oxygenation, or water/fat content, are well accepted by the medical and biomedical users because of their comparability with other imaging modalities, good signal-to-noise ratio, often self-evident verifiability of the absence of artifacts, and reasonable acquisition times. Only in cases of doubt or lack of specific markers, or for specific research do MR technology users add MR spectroscopy to their exploratory portfolio and then often find themselves overwhelmed by unexpected complexity of physics, engineering and data processing connections. Measurement parameter setting, quality assessment and data processing typically require expert knowledge not readily available in radiologists, and unless an experienced MR spectroscopist is available on site, the possibility of documenting all operations, availability of records for consultation, result verification and standardization becomes important.</p>
    <p>Unlike MRI, MR spectroscopy, practiced as single-voxel or multi-voxel 1D spectroscopy or 2D or 3D spectroscopic imaging, provides spatially localized information about the concentrations of up to about 20 low-molecular-weight metabolites [<xref ref-type="bibr" rid="CR2">2</xref>], participating in numerous intracellular biochemical processes. Such information may, for example, provide the physician more specific clues for staging and grading of a tumor previously identified by MRI; the improved assessment of the degree of malignity and prognosis may then contribute to optimizing the therapy. Besides diagnostics of brain tumors, MR spectroscopy has been used in studies of metabolic changes in brain tumors, strokes, seizure disorders, Alzheimer's disease, depression and other diseases affecting the brain and muscles [<xref ref-type="bibr" rid="CR3">3</xref>]. Depending on the metabolic marker under observation, a suitable MRS acquisition method (pulse sequence) and corresponding data processing must be chosen. For example for the detection of neurotransmitters GABA and glutamate, MEGA-edited PRESS may be preferred [<xref ref-type="bibr" rid="CR4">4</xref>], while for obtaining information about as many metabolites as possible, the PRESS [<xref ref-type="bibr" rid="CR5">5</xref>], STEAM [<xref ref-type="bibr" rid="CR6">6</xref>], LASER [<xref ref-type="bibr" rid="CR7">7</xref>], semi-LASER [<xref ref-type="bibr" rid="CR8">8</xref>] or SPECIAL [<xref ref-type="bibr" rid="CR9">9</xref>] pulse sequences with short echo times could be used; such a choice impacts on the optimal data processing workflow.</p>
    <p>Despite the potential of MR spectroscopy in medicine and research [<xref ref-type="bibr" rid="CR10">10</xref>], its practical usage is still limited. The main obstacles are the facts that spectroscopy itself does not produce an image that can be relatively easily interpreted, signal artifacts are not always easy to recognize, and that to obtain metabolite concentration estimates, the signals have to be analyzed with a sophisticated model fitting (quantitation) algorithm, whose reliability depends on many factors. As the properties of the acquired signals depend on the acquisition method used, the fitting algorithm always needs some specific prior knowledge (such as the signal or spectrum pattern for each metabolite) and constraints. Accurate quantitation of metabolite concentrations is often further complicated by regular or random signal artifacts [<xref ref-type="bibr" rid="CR10">10</xref>], for which no useful model may be available and which may reduce the credibility of all results if they are ignored. The artifacts become particularly difficult to manage in combination with the fast-decaying signals of macromolecules and lipids, found in signals acquired at short echo times, which are preferred for the detection of metabolites exhibiting multiplet resonances. Therefore, quantitation procedures and results should always be inspected by an experienced spectroscopist to exclude misinterpretation.</p>
    <p>While at present every MR scanner provides at least basic sequences for MRS acquisition, to our knowledge none of commercial scanners provides robust, reliable and validated quantitation software. Therefore, for metabolite quantitation, third party software [<xref ref-type="bibr" rid="CR11">11</xref>–<xref ref-type="bibr" rid="CR13">13</xref>] is most commonly used. Obviously, no software can quantify an arbitrary spectrum automatically without first obtaining appropriate prior knowledge and constraints [<xref ref-type="bibr" rid="CR14">14</xref>]. This need is satisfied differently by the various software products available. Whereas for LCModel [<xref ref-type="bibr" rid="CR12">12</xref>] this information is custom made [<xref ref-type="bibr" rid="CR13">13</xref>], TARQUIN offers a set of predefined constraints and for the most typical acquisition methods the prior knowledge is simulated with an idealized NMR physics model.</p>
    <p>jMRUI [<xref ref-type="bibr" rid="CR11">11</xref>] another widely used quantitation software (currently used in more than 3000 laboratories all around the world), is a flexible tool for spectroscopic signal processing and quantitation: it includes several quantitation algorithms such as AMARES (Advanced Method for Accurate, Robust, and Efficient Spectral fitting) [<xref ref-type="bibr" rid="CR15">15</xref>], AQSES (Automated Quantitation of Short Echo Time MRS spectra) [<xref ref-type="bibr" rid="CR16">16</xref>] and QUEST (QUantum ESTimation) [<xref ref-type="bibr" rid="CR17">17</xref>] and various other quantitation methods based on singular value decomposition (SVD) [<xref ref-type="bibr" rid="CR18">18</xref>]. Moreover, it also contains a choice of data preprocessing algorithms (e.g. water peak removal, phase correction etc.), data visualization and versatile simulation routines based on quantum mechanics for experiment planning [<xref ref-type="bibr" rid="CR19">19</xref>] and realistic prior knowledge calculation. Thus it allows quantitation of virtually any type of spectrum but for the price: suitable constraints and prior knowledge must be provided by the user, and sometimes found on a trial and error basis.</p>
    <p>Due to the high level of complexity of MRS processing in jMRUI, full tracking of operations done with the spectroscopic signals is required for highly reproducible processing [<xref ref-type="bibr" rid="CR10">10</xref>, <xref ref-type="bibr" rid="CR20">20</xref>] and for the automation of quantification using already verified processing steps in both clinical and research environments. Up till now only a very simple history tracking method was used in jMRUI. jMRUI enables the users to retrieve the quantitation-results files corresponding to successive trials via the set-up menu (the result files can be overwritten or not) but the parameters used can be only partly recovered and not in an automatic way (.op files must be saved). The processing history was saved at the user’s request in a batch file, and only for the most recently loaded data. The batch file included no information about the data processed nor about the results obtained. It could be used for batch processing only, and not for the identification of what processing steps had led to a particular result or how a particular data set had been processed in the past. To respond to such needs, a novel method of tracking the data and all processing operations executed has been developed; this article provides its description.</p>
  </sec>
  <sec id="Sec2">
    <title>Implementation</title>
    <p>In this paper the following convention will be kept in the database description:<list list-type="bullet"><list-item><p>Names written in capitals (like FILES) are names of database tables.</p></list-item><list-item><p>Names written in italics (like <italic>ID_file</italic>) are names of columns in the database.</p></list-item><list-item><p>Names written in capitals in quotes (like “OPEN FILES”) are names of registries.</p></list-item><list-item><p>Names written in italics in quotes (like “<italic>SAVE</italic>”) are commands stored in the database.</p></list-item></list>
</p>
    <sec id="Sec3">
      <title>Database organization</title>
      <p>The presented solution uses a database and the file system (Fig. <xref rid="Fig1" ref-type="fig">1</xref>) to record all the information necessary to describe the whole processing pipeline from the moment of data loading to saving the quantitation results.<fig id="Fig1"><label>Fig. 1</label><caption><p>The overall scheme of the data flow history tracking in jMRUI. The scheme shows the flow of the data from the scanner through jMRUI to the database. The database driver connects jMRUI with the file system that stores and retrieves all necessary database-related information. In the user-selected database directory the database file (in this example jMRUIDataBase.mv.db), all parameter files and quantitation results are stored. The parameter files and quantitation results are stored in separate subdirectories. For fast and unambiguous identification, all results and parameter files are renamed with the hash sum of their content</p></caption><graphic xlink:href="12859_2017_1459_Fig1_HTML" id="MO1"/></fig>
</p>
      <p>The entire storage system is based on Structured Query Language (SQL) database, file system and a Java class (DBHandling.java) which handles the SQL driver and processes the data before the storage and deals with the file system. The class also connects the jMRUI interface with the stored data and handles the retrieving of the stored information. The class contains registries which are crucial for the functioning of the database and are not stored on the hard disk (e.g. “OPEN FILES” which stores information about all currently open files).</p>
      <p>Reliable storage and management of the processing history are provided by a well-established SQL database, and hash sum (also called checksum) was used for the identification of data files. The SQL, a programming language designed for relational databases, is widely applied in the industry because of its high robustness. The H2 database [<xref ref-type="bibr" rid="CR21">21</xref>] – an SQL database written in Java – was selected for jMRUI as the database engine. One of the advantages of the selected database is that it does not require installation of any additional big software packages; it offers a self-contained single-file installation.</p>
      <p>The hash sum is a unique string of numbers and letters of a fixed length that acts as a fingerprint for a particular file. The hash sum is calculated using a hash function, which maps data of an arbitrary size (e.g., the file contents) to a fixed-size code – the hash sum. Because of their ability to provide completely different hash sums even for similar data, hash functions are widely used in cryptography and in digital communication to ensure the integrity of files transmitted.</p>
      <p>File identification in the jMRUI database was based on hash function SHA-256. The advantage of such identification over using their locations is that even files which were moved to a different storage location will still be recognized.</p>
    </sec>
    <sec id="Sec4">
      <title>Database SQL tables</title>
      <p>Each SQL database is a structure of connected tables. The jMRUI database uses 9 tables. Processing history is stored in 5 tables, comments of actions and results in 2 tables and 2 tables are used for the storage of macros. The structure of the jMRUI database can be found in Fig. <xref rid="Fig2" ref-type="fig">2</xref>.<fig id="Fig2"><label>Fig. 2</label><caption><p>The structure of the jMRUI database. Each table consists of different number of columns (fields). For example in the table ACTIONS there are three columns: <italic>ID_action</italic> (type INT, i.e. integer), <italic>opertime</italic> (type TIMESTAMPS), <italic>action</italic> (type VARCHAR(64), i.e. character string)</p></caption><graphic xlink:href="12859_2017_1459_Fig2_HTML" id="MO2"/></fig>
</p>
      <sec id="Sec5">
        <title>ACTIONS</title>
        <p>Table ACTIONS records the actions (processing methods) performed on data. It contains 3 columns. In the <italic>ID_action</italic> column an incrementally generated number is stored. The number is used for the action identification in all other tables and enables data linkage between different tables. In the column <italic>opertime</italic> the timestamp of the performed action is saved. Column <italic>action</italic> contains the macro key (short name of each routine) of the corresponding processing method.</p>
      </sec>
      <sec id="Sec6">
        <title>PARAMS</title>
        <p>Table PARAMS contains 5 columns: <italic>ID_action</italic>, <italic>parameter</italic>, <italic>description</italic>, <italic>hash</italic> and the automatically generated and incremented <italic>ID</italic>. Column <italic>ID_action</italic> is used to identify the particular action (and thus processing method) to which the parameters belong. Column <italic>parameter</italic> serves as the storage of the action related parameters; it could be a number, text or a full file name. In the column <italic>description</italic> a comment is always saved, i.e. information about the units used and/or the parameter description. In case the full file name is stored in the <italic>parameter</italic> column as a parameter, the hash sum of the corresponding file for precise file identification is saved in the column <italic>hash.</italic> For organizational purposes there is an additional column (called <italic>ID</italic>), which is automatically incremented.</p>
      </sec>
      <sec id="Sec7">
        <title>RESULTS</title>
        <p>Table RESULTS is used for the storage of information about all quantitation results that were generated in jMRUI. Table RESULTS is very similar to the table PARAMS. The main difference between both tables is that in this table only quantitation results are stored, thus the hash sum of the result file is always computed and stored for reliable result file identification. Column <italic>ID_action</italic> is used to identify the particular action (quantitation method used in this case) that produced the result.</p>
      </sec>
      <sec id="Sec8">
        <title>FILES</title>
        <p>Table FILES stores information about file handling and it contains 4 columns. During data file loading into jMRUI the hash sum of the file is computed and compared with the table FILES, and if it is not found, a new entry is added to the table FILES. An incrementally generated number is stored in the column <italic>ID_file</italic> and also in the “OPEN FILES” registry of the database (see Fig. <xref rid="Fig3" ref-type="fig">3</xref> for more detailed explanation of the data file workflow)<italic>,</italic> the original location of the data file (full path file name) is stored in column <italic>path</italic>, and the corresponding hash sum of the file is stored in the column <italic>hash</italic>. The column <italic>child</italic> is filled with “-1” by default. If the user decides to save the data processed in jMRUI, a new entry in table FILES will be created with a new value of <italic>ID_file,</italic> the corresponding <italic>path</italic> and the <italic>hash</italic> columns. Column <italic>child</italic> will be filled with the <italic>ID_file</italic> of the file that gave origin to the new file. The original file will be called “parent”.<fig id="Fig3"><label>Fig. 3</label><caption><p>Flow chart of the database operation – registration of a data file loaded. When a file is loaded to jMRUI, the hash sum of the file content is computed. The database searches for the hash sum of the given file in the FILES table; if it is found, the database returns the corresponding file identification number from the <italic>ID_ file</italic> column, otherwise a new entry in the table FILES is created and the new <italic>ID_file</italic> is returned. If more files were loaded, this procedure is repeated for all selected files. All values from <italic>ID_ file</italic> column are stored in the “OPEN FILES” registry and will be kept there until the data file is saved or removed from the jMRUI processing mode. A new entry with “<italic>LOAD_FILE</italic>” value is added to the column action of the table ACTIONS</p></caption><graphic xlink:href="12859_2017_1459_Fig3_HTML" id="MO3"/></fig>
</p>
      </sec>
      <sec id="Sec9">
        <title>FILES_ACTIONS</title>
        <p>Table FILES_ACTIONS provides a link between the tables ACTIONS and FILES. This table contains 3 columns. Whenever a new entry is created in the ACTIONS table, the value of column <italic>ID_action</italic> is inserted also into a new entry in the FILE_ACTIONS table, and <italic>ID_file</italic> column of the FILE_ACTIONS table is filled with the column <italic>ID_file</italic> of the currently processed data (obtained from the “OPEN FILES” registry). There is also an automatically incremented <italic>ID</italic> column, which is used for ordering purposes. This table increases the flexibility of processing tracking by separation of the tables ACTIONS and FILES and it permits to record actions in 1-1 and N-1 relationships.</p>
      </sec>
      <sec id="Sec10">
        <title>MACRO_contents and MACRO</title>
        <p>The information about macros (i.e. sequence of actions done in jMRUI) is stored in two tables. For each created macro a unique number is generated during the creation process and stored in the column <italic>ID_macro</italic> (the same number in both tables). The table MACRO_contents stores sequences of actions of each macro created by the user from a list of actions performed on data in the past. Typically more entries in the table belong to the same macro having the same value in the <italic>ID_macro</italic> column and different values in the column <italic>ID_action.</italic> The values in the column <italic>ID_action</italic> link a macro to the corresponding actions (processing methods and consequently to parameters used in past) in the ACTION table. If the user wants to modify some macro, e.g. to change value of some parameter, this is possible directly in the user interface. The table MACRO stores additional information about saved macros: a unique text name of the macro in the column <italic>name</italic> and user’s comments about the macro in the column <italic>comment</italic>.</p>
      </sec>
      <sec id="Sec11">
        <title>RESULTS_comment and ACTIONS_comment</title>
        <p>Although those two tables are identical and they are used for storage of comments they are separated due to the fact that some actions (mainly quantitation algorithms) also generate results. Both tables contain the <italic>ID_action</italic> and the <italic>comment</italic> columns. ACTIONS_comment contains all comments to ACTIONS, RESULTS_comment is used to store all comments regarding the results.</p>
      </sec>
    </sec>
    <sec id="Sec12">
      <title>Database operation</title>
      <sec id="Sec13">
        <title>History processing storage</title>
        <p>Storing the processing history is performed automatically by the database engine without the user’s interaction. The database engine storage workflow includes several steps as shown in Figs. <xref rid="Fig3" ref-type="fig">3</xref>, <xref rid="Fig4" ref-type="fig">4</xref> and <xref rid="Fig5" ref-type="fig">5</xref>. The process of data file registration triggered whenever data are loaded/saved in jMRUI is shown in Figs. <xref rid="Fig3" ref-type="fig">3</xref> and <xref rid="Fig4" ref-type="fig">4</xref>. The procedure shown in Fig. <xref rid="Fig5" ref-type="fig">5</xref> is triggered each time the user performs any preprocessing or quantitation operation.<fig id="Fig4"><label>Fig. 4</label><caption><p>Flow chart of the database operation – registration of a saved data file. If the user decides to save the currently open file, the corresponding <italic>ID_file</italic> number is removed from the “OPEN FILES“ registry. jMRUI saves the file and automatically computes the hash sum of the new file. The computed hash sum and the newly generated <italic>ID_file</italic> are inserted in the table FILES, and the <italic>ID_file</italic> of the original file is saved in the column <italic>child</italic>. The new <italic>ID_file</italic> of the saved file is added to the registry “OPEN FILES”. The file saving operation is recorded in table ACTIONS by adding a new entry with with its <italic>actions</italic> column set to “<italic>SAVE</italic>”</p></caption><graphic xlink:href="12859_2017_1459_Fig4_HTML" id="MO4"/></fig>
<fig id="Fig5"><label>Fig. 5</label><caption><p>Flow chart of the database operation – registration of actions. If the user processes the loaded data using any preprocessing method in jMRUI, the macro key (short name of each routine), which corresponds to the preprocessing method, is stored in the <italic>action</italic> column of the ACTIONS table. A new action identification number is generated and saved in the column <italic>ID_action</italic> in the ACTIONS table and in all other related tables as shown in the figure. Processing parameters (and if a parameter is a file also the file hash sum) are stored in the PARAMETERS table. The parameter files, if any, are stored in the preprocessing files directory. A new entry is created in the FILES_ACTIONS table linking the processed file (its <italic>ID_file</italic> number obtained from the “OPEN FILES” registry) with the action performed (identified by the action <italic>ID_action</italic> number). If the user decides to quantify the currently loaded data, jMRUI will store also the quantitation result file. The result file is stored in the results file directory and the hash sum of the result file is stored in the table RESULTS</p></caption><graphic xlink:href="12859_2017_1459_Fig5_HTML" id="MO5"/></fig>
</p>
        <p>In jMRUI database configuration menu the user can choose whether also a text file with the processing history should be generated and saved for each loaded file.</p>
      </sec>
      <sec id="Sec14">
        <title>History processing extraction</title>
        <p>To extract data from the database a query is needed. Figure <xref rid="Fig6" ref-type="fig">6</xref> demonstrates some examples of extraction process implemented in database.<fig id="Fig6"><label>Fig. 6</label><caption><p>An example of information extraction from the database. The graph is divided into three paths which represent three possibilities of data extraction, “GET ALL ACTIONS” – is a basic database query without sorting and returns all actions done on this particular file, “ALL ACTIONS WITH PARENTS” – is a database query with basic sorting of actions which get information about the origin of the file, “EXPORT” – is a routine which exports the processing history with all parameter files and compresses it into a single.zip file</p></caption><graphic xlink:href="12859_2017_1459_Fig6_HTML" id="MO6"/></fig>
</p>
      </sec>
      <sec id="Sec15">
        <title>Database interface</title>
        <p>Processing history of any data can be obtained by browsing database in the jMRUI database graphical user interface (GUI). Processing history of a loaded data file or a result file can be also obtained by choosing the corresponding menu item command.</p>
      </sec>
      <sec id="Sec16">
        <title>Menu item commands</title>
        <p>The following menu item commands are available for both a data file and a result file loaded:<list list-type="bullet"><list-item><p>Current session – this operation lists all processing steps done in current session. This mode basically provides the same information as we can get from the basic history tracking in jMRUI. In case of opening a result file all steps prior to the quantitation are listed.</p></list-item><list-item><p>History with parents – this operation lists all processing steps done on the current file including all operations that were done on all files that gave origin to this file.</p></list-item></list>
</p>
        <p>The following feature is available only in case of loading a data file<list list-type="bullet"><list-item><p>All performed operations – this operation lists all processing steps done on this particular file.</p></list-item></list>
</p>
        <p>The following feature is available in case of loading a result file:<list list-type="bullet"><list-item><p>Export all files – this option does a macro query like in first point and takes all files that were used in the quantitation and pre-processing including the data file and result file. All files are compressed to one zip file and saved in a location selected by the user. An example is shown in Fig. <xref rid="Fig7" ref-type="fig">7</xref>.<fig id="Fig7"><label>Fig. 7</label><caption><p>Contents of file generated by “Export all files” used in results mode. In the zip file the user will find all files that were used during quantitation packed to a single zip file. In the generated file the original data file (.mrui file), processing history (file “processing.batch”), QUEST parameter file (.op file) and metabolite basis set list (.ml file) and finally the result file (_QUEST.results file) can be found</p></caption><graphic xlink:href="12859_2017_1459_Fig7_HTML" id="MO7"/></fig>
</p></list-item></list>
</p>
        <p>An example of a history list is shown in Fig. <xref rid="Fig8" ref-type="fig">8</xref>.<fig id="Fig8"><label>Fig. 8</label><caption><p>History information obtained from Result mode File. 1D window contains a simplified browser of processing history. The macro obtained in this way can be saved as text file by clicking on “Save”</p></caption><graphic xlink:href="12859_2017_1459_Fig8_HTML" id="MO8"/></fig>
</p>
      </sec>
      <sec id="Sec17">
        <title>Database graphical user interface (GUI)</title>
        <p>Apart from using the menu item commands, user has possibility to browse the history using graphical user interface. GUI was designed using the Model-View-Controller design pattern. The GUI window and description of functionalities is shown in Fig. <xref rid="Fig9" ref-type="fig">9</xref>. The GUI is available as jMRUI Custom Plugin – in the main bar Custom/HistoryGUI.<fig id="Fig9"><label>Fig. 9</label><caption><p>GUI with description of its elements. Main features are described. This GUI can be useful in case of browsing complex processing history</p></caption><graphic xlink:href="12859_2017_1459_Fig9_HTML" id="MO9"/></fig>
</p>
        <p>GUI enables user to:<list list-type="bullet"><list-item><p>Browse history</p></list-item><list-item><p>Comment an action (a processing method), and classify it as successful or failed attempts.</p></list-item><list-item><p>Approve an action and later filter it by all actions/only approved/only not approved</p></list-item><list-item><p>Select actions, modify parameters and run them on loaded data.</p></list-item><list-item><p>Save selected actions into a macro in the database. The macro can be also exported on demand as a text file any time later. In this way the user can execute a macro (saved actions) with or without modifying parameters on any data in future.</p></list-item><list-item><p>Copy selected actions as a plain text to clipboard.</p></list-item></list>
</p>
      </sec>
    </sec>
    <sec id="Sec18">
      <title>Implementation notes</title>
      <p>jMRUI is plugin based software [<xref ref-type="bibr" rid="CR11">11</xref>]. Each plugin implements one processing method (action). After the data are processed by the plugin the jMRUI Kernel calls the obligatory plugin method histo() that is supposed to pass information about the action performed to the database via newly created object of the class DataCarrier. The class DataCarrier is described in Fig. <xref rid="Fig10" ref-type="fig">10</xref>. An example of source code of the method histo() for a quantitation plugin is presented below (Table <xref rid="Tab1" ref-type="table">1</xref>).<fig id="Fig10"><label>Fig. 10</label><caption><p>Diagram of the class DataCarrier. In the method histo() the programmer has to create a new object of the DataCarrier class, set its variables such as action keyword, all parameters, short description of parameters, unit if applicable etc. and pass the object created to the database</p></caption><graphic xlink:href="12859_2017_1459_Fig10_HTML" id="MO10"/></fig>
<table-wrap id="Tab1"><label>Table 1</label><caption><p>Example of history tracking for a custom made quantitation plugin. In the line 1 an object of DataCarrier class is created. In the line 2 the action keyword is obtained from the plugin property text file and set into the variable action. In the line 3 and 4 parameters (in this case metabolite basis set and parameter file) are set with a brief description. Line 5 enables the quantitation flag (in case of other types of plugins this line should be omitted). Finally the line 6 sends the recently created object to the database. The rest of the process is done in the background and the plug-in programmer does need to care about it</p></caption><table frame="hsides" rules="groups"><tbody><tr><td>DataCarrier d1 = new DataCarrier();</td><td/></tr><tr><td>d1.setAction(getShortName());</td><td/></tr><tr><td>d1.addParam(new File(metaboliteBasisSetFile), "Metabolite list file = ?");</td><td/></tr><tr><td>d1.addParam(new File(paramFile), "Overall phases file = ?");</td><td/></tr><tr><td>d1.isQuantitation(true);</td><td/></tr><tr><td>mrui.addHistoryStateDB(d1);</td><td/></tr></tbody></table></table-wrap>
</p>
    </sec>
  </sec>
  <sec id="Sec19">
    <title>Results</title>
    <p>The main reason of MRS data processing is to quantify the data, which may be a complex process. Due to the fact that jMRUI provides flexible quantitation methods this process may require several attempts based on trial and error method. Moreover the plug-in architecture in jMRUI enables the user to develop new quantitation or processing methods. Those two features show that there is a need for a tool which would track automatically all operations done by the user for later analysis or testing. The delivered tool should provide a user-friendly interface that would enable user to sort and extract easily desired information.</p>
    <p>Therefore the database storing all processing steps, parameters and files was developed for jMRUI. The implemented jMRUI database is a tool that can significantly help the user to track the processing history performed on data in jMRUI. The created tool is oriented to be user-friendly, robust and easy to use. For the common user all tracking operations are invisible as they are performed in the background. The database GUI allows the user to browse the whole processing history of a selected file and learn e.g. what processing lead to the results, where the original data are stored, to obtain the list of all processing performed on spectra. The database user interface provides the possibility to create a database instance per study, thus the database size should not pose a problem. The documented history can be used for automation of MRS data processing by generation of macros and for ensuring reproducibility by storing processing protocols together with processed data. It can serve as a database of all processing steps ever performed in jMRUI. The proposed database system could become the scientist’s diary, or a bug tracking tool for software developers. One of the added values of the proposed solution comparing with the earlier version of jMRUI when only the current session history could be stored in a text file is the possibility of getting history information about quantified data. There is a possibility of recovering all processing steps that were used in order to obtain a given results file (with pre-processing macro, and all parameter files) and packing it to a single zip file. This option is especially useful for users that need to recover processing history of their results after some time or share it with other researchers.</p>
    <p>The proposed database tracking system includes a new approach to the identification of files, which are identified by the hash sum of the content, and therefore the files will be correctly identified regardless of their location on the disk. In the database GUI user can obtain precise time and date of each operation, get detailed information about stored parameters with short description. The proposed tool provides a possibility of commenting all actions and let the user to select if this particular action was successful or not. Later the user interface can sort the actions based on this quality information. From the development and maintenance point of view all described database functionalities can be used in further jMRUI debugging and improvements. With the history tracking database if the user finds any bug and would like to share this information with the development team the database can generate a pack with all necessary files, parameters and processing history.</p>
    <p>We believe that this jMRUI enhancement could bring an important increase of reproducibility in data processing and popularize NMR Spectroscopy in research and clinical environment.</p>
  </sec>
  <sec id="Sec20">
    <title>Discussion</title>
    <p>Generally, there are at least three possible approaches to storing the processing history. The first one is to create a text file (macro) that accompanies the original data and the results of the processing. This approach offers basic processing tracking and is not suitable for complex data processing and extensive studies. The authors decided to add this approach to the implemented history tracking system as an auxiliary system.</p>
    <p>Another possibility would be to store the processing history directly in the data file as suggested by Mocioiu et al. [<xref ref-type="bibr" rid="CR22">22</xref>]. They developed a XML interface for jMRUI that stores the processing history and exports it together with data in XML format. This solution was however mainly designed to automate data preprocessing for classification, and offers the storage only of a limited number of listed preprocessing routines and in the fixed order. We found this approach not suitable for complex studies.</p>
    <p>The third possibility was to use a database linked with the jMRUI. The authors decided to use this approach which is far less invasive and more robust than the two mentioned approaches and also allows recovering all processing steps ever done in jMRUI. SQL database was designed with certain level of redundancy that makes the overall database more flexible. Other important factor which was taken into account was to provide full compatibility of the database with future releases. Structure of the database enables to add new methods and functionalities in the database engine without changing the structure of tables and thus without changing the database file format.</p>
    <p>Thus in future the following improvements can be easily added<list list-type="bullet"><list-item><p>The database file editing could be partially restricted – the user interaction could be limited to just adding new entries without removing and editing the already existing contents in any external application.</p></list-item><list-item><p>The database could be placed on a centralized server after a few small changes in the database engine.</p></list-item><list-item><p>The database file could be encrypted - if there is such a necessity, the security of the database can be increased.</p></list-item></list>
</p>
    <p>Since jMRUI will receive soon a new MR Spectroscopic Imaging (MRSI) interface, the current database version may need some additional adaptation once the new version of MRSI interface is released.</p>
  </sec>
  <sec id="Sec21">
    <title>Conclusions</title>
    <p>The jMRUI database system presented helps significantly to tracking of all operations done by the user, it helps to better organize the processing history. The novel approach for file identification guarantees efficient file handling. The implemented system provides a user-friendly GUI several history retrieval operations built-in directly in jMRUI, it increases the reproducibility and documentability of all spectroscopic processing. This functionality provides the user a robust system which could be used as a scientist’s diary registering all data operations performed.</p>
  </sec>
  <sec id="Sec22">
    <title>Availability and requirements</title>
    <p>Project name: <italic>jMRUI database</italic>
</p>
    <p>Project home page: <ext-link ext-link-type="uri" xlink:href="http://www.jmrui.eu/">http://www.jmrui.eu</ext-link>
</p>
    <p>Operating system(s): Windows, Linux</p>
    <p>Programming language: Java</p>
    <p>License: Free of charge for academic institutions and hospitals (subject to approved registration)</p>
  </sec>
</body>
<back>
  <glossary>
    <title>Abbreviations</title>
    <def-list>
      <def-item>
        <term>MRI</term>
        <def>
          <p>Magnetic resonance imaging</p>
        </def>
      </def-item>
      <def-item>
        <term>MRS</term>
        <def>
          <p>Magnetic resonance spectroscopy</p>
        </def>
      </def-item>
      <def-item>
        <term>NMR</term>
        <def>
          <p>Nuclear magnetic resonance</p>
        </def>
      </def-item>
      <def-item>
        <term>SQL</term>
        <def>
          <p>Structured query language</p>
        </def>
      </def-item>
    </def-list>
  </glossary>
  <ack>
    <title>Acknowledgements</title>
    <p>Not applicable.</p>
    <sec id="FPar1">
      <title>Funding</title>
      <p>This work was funded by the European Union’s Seventh Framework Programme (FP7/2007-2013) under grant agreement n° ITN-GA-2012-316679 – TRANSACT and by MEYS CR (LO1212), its infrastructure by MEYS CR and EC (CZ.1.05/2.1.00/01.0017) and by ASCR (RVO:68081731).</p>
    </sec>
    <sec id="FPar2">
      <title>Availability of data and materials</title>
      <p>The implemented database is a new component of the jMUI software. jMRUI is freely available to academic users and hospitals and available for a fee to commercial users.</p>
      <p>It can be downloaded from <ext-link ext-link-type="uri" xlink:href="http://www.jmrui.eu/">www.jmrui.eu</ext-link> (subject to approved registration).</p>
    </sec>
    <sec id="FPar3">
      <title>Authors’ contributions</title>
      <p>MJ and JS designed the database. MJ did the programming. ZS advised about the user interface. MJ and JS did the testing and optimization of the user interface and functionalities. All authors helped to draft the manuscript and read and approved the final manuscript.</p>
    </sec>
    <sec id="FPar4">
      <title>Competing interests</title>
      <p>The authors declare that they have no competing interests.</p>
    </sec>
    <sec id="FPar5">
      <title>Consent for publication</title>
      <p>Not applicable.</p>
    </sec>
    <sec id="FPar6">
      <title>Ethics approval and consent to participate</title>
      <p>Not applicable.</p>
    </sec>
  </ack>
  <ref-list id="Bib1">
    <title>References</title>
    <ref id="CR1">
      <label>1.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Oz</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Alger</surname>
            <given-names>JR</given-names>
          </name>
          <name>
            <surname>Barker</surname>
            <given-names>PB</given-names>
          </name>
          <name>
            <surname>Bartha</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Bizzi</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Boesch</surname>
            <given-names>C</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Clinical proton MR spectroscopy in central nervous system disorders</article-title>
        <source>Radiology</source>
        <year>2014</year>
        <volume>270</volume>
        <issue>3</issue>
        <fpage>658</fpage>
        <lpage>79</lpage>
        <pub-id pub-id-type="doi">10.1148/radiol.13130531</pub-id>
        <?supplied-pmid 24568703?>
        <pub-id pub-id-type="pmid">24568703</pub-id>
      </element-citation>
    </ref>
    <ref id="CR2">
      <label>2.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Govindaraju</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Young</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Maudsley</surname>
            <given-names>AA</given-names>
          </name>
        </person-group>
        <article-title>Proton NMR chemical shifts and coupling constants for brain metabolites</article-title>
        <source>NMR Biomed</source>
        <year>2000</year>
        <volume>13</volume>
        <issue>3</issue>
        <fpage>129</fpage>
        <lpage>53</lpage>
        <pub-id pub-id-type="doi">10.1002/1099-1492(200005)13:3&lt;129::AID-NBM619&gt;3.0.CO;2-V</pub-id>
        <?supplied-pmid 10861994?>
        <pub-id pub-id-type="pmid">10861994</pub-id>
      </element-citation>
    </ref>
    <ref id="CR3">
      <label>3.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Bendahan</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Mattéi</surname>
            <given-names>JP</given-names>
          </name>
          <name>
            <surname>Kozak-Ribbens</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Cozzone</surname>
            <given-names>PJ</given-names>
          </name>
        </person-group>
        <article-title>Non-invasive investigation of muscle diseases using 31P magnetic resonance spectroscopy: potential in clinical applications</article-title>
        <source>Revue Neurologique</source>
        <year>2002</year>
        <volume>158</volume>
        <issue>5 Pt 1</issue>
        <fpage>527</fpage>
        <lpage>540</lpage>
        <?supplied-pmid 12072821?>
        <pub-id pub-id-type="pmid">12072821</pub-id>
      </element-citation>
    </ref>
    <ref id="CR4">
      <label>4.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Mescher</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Merkle</surname>
            <given-names>H</given-names>
          </name>
          <name>
            <surname>Kirsch</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Garwood</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Gruetter</surname>
            <given-names>R</given-names>
          </name>
        </person-group>
        <article-title>Simultaneous in vivo spectral editing and water suppression</article-title>
        <source>NMR Biomed</source>
        <year>1998</year>
        <volume>11</volume>
        <fpage>266</fpage>
        <lpage>272</lpage>
        <pub-id pub-id-type="doi">10.1002/(SICI)1099-1492(199810)11:6&lt;266::AID-NBM530&gt;3.0.CO;2-J</pub-id>
        <?supplied-pmid 9802468?>
        <pub-id pub-id-type="pmid">9802468</pub-id>
      </element-citation>
    </ref>
    <ref id="CR5">
      <label>5.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Bottomley</surname>
            <given-names>PA</given-names>
          </name>
        </person-group>
        <article-title>Spatial Localization in NMR Spectroscopy in Vivo</article-title>
        <source>Annals of the New York Academy of Sciences</source>
        <year>1987</year>
        <volume>508</volume>
        <fpage>333</fpage>
        <lpage>348</lpage>
        <pub-id pub-id-type="doi">10.1111/j.1749-6632.1987.tb32915.x</pub-id>
        <?supplied-pmid 3326459?>
        <pub-id pub-id-type="pmid">3326459</pub-id>
      </element-citation>
    </ref>
    <ref id="CR6">
      <label>6.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Frahm</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Klaus-Dietmar Merboldt</surname>
          </name>
          <name>
            <surname>Hänicke</surname>
            <given-names>W</given-names>
          </name>
        </person-group>
        <article-title>Localized proton spectroscopy using stimulated echoes</article-title>
        <source>J Magn Reson</source>
        <year>1987</year>
        <volume>3</volume>
        <fpage>502</fpage>
        <lpage>508</lpage>
      </element-citation>
    </ref>
    <ref id="CR7">
      <label>7.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Garwood</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>DelaBarre</surname>
            <given-names>L</given-names>
          </name>
        </person-group>
        <article-title>The return of the frequency sweep: designing adiabatic pulses for contemporary NMR</article-title>
        <source>J Magn Reson</source>
        <year>2001</year>
        <volume>2</volume>
        <fpage>155</fpage>
        <lpage>177</lpage>
        <pub-id pub-id-type="doi">10.1006/jmre.2001.2340</pub-id>
      </element-citation>
    </ref>
    <ref id="CR8">
      <label>8.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Scheenen</surname>
            <given-names>TW</given-names>
          </name>
          <name>
            <surname>Klomp</surname>
            <given-names>DW</given-names>
          </name>
          <name>
            <surname>Wijnen</surname>
            <given-names>JP</given-names>
          </name>
          <name>
            <surname>Heerschap</surname>
            <given-names>A</given-names>
          </name>
        </person-group>
        <article-title>Short echo time 1H-MRSI of the human brain at 3 T with minimal chemical shift displacement errors using adiabatic refocusing pulses</article-title>
        <source>Magn Reson Med</source>
        <year>2008</year>
        <volume>59</volume>
        <issue>1</issue>
        <fpage>1</fpage>
        <lpage>6</lpage>
        <pub-id pub-id-type="doi">10.1002/mrm.21302</pub-id>
        <?supplied-pmid 17969076?>
        <pub-id pub-id-type="pmid">17969076</pub-id>
      </element-citation>
    </ref>
    <ref id="CR9">
      <label>9.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Mlynárik</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Gambarota</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Frenkel</surname>
            <given-names>H</given-names>
          </name>
          <name>
            <surname>Gruetter</surname>
            <given-names>R</given-names>
          </name>
        </person-group>
        <article-title>Localized short-echo-time proton MR spectroscopy with full signal-intensity acquisition</article-title>
        <source>Magn Reson Med</source>
        <year>2006</year>
        <volume>56</volume>
        <issue>5</issue>
        <fpage>965</fpage>
        <lpage>70</lpage>
        <pub-id pub-id-type="doi">10.1002/mrm.21043</pub-id>
        <?supplied-pmid 16991116?>
        <pub-id pub-id-type="pmid">16991116</pub-id>
      </element-citation>
    </ref>
    <ref id="CR10">
      <label>10.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Kreis</surname>
            <given-names>R</given-names>
          </name>
        </person-group>
        <article-title>Issues of spectral quality in clinical 1H-magnetic resonance spectroscopy and a gallery of artifacts</article-title>
        <source>NMR Biomed</source>
        <year>2004</year>
        <volume>17</volume>
        <issue>6</issue>
        <fpage>361</fpage>
        <lpage>81</lpage>
        <pub-id pub-id-type="doi">10.1002/nbm.891</pub-id>
        <?supplied-pmid 15468083?>
        <pub-id pub-id-type="pmid">15468083</pub-id>
      </element-citation>
    </ref>
    <ref id="CR11">
      <label>11.</label>
      <mixed-citation publication-type="other">Stefan D, Di Cesare F, Andrasescu A, Popa E, Lazariev A, Vescovo E, Strbak O, Williams S, Starcuk Z, Cabanas M, van Ormondt D, Graveron-Demilly D. Quantitation of magnetic resonance spectroscopy signals: the jMRUI software package. Meas. Sci. Technol. 2009;20:104035.</mixed-citation>
    </ref>
    <ref id="CR12">
      <label>12.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Provencher</surname>
            <given-names>SW</given-names>
          </name>
        </person-group>
        <article-title>Estimation of metabolite concentrations from localized in vivo proton NMR spectra</article-title>
        <source>Magn Reson Med</source>
        <year>1993</year>
        <volume>30</volume>
        <issue>6</issue>
        <fpage>672</fpage>
        <lpage>9</lpage>
        <pub-id pub-id-type="doi">10.1002/mrm.1910300604</pub-id>
        <?supplied-pmid 8139448?>
        <pub-id pub-id-type="pmid">8139448</pub-id>
      </element-citation>
    </ref>
    <ref id="CR13">
      <label>13.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Wilson</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Reynolds</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Kauppinen</surname>
            <given-names>RA</given-names>
          </name>
          <name>
            <surname>Arvanitis</surname>
            <given-names>TN</given-names>
          </name>
          <name>
            <surname>Peet</surname>
            <given-names>AC</given-names>
          </name>
        </person-group>
        <article-title>A constrained least-squares approach to the automated quantitation of in vivo (1)H magnetic resonance spectroscopy data</article-title>
        <source>Magn Reson Med</source>
        <year>2011</year>
        <volume>65</volume>
        <issue>1</issue>
        <fpage>1</fpage>
        <lpage>12</lpage>
        <pub-id pub-id-type="doi">10.1002/mrm.22579</pub-id>
        <?supplied-pmid 20878762?>
        <pub-id pub-id-type="pmid">20878762</pub-id>
      </element-citation>
    </ref>
    <ref id="CR14">
      <label>14.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Graveron-Demilly</surname>
            <given-names>D</given-names>
          </name>
        </person-group>
        <article-title>Quantification in magnetic resonance spectroscopy based on semi-parametric approaches</article-title>
        <source>MAGMA</source>
        <year>2014</year>
        <volume>27</volume>
        <issue>2</issue>
        <fpage>113</fpage>
        <lpage>30</lpage>
        <pub-id pub-id-type="doi">10.1007/s10334-013-0393-4</pub-id>
        <?supplied-pmid 23892473?>
        <pub-id pub-id-type="pmid">23892473</pub-id>
      </element-citation>
    </ref>
    <ref id="CR15">
      <label>15.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Vanhamme</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>van den Boogaart</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Van Huffel</surname>
            <given-names>S</given-names>
          </name>
        </person-group>
        <article-title>Improved method for accurate and efficient quantification of MRS data with use of prior knowledge</article-title>
        <source>J Magn Reson</source>
        <year>1997</year>
        <volume>129</volume>
        <fpage>35</fpage>
        <lpage>43</lpage>
        <pub-id pub-id-type="doi">10.1006/jmre.1997.1244</pub-id>
        <?supplied-pmid 9405214?>
        <pub-id pub-id-type="pmid">9405214</pub-id>
      </element-citation>
    </ref>
    <ref id="CR16">
      <label>16.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Poullet</surname>
            <given-names>JB</given-names>
          </name>
          <name>
            <surname>Sima</surname>
            <given-names>DM</given-names>
          </name>
          <name>
            <surname>Simonetti</surname>
            <given-names>AW</given-names>
          </name>
          <name>
            <surname>de Neuter</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Vanhamme</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Lemmerling</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Van Huffel</surname>
            <given-names>S</given-names>
          </name>
        </person-group>
        <article-title>An automated quantitation of short echo time MRS spectra in an open source software environment: AQSES</article-title>
        <source>NMR Biomed</source>
        <year>2007</year>
        <volume>20</volume>
        <issue>5</issue>
        <fpage>493</fpage>
        <lpage>504</lpage>
        <pub-id pub-id-type="doi">10.1002/nbm.1112</pub-id>
        <?supplied-pmid 17167819?>
        <pub-id pub-id-type="pmid">17167819</pub-id>
      </element-citation>
    </ref>
    <ref id="CR17">
      <label>17.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Ratiney</surname>
            <given-names>H</given-names>
          </name>
          <name>
            <surname>Sdika</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Coenradie</surname>
            <given-names>Y</given-names>
          </name>
          <name>
            <surname>Cavassila</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>van Ormondt</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Graveron-Demilly</surname>
            <given-names>D</given-names>
          </name>
        </person-group>
        <article-title>Time-domain semi-parametric estimation based on a metabolite basis set</article-title>
        <source>NMR Biomed</source>
        <year>2005</year>
        <volume>2005</volume>
        <issue>18</issue>
        <fpage>1</fpage>
        <lpage>13</lpage>
        <pub-id pub-id-type="doi">10.1002/nbm.895</pub-id>
      </element-citation>
    </ref>
    <ref id="CR18">
      <label>18.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Pijnappel</surname>
            <given-names>WWF</given-names>
          </name>
          <name>
            <surname>van den Boogaart</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>de Beer</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>van Ormondt</surname>
            <given-names>D</given-names>
          </name>
        </person-group>
        <article-title>SVD-based quantification of magnetic resonance signals</article-title>
        <source>J Magn Reson</source>
        <year>1992</year>
        <volume>97</volume>
        <fpage>122</fpage>
        <lpage>134</lpage>
      </element-citation>
    </ref>
    <ref id="CR19">
      <label>19.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Starcuk</surname>
            <given-names>Z</given-names>
          </name>
          <name>
            <surname>Starcukova</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Strbak</surname>
            <given-names>O</given-names>
          </name>
          <name>
            <surname>Graveron-Demilly</surname>
            <given-names>D</given-names>
          </name>
        </person-group>
        <article-title>Simulation of coupled-spin systems in the steady-state free precession acquisition mode for fast magnetic resonance (MR) spectroscopic imaging</article-title>
        <source>Meas Sci Technol</source>
        <year>2009</year>
        <volume>20</volume>
        <fpage>104033</fpage>
        <pub-id pub-id-type="doi">10.1088/0957-0233/20/10/104033</pub-id>
      </element-citation>
    </ref>
    <ref id="CR20">
      <label>20.</label>
      <mixed-citation publication-type="other">By: in ’t Zandt, H; van Der Graaf, M; Heerschap, A, Common processing of in vivo MR spectra. NMR in biomedicine doi: 10.1002/nbm.707</mixed-citation>
    </ref>
    <ref id="CR21">
      <label>21.</label>
      <mixed-citation publication-type="other">H2 Database Engine <ext-link ext-link-type="uri" xlink:href="http://www.h2database.com/html/main.html">http://www.h2database.com/html/main.html</ext-link> 15 July 2016</mixed-citation>
    </ref>
    <ref id="CR22">
      <label>22.</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Mocioiu</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Ortega-Martorell</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Olier</surname>
            <given-names>I</given-names>
          </name>
          <name>
            <surname>Jablonski</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Starcukova</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Lisboa</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Arús</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Julià-Sapé</surname>
            <given-names>M</given-names>
          </name>
        </person-group>
        <article-title>From raw data to data-analysis for magnetic resonance spectroscopy – the missing link: jMRUI2XML</article-title>
        <source>BMC Bioinformatics</source>
        <year>2015</year>
        <?supplied-pmid 26552737?>
        <pub-id pub-id-type="pmid">26552737</pub-id>
      </element-citation>
    </ref>
  </ref-list>
</back>
