<?DTDIdentifier.IdentifierValue -//NLM//DTD JATS (Z39.96) Journal Publishing DTD v1.2 20190208//EN?>
<?DTDIdentifier.IdentifierType public?>
<?SourceDTD.DTDName JATS-journalpublishing1.dtd?>
<?SourceDTD.Version 1.2?>
<?ConverterInfo.XSLTName jats2jats3.xsl?>
<?ConverterInfo.Version 1?>
<?properties open_access?>
<processing-meta base-tagset="archiving" mathml-version="3.0" table-model="xhtml" tagset-family="jats">
  <restricted-by>pmc</restricted-by>
</processing-meta>
<front>
  <journal-meta>
    <journal-id journal-id-type="nlm-ta">Bioinformatics</journal-id>
    <journal-id journal-id-type="iso-abbrev">Bioinformatics</journal-id>
    <journal-id journal-id-type="publisher-id">bioinformatics</journal-id>
    <journal-title-group>
      <journal-title>Bioinformatics</journal-title>
    </journal-title-group>
    <issn pub-type="ppub">1367-4803</issn>
    <issn pub-type="epub">1367-4811</issn>
    <publisher>
      <publisher-name>Oxford University Press</publisher-name>
    </publisher>
  </journal-meta>
  <article-meta>
    <article-id pub-id-type="pmcid">10893582</article-id>
    <article-id pub-id-type="pmid">38341658</article-id>
    <article-id pub-id-type="doi">10.1093/bioinformatics/btae079</article-id>
    <article-id pub-id-type="publisher-id">btae079</article-id>
    <article-categories>
      <subj-group subj-group-type="heading">
        <subject>Applications Note</subject>
        <subj-group subj-group-type="category-toc-heading">
          <subject>Genome Analysis</subject>
        </subj-group>
      </subj-group>
      <subj-group subj-group-type="category-taxonomy-collection">
        <subject>AcademicSubjects/SCI01060</subject>
      </subj-group>
    </article-categories>
    <title-group>
      <article-title>PipeVal: light-weight extensible tool for file validation</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0003-3113-7010</contrib-id>
        <name>
          <surname>Patel</surname>
          <given-names>Yash</given-names>
        </name>
        <aff><institution>Jonsson Comprehensive Cancer Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Institute for Precision Health, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <xref rid="btae079-FM1" ref-type="author-notes"/>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Beshlikyan</surname>
          <given-names>Arpi</given-names>
        </name>
        <aff><institution>Jonsson Comprehensive Cancer Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Institute for Precision Health, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <xref rid="btae079-FM1" ref-type="author-notes"/>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Jordan</surname>
          <given-names>Madison</given-names>
        </name>
        <aff><institution>Jonsson Comprehensive Cancer Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Institute for Precision Health, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Department of Human Genetics, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Kim</surname>
          <given-names>Gina</given-names>
        </name>
        <aff><institution>Jonsson Comprehensive Cancer Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Institute for Precision Health, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
      </contrib>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0002-1012-7879</contrib-id>
        <name>
          <surname>Holmes</surname>
          <given-names>Aaron</given-names>
        </name>
        <aff><institution>Jonsson Comprehensive Cancer Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Institute for Precision Health, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
      </contrib>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0003-1082-3871</contrib-id>
        <name>
          <surname>Yamaguchi</surname>
          <given-names>Takafumi N</given-names>
        </name>
        <aff><institution>Jonsson Comprehensive Cancer Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Institute for Precision Health, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Department of Human Genetics, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
      </contrib>
      <contrib contrib-type="author" corresp="yes">
        <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0003-0553-7520</contrib-id>
        <name>
          <surname>Boutros</surname>
          <given-names>Paul C</given-names>
        </name>
        <aff><institution>Jonsson Comprehensive Cancer Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Institute for Precision Health, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Department of Human Genetics, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Department of Urology, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Broad Stem Cell Research Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <xref rid="btae079-cor1" ref-type="corresp"/>
        <!--pboutros@mednet.ucla.edu-->
      </contrib>
    </contrib-group>
    <contrib-group>
      <contrib contrib-type="editor">
        <name>
          <surname>Valencia</surname>
          <given-names>Alfonso</given-names>
        </name>
        <role>Associate Editor</role>
      </contrib>
    </contrib-group>
    <author-notes>
      <corresp id="btae079-cor1">Corresponding author. Department of Human Genetics, University of California, 10833 Le Conte Avenue, Los Angeles, CA 90095, United States. E-mail: <email>pboutros@mednet.ucla.edu</email> (P.C.B.)</corresp>
      <fn id="btae079-FM1">
        <p>Equal contribution by Yash Patel and Arpi Beshlikyan.</p>
      </fn>
    </author-notes>
    <pub-date pub-type="collection">
      <month>2</month>
      <year>2024</year>
    </pub-date>
    <pub-date pub-type="epub" iso-8601-date="2024-02-10">
      <day>10</day>
      <month>2</month>
      <year>2024</year>
    </pub-date>
    <pub-date pub-type="pmc-release">
      <day>10</day>
      <month>2</month>
      <year>2024</year>
    </pub-date>
    <volume>40</volume>
    <issue>2</issue>
    <elocation-id>btae079</elocation-id>
    <history>
      <date date-type="received">
        <day>08</day>
        <month>9</month>
        <year>2023</year>
      </date>
      <date date-type="rev-recd">
        <day>30</day>
        <month>1</month>
        <year>2024</year>
      </date>
      <date date-type="editorial-decision">
        <day>03</day>
        <month>2</month>
        <year>2024</year>
      </date>
      <date date-type="accepted">
        <day>08</day>
        <month>2</month>
        <year>2024</year>
      </date>
      <date date-type="corrected-typeset">
        <day>23</day>
        <month>2</month>
        <year>2024</year>
      </date>
    </history>
    <permissions>
      <copyright-statement>© The Author(s) 2024. Published by Oxford University Press.</copyright-statement>
      <copyright-year>2024</copyright-year>
      <license>
        <ali:license_ref xmlns:ali="http://www.niso.org/schemas/ali/1.0/" specific-use="textmining" content-type="ccbylicense">https://creativecommons.org/licenses/by/4.0/</ali:license_ref>
        <license-p>This is an Open Access article distributed under the terms of the Creative Commons Attribution License (<ext-link ext-link-type="uri" xlink:href="https://creativecommons.org/licenses/by/4.0/">https://creativecommons.org/licenses/by/4.0/</ext-link>), which permits unrestricted reuse, distribution, and reproduction in any medium, provided the original work is properly cited.</license-p>
      </license>
    </permissions>
    <self-uri xlink:href="btae079.pdf"/>
    <abstract>
      <title>Abstract</title>
      <sec id="s1">
        <title>Motivation</title>
        <p>The volume of biomedical data generated each year is growing exponentially as high-throughput molecular, imaging and mHealth technologies expand. This rise in data volume has contributed to an increasing reliance on and demand for computational methods, and consequently to increased attention to software quality and data integrity.</p>
      </sec>
      <sec id="s2">
        <title>Results</title>
        <p>To simplify data verification in diverse data-processing pipelines, we created PipeVal, a light-weight, easy-to-use, extensible tool for file validation. It is open-source, easy to integrate with complex workflows, and modularized for extensibility for new file formats. PipeVal can be rapidly inserted into existing methods and pipelines to automatically validate and verify inputs and outputs. This can reduce wasted compute time attributed to file corruption or invalid file paths, and significantly improve the quality of data-intensive software.</p>
      </sec>
      <sec id="s3">
        <title>Availability and implementation</title>
        <p>PipeVal is an open-source Python package under the GPLv2 license and it is freely available at <ext-link xlink:href="https://github.com/uclahs-cds/package-PipeVal" ext-link-type="uri">https://github.com/uclahs-cds/package-PipeVal</ext-link>. The docker image is available at: <ext-link xlink:href="https://github.com/uclahs-cds/package-PipeVal/pkgs/container/pipeval" ext-link-type="uri">https://github.com/uclahs-cds/package-PipeVal/pkgs/container/pipeval</ext-link>.</p>
      </sec>
    </abstract>
    <funding-group>
      <award-group award-type="grant">
        <funding-source>
          <institution-wrap>
            <institution>National Institutes of Health</institution>
            <institution-id institution-id-type="DOI">10.13039/100000002</institution-id>
          </institution-wrap>
        </funding-source>
        <award-id>P30CA016042</award-id>
        <award-id>U2CCA271894</award-id>
        <award-id>U24CA248265</award-id>
        <award-id>U54HG012517</award-id>
      </award-group>
    </funding-group>
    <counts>
      <page-count count="4"/>
    </counts>
  </article-meta>
</front>
<body>
  <sec>
    <title>1 Introduction</title>
    <p>Over the past decade, biomedical research has been transformed by the advent of high-throughput technologies that rapidly and affordably generate extremely large datasets. These have derived from a wide-range of technologies, ranging from next-generation sequencing, live-cell imaging, and mHealth (the practice of medicine and public health through mobile devices). Each of these high-throughput and scalable technologies has contributed to a dramatic, ongoing increase in data volume, coupled to increasing demand for processing tools and algorithms. Discovery research has grown to rely on the development and routine application of algorithms and software for post-processing, denoising, quality-control, feature-engineering, and other pre-processing steps. This has made the quality of software increasingly central to the innovation and execution of biomedical research (<xref rid="btae079-B6" ref-type="bibr">Dash <italic toggle="yes">et al.</italic> 2019</xref>, <xref rid="btae079-B4" ref-type="bibr">Cremin <italic toggle="yes">et al.</italic> 2022</xref>).</p>
    <p>High-quality software development involves a set of practices widespread in some settings, but typically deprioritized in academic settings. This is especially true during the early phase of rapid algorithmic innovation, when good software engineering is often secondary to determining the optimal strategy for a new algorithm; utility is prioritized over implementation. The need for continued publication of novel work can then disincentivize refactoring and other software-quality improvements, except for the most widely-used tools (<xref rid="btae079-B8" ref-type="bibr">Koru <italic toggle="yes">et al.</italic> 2007</xref>, <xref rid="btae079-B14" ref-type="bibr">Silva <italic toggle="yes">et al.</italic> 2017</xref>). There are many prominent and well-known good software engineering practices, including test-driven development (<xref rid="btae079-B13" ref-type="bibr">Patel <italic toggle="yes">et al.</italic> 2024</xref><italic toggle="yes">Bioinformatics</italic> in press), developer and user documentation, requirements management, and input/output validation.</p>
    <p>The reasons why each of these is not routine vary, but the barriers to systematic input and output validation are straight-forward: implementing them can be cumbersome, time-consuming, and repetitive. Each function or file-type requires its own bespoke validation, increasing code-bloat and reducing readability. Creating these validations during development can slow down testing and feels cumbersome to developers; and yet, input and output validation is highly beneficial. Validation of inputs can reduce unnecessary compute cycles and reduce the risk of incorrect results. Validation of outputs can avoid unexpected results in downstream analyses and make software failures clear to end-users.</p>
    <p>The lack of systematic input and output validation in many data-processing pipelines has been exacerbated by the growing popularity of workflow orchestration frameworks such as Snakemake and Nextflow (<xref rid="btae079-B9" ref-type="bibr">Köster and Rahmann 2012</xref>, <xref rid="btae079-B7" ref-type="bibr">Di Tommaso <italic toggle="yes">et al.</italic> 2017</xref>). These frameworks facilitate complex data engineering paths where up to dozens of programs can be executed in sequence and/or parallel to generate a diversity of outputs. However, file validation and error-checking are not intrinsic features of these frameworks, especially in the context of bioinformatics workflows involving a broad range of file formats. This creates an important need for a validation tool capable of handling a multitude of file types that can be plugged into any arbitrary data-processing workflow without requiring repeated wrapping of specific validation modules into individual workflows.</p>
    <p>To fill this gap, we created PipeVal: a light-weight, easy-to-use, extensible tool for validating common file formats that reduces the friction and repetitiveness of bioinformatics input/output validation. It allows developers to rapidly validate formats including: FASTQ, SAM (Sequence Alignment/Map), BAM (Binary Sequence Alignment/Map), CRAM (Compressed Reference-oriented Alignment Map), ZIP, and VCF (Variant Call Format) (<xref rid="btae079-B10" ref-type="bibr">Li <italic toggle="yes">et al.</italic> 2009</xref>, <xref rid="btae079-B3" ref-type="bibr">Cock <italic toggle="yes">et al.</italic> 2010</xref>, <xref rid="btae079-B5" ref-type="bibr">Danecek <italic toggle="yes">et al.</italic> 2011</xref>, <xref rid="btae079-B2" ref-type="bibr">Cochrane <italic toggle="yes">et al.</italic> 2012</xref>). It has generic checksum generation and verification, and is trivially extensible to new file formats. It can be incorporated into existing pipelines with just a single line of code. By reducing barriers to file validation, PipeVal can help improve bioinformatics software quality.</p>
  </sec>
  <sec>
    <title>2 Results</title>
    <p>PipeVal is designed to be portable and easy to install on a range of systems. It is installable through the Python package manager pip, which handles installation of dependencies. It also supports cross-platform compatibility through an accompanying light-weight Docker image (581 MB) built to encapsulate dependencies and the utility itself for use on any system. The Docker image is particularly convenient for use in complex workflows, such as those using Snakemake, Nextflow, or other workflow orchestration frameworks (<xref rid="btae079-B11" ref-type="bibr">Merkel 2014</xref>, <xref rid="btae079-B7" ref-type="bibr">Di Tommaso <italic toggle="yes">et al.</italic> 2017</xref>, <xref rid="btae079-B12" ref-type="bibr">Mölder <italic toggle="yes">et al.</italic> 2021</xref>).</p>
    <p>To maximize ease of implementation into existing workflows, the PipeVal interface is extremely simple, with the main command being <monospace>pipeval</monospace>, with subcommands for validation (<monospace>pipeval validate</monospace>) and for checksum generation (<monospace>pipeval generate-checksum</monospace>). The standard command to validate a file is simply <monospace>pipeval validate file.extension</monospace>. PipeVal automatically handles proper detection of the specific file-type based on extensions and customizes the validation performed on that basis.</p>
    <p>PipeVal begins by verifying that a file exists—this trivial check automatically handles a wide variety of path- and permission-related errors that occur routinely in computational biology (<xref rid="btae079-F1" ref-type="fig">Fig. 1</xref>). It then considers whether the file is compressed (or potentially compressed) and it proceeds to verifying the compression and, if the integrity checking option is enabled, the integrity of the compressed file. Next, PipeVal automatically detects the presence of checksums in several formats (e.g. sha512, md5), and performs checksum verification. These validations are encapsulated within PipeVal and are easily integrable within workflows (<xref rid="btae079-F1" ref-type="fig">Fig. 1</xref>).</p>
    <fig position="float" id="btae079-F1">
      <label>Figure 1.</label>
      <caption>
        <p>PipeVal validations and example command and output. (a) PipeVal validation workflow indicating the three common validations—existence, compression, and checksums—and the format-specific validations. (b) Example of integration of PipeVal into call-sSNV workflow. (c) Example command and output for invalid files, files with bad checksums, and valid files.</p>
      </caption>
      <graphic xlink:href="btae079f1" position="float"/>
    </fig>
    <p>These three validations—existence, compression, and checksums—are performed for all files. PipeVal then consults a library of modular file format-specific validation functions. Specific validation functions that exist from other works have been consolidated within PipeVal in order to support validation of multiple file types. As an example, the pysam module containing libraries for manipulating genomic data files such as BAM/SAM/CRAM is utilized for validation of those formats (<xref rid="btae079-B1" ref-type="bibr">Bonfield <italic toggle="yes">et al.</italic> 2021</xref>). The VCFtools suite, which includes a module for VCF file validation, is also leveraged within PipeVal (<xref rid="btae079-B5" ref-type="bibr">Danecek <italic toggle="yes">et al.</italic> 2011</xref>). If it is able to identify a validator for the type of a file, it then applies it. As one example, if PipeVal recognizes a BAM file, it will verify that the data contained is sequence data, verify that the header is properly formatted, and check for the presence of at least one read. PipeVal will also automatically detect and confirm the presence of an accompanying index file for BAM file. As a second example, when PipeVal recognizes a VCF file, it will check for properly formatted headers and for properly formatted variant calls.</p>
    <p>PipeVal can validate multiple files in a single pass, and can generate checksums when they are not already present. With complex bioinformatics workflows involving many files, parallelization of validation is an important optimization consideration. PipeVal has been implemented with the option of validating multiple files in parallel by leveraging multi-threading. Extension to new file formats is modular: the automated file-type detection is linked to a mapping of validation modules to file types. The independence and integration of these modules enables quick addition of modules for new file types with a simple update to the file type-to-extension mapping and the file type-to-validation module mapping. PipeVal will also continue to optimize the validation process for large genomic files, by leveraging parallel processing techniques and specific file manipulation tools. Genomic files are often large and stored in compressed binary formats, which allows for the creation of index files to facilitate navigation. This property can therefore be leveraged to parallelize validation across multiple threads, with each one processing a subset of the file with access expedited through the index. Validation tools also may include options for quick validation aimed toward performing the basic checks. PipeVal encapsulates these options to support both fast, efficient validation, and in-depth, thorough validation using more resources depending on the workflow necessities.</p>
    <p>With biomedical research becoming increasingly reliant on complex software workflows, software quality is becoming a key factor in innovation and replication. Standard good software engineering practices are often secondary in academic research. By greatly reducing the friction for standardized input/output validation, PipeVal can be easily incorporated into existing workflows to help verify data integrity. It can reduce the frustrating occurrence of corrupt files or incorrect file paths leading to wasted compute resources and in some cases incorrect results. PipeVal is freely available at: <ext-link xlink:href="https://github.com/uclahs-cds/package-PipeVal" ext-link-type="uri">https://github.com/uclahs-cds/package-PipeVal</ext-link>. The docker image is available at: <ext-link xlink:href="https://github.com/uclahs-cds/package-PipeVal/pkgs/container/pipeval" ext-link-type="uri">https://github.com/uclahs-cds/package-PipeVal/pkgs/container/pipeval</ext-link>.</p>
  </sec>
</body>
<back>
  <ack id="ack1">
    <title>Acknowledgements</title>
    <p>The authors gratefully acknowledge the ongoing support of all present and past members of the Boutros lab in providing suggestions, practical use-cases, and support.</p>
  </ack>
  <sec sec-type="COI-statement">
    <title>Conflict of interest</title>
    <p>P.C.B. sits on the Scientific Advisory Boards of Intersect Diagnostics Inc., BioSymetrics Inc., and Sage Bionetworks. All other authors have no conflicts of interest to declare.</p>
  </sec>
  <sec>
    <title>Funding</title>
    <p>This study was supported by the National Institutes of Health through awards P30CA016042, U2CCA271894, U24CA248265, and U54HG012517; the Department of Defense through award W81XWH2210247; and the UCLA Institute for Precision Health and the UCLA Jonsson Comprehensive Cancer Center.</p>
  </sec>
  <sec sec-type="data-availability">
    <title>Data availability</title>
    <p>No new data were generated or analysed in support of this research.</p>
  </sec>
  <ref-list id="ref1">
    <title>References</title>
    <ref id="btae079-B1">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Bonfield</surname><given-names>JK</given-names></string-name>, <string-name><surname>Marshall</surname><given-names>J</given-names></string-name>, <string-name><surname>Danecek</surname><given-names>P</given-names></string-name></person-group><etal>et al</etal><article-title>HTSlib: C library for reading/writing high-throughput sequencing data</article-title>. <source>Gigascience</source><year>2021</year>;<volume>10</volume>:<fpage>giab007</fpage>.<pub-id pub-id-type="pmid">33594436</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B2">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Cochrane</surname><given-names>G</given-names></string-name>, <string-name><surname>Alako</surname><given-names>B</given-names></string-name>, <string-name><surname>Amid</surname><given-names>C</given-names></string-name></person-group><etal>et al</etal><article-title>Facing growth in the European Nucleotide Archive</article-title>. <source>Nucleic Acids Res</source><year>2012</year>;<volume>41</volume>:<fpage>D30</fpage>–<lpage>5</lpage>.<pub-id pub-id-type="pmid">23203883</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B3">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Cock</surname><given-names>PJA</given-names></string-name>, <string-name><surname>Fields</surname><given-names>CJ</given-names></string-name>, <string-name><surname>Goto</surname><given-names>N</given-names></string-name></person-group><etal>et al</etal><article-title>The Sanger FASTQ file format for sequences with quality scores, and the Solexa/Illumina FASTQ variants</article-title>. <source>Nucleic Acids Res</source><year>2010</year>;<volume>38</volume>:<fpage>1767</fpage>–<lpage>71</lpage>.<pub-id pub-id-type="pmid">20015970</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B4">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Cremin</surname><given-names>CJ</given-names></string-name>, <string-name><surname>Dash</surname><given-names>S</given-names></string-name>, <string-name><surname>Huang</surname><given-names>X</given-names></string-name></person-group><etal>et al</etal><article-title>Big data: historic advances and emerging trends in biomedical research</article-title>. <source>Curr Res Biotechnol</source><year>2022</year>;<volume>4</volume>:<fpage>138</fpage>–<lpage>51</lpage>.</mixed-citation>
    </ref>
    <ref id="btae079-B5">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Danecek</surname><given-names>P</given-names></string-name>, <string-name><surname>Auton</surname><given-names>A</given-names></string-name>, <string-name><surname>Abecasis</surname><given-names>G</given-names></string-name></person-group><etal>et al</etal>; <collab>1000 Genomes Project Analysis Group</collab>. <article-title>The variant call format and VCFtools</article-title>. <source>Bioinformatics</source><year>2011</year>;<volume>27</volume>:<fpage>2156</fpage>–<lpage>8</lpage>.<pub-id pub-id-type="pmid">21653522</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B6">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Dash</surname><given-names>S</given-names></string-name>, <string-name><surname>Shakyawar</surname><given-names>SK</given-names></string-name>, <string-name><surname>Sharma</surname><given-names>M</given-names></string-name></person-group><etal>et al</etal><article-title>Big data in healthcare: management, analysis and future prospects</article-title>. <source>J Big Data</source><year>2019</year>;<volume>6</volume>:<fpage>54</fpage>.</mixed-citation>
    </ref>
    <ref id="btae079-B7">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Di Tommaso</surname><given-names>P</given-names></string-name>, <string-name><surname>Chatzou</surname><given-names>M</given-names></string-name>, <string-name><surname>Floden</surname><given-names>EW</given-names></string-name></person-group><etal>et al</etal><article-title>Nextflow enables reproducible computational workflows</article-title>. <source>Nat Biotechnol</source><year>2017</year>;<volume>35</volume>:<fpage>316</fpage>–<lpage>9</lpage>.<pub-id pub-id-type="pmid">28398311</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B8">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Koru</surname><given-names>G</given-names></string-name>, <string-name><surname>El Emam</surname><given-names>K</given-names></string-name>, <string-name><surname>Neisa</surname><given-names>A</given-names></string-name></person-group><etal>et al</etal><article-title>A survey of quality assurance practices in biomedical open source software projects</article-title>. <source>J Med Internet Res</source><year>2007</year>;<volume>9;e8</volume>.</mixed-citation>
    </ref>
    <ref id="btae079-B9">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Köster</surname><given-names>J</given-names></string-name>, <string-name><surname>Rahmann</surname><given-names>S.</given-names></string-name></person-group><article-title>Snakemake—a scalable bioinformatics workflow engine</article-title>. <source>Bioinformatics</source><year>2012</year>;<volume>28</volume>:<fpage>2520</fpage>–<lpage>2</lpage>.<pub-id pub-id-type="pmid">22908215</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B10">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Li</surname><given-names>H</given-names></string-name>, <string-name><surname>Handsaker</surname><given-names>B</given-names></string-name>, <string-name><surname>Wysoker</surname><given-names>A</given-names></string-name></person-group><etal>et al</etal>; <collab>1000 Genome Project Data Processing Subgroup</collab>. <article-title>The Sequence Alignment/Map format and SAMtools</article-title>. <source>Bioinformatics</source><year>2009</year>;<volume>25</volume>:<fpage>2078</fpage>–<lpage>9</lpage>.<pub-id pub-id-type="pmid">19505943</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B11">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Merkel</surname><given-names>D.</given-names></string-name></person-group><article-title>Docker: lightweight Linux containers for consistent development and deployment</article-title>. <source>Linux J</source><year>2014</year>;<volume>2014</volume>:<fpage>239</fpage>.</mixed-citation>
    </ref>
    <ref id="btae079-B12">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Mölder</surname><given-names>F</given-names></string-name>, <string-name><surname>Jablonski</surname><given-names>KP</given-names></string-name>, <string-name><surname>Letcher</surname><given-names>B</given-names></string-name></person-group><etal>et al</etal><article-title>Sustainable data analysis with Snakemake [version 1; peer review: 1 approved, 1 approved with reservations]</article-title>. <source>F1000Res</source><year>2021</year>;<volume>10</volume>:<fpage>33</fpage>.<pub-id pub-id-type="pmid">34035898</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B13">
      <mixed-citation publication-type="other"><person-group person-group-type="author"><string-name><surname>Patel</surname><given-names>Y</given-names></string-name>, <string-name><surname>Zhu</surname><given-names>C</given-names></string-name>, <string-name><surname>Yamaguchi</surname><given-names>TN</given-names></string-name></person-group><etal>et al</etal> NFTest: automated testing of Nextflow pipelines. <italic toggle="yes">Bioinformatics</italic><year>2024</year>. <pub-id pub-id-type="doi">10.1093/bioinformatics/btae081</pub-id>.</mixed-citation>
    </ref>
    <ref id="btae079-B14">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Silva</surname><given-names>LB</given-names></string-name>, <string-name><surname>Jimenez</surname><given-names>RC</given-names></string-name>, <string-name><surname>Blomberg</surname><given-names>N</given-names></string-name></person-group><etal>et al</etal><article-title>General guidelines for biomedical software development</article-title>. <source>F1000Res</source><year>2017</year>;<volume>6</volume>:<fpage>273</fpage>.<pub-id pub-id-type="pmid">28443186</pub-id></mixed-citation>
    </ref>
  </ref-list>
</back>
<?DTDIdentifier.IdentifierValue -//NLM//DTD JATS (Z39.96) Journal Publishing DTD v1.2 20190208//EN?>
<?DTDIdentifier.IdentifierType public?>
<?SourceDTD.DTDName JATS-journalpublishing1.dtd?>
<?SourceDTD.Version 1.2?>
<?ConverterInfo.XSLTName jats2jats3.xsl?>
<?ConverterInfo.Version 1?>
<?properties open_access?>
<processing-meta base-tagset="archiving" mathml-version="3.0" table-model="xhtml" tagset-family="jats">
  <restricted-by>pmc</restricted-by>
</processing-meta>
<front>
  <journal-meta>
    <journal-id journal-id-type="nlm-ta">Bioinformatics</journal-id>
    <journal-id journal-id-type="iso-abbrev">Bioinformatics</journal-id>
    <journal-id journal-id-type="publisher-id">bioinformatics</journal-id>
    <journal-title-group>
      <journal-title>Bioinformatics</journal-title>
    </journal-title-group>
    <issn pub-type="ppub">1367-4803</issn>
    <issn pub-type="epub">1367-4811</issn>
    <publisher>
      <publisher-name>Oxford University Press</publisher-name>
    </publisher>
  </journal-meta>
  <article-meta>
    <article-id pub-id-type="pmcid">10893582</article-id>
    <article-id pub-id-type="pmid">38341658</article-id>
    <article-id pub-id-type="doi">10.1093/bioinformatics/btae079</article-id>
    <article-id pub-id-type="publisher-id">btae079</article-id>
    <article-categories>
      <subj-group subj-group-type="heading">
        <subject>Applications Note</subject>
        <subj-group subj-group-type="category-toc-heading">
          <subject>Genome Analysis</subject>
        </subj-group>
      </subj-group>
      <subj-group subj-group-type="category-taxonomy-collection">
        <subject>AcademicSubjects/SCI01060</subject>
      </subj-group>
    </article-categories>
    <title-group>
      <article-title>PipeVal: light-weight extensible tool for file validation</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0003-3113-7010</contrib-id>
        <name>
          <surname>Patel</surname>
          <given-names>Yash</given-names>
        </name>
        <aff><institution>Jonsson Comprehensive Cancer Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Institute for Precision Health, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <xref rid="btae079-FM1" ref-type="author-notes"/>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Beshlikyan</surname>
          <given-names>Arpi</given-names>
        </name>
        <aff><institution>Jonsson Comprehensive Cancer Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Institute for Precision Health, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <xref rid="btae079-FM1" ref-type="author-notes"/>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Jordan</surname>
          <given-names>Madison</given-names>
        </name>
        <aff><institution>Jonsson Comprehensive Cancer Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Institute for Precision Health, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Department of Human Genetics, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Kim</surname>
          <given-names>Gina</given-names>
        </name>
        <aff><institution>Jonsson Comprehensive Cancer Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Institute for Precision Health, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
      </contrib>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0002-1012-7879</contrib-id>
        <name>
          <surname>Holmes</surname>
          <given-names>Aaron</given-names>
        </name>
        <aff><institution>Jonsson Comprehensive Cancer Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Institute for Precision Health, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
      </contrib>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0003-1082-3871</contrib-id>
        <name>
          <surname>Yamaguchi</surname>
          <given-names>Takafumi N</given-names>
        </name>
        <aff><institution>Jonsson Comprehensive Cancer Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Institute for Precision Health, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Department of Human Genetics, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
      </contrib>
      <contrib contrib-type="author" corresp="yes">
        <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0003-0553-7520</contrib-id>
        <name>
          <surname>Boutros</surname>
          <given-names>Paul C</given-names>
        </name>
        <aff><institution>Jonsson Comprehensive Cancer Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Institute for Precision Health, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Department of Human Genetics, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Department of Urology, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Broad Stem Cell Research Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <xref rid="btae079-cor1" ref-type="corresp"/>
        <!--pboutros@mednet.ucla.edu-->
      </contrib>
    </contrib-group>
    <contrib-group>
      <contrib contrib-type="editor">
        <name>
          <surname>Valencia</surname>
          <given-names>Alfonso</given-names>
        </name>
        <role>Associate Editor</role>
      </contrib>
    </contrib-group>
    <author-notes>
      <corresp id="btae079-cor1">Corresponding author. Department of Human Genetics, University of California, 10833 Le Conte Avenue, Los Angeles, CA 90095, United States. E-mail: <email>pboutros@mednet.ucla.edu</email> (P.C.B.)</corresp>
      <fn id="btae079-FM1">
        <p>Equal contribution by Yash Patel and Arpi Beshlikyan.</p>
      </fn>
    </author-notes>
    <pub-date pub-type="collection">
      <month>2</month>
      <year>2024</year>
    </pub-date>
    <pub-date pub-type="epub" iso-8601-date="2024-02-10">
      <day>10</day>
      <month>2</month>
      <year>2024</year>
    </pub-date>
    <pub-date pub-type="pmc-release">
      <day>10</day>
      <month>2</month>
      <year>2024</year>
    </pub-date>
    <volume>40</volume>
    <issue>2</issue>
    <elocation-id>btae079</elocation-id>
    <history>
      <date date-type="received">
        <day>08</day>
        <month>9</month>
        <year>2023</year>
      </date>
      <date date-type="rev-recd">
        <day>30</day>
        <month>1</month>
        <year>2024</year>
      </date>
      <date date-type="editorial-decision">
        <day>03</day>
        <month>2</month>
        <year>2024</year>
      </date>
      <date date-type="accepted">
        <day>08</day>
        <month>2</month>
        <year>2024</year>
      </date>
      <date date-type="corrected-typeset">
        <day>23</day>
        <month>2</month>
        <year>2024</year>
      </date>
    </history>
    <permissions>
      <copyright-statement>© The Author(s) 2024. Published by Oxford University Press.</copyright-statement>
      <copyright-year>2024</copyright-year>
      <license>
        <ali:license_ref xmlns:ali="http://www.niso.org/schemas/ali/1.0/" specific-use="textmining" content-type="ccbylicense">https://creativecommons.org/licenses/by/4.0/</ali:license_ref>
        <license-p>This is an Open Access article distributed under the terms of the Creative Commons Attribution License (<ext-link ext-link-type="uri" xlink:href="https://creativecommons.org/licenses/by/4.0/">https://creativecommons.org/licenses/by/4.0/</ext-link>), which permits unrestricted reuse, distribution, and reproduction in any medium, provided the original work is properly cited.</license-p>
      </license>
    </permissions>
    <self-uri xlink:href="btae079.pdf"/>
    <abstract>
      <title>Abstract</title>
      <sec id="s1">
        <title>Motivation</title>
        <p>The volume of biomedical data generated each year is growing exponentially as high-throughput molecular, imaging and mHealth technologies expand. This rise in data volume has contributed to an increasing reliance on and demand for computational methods, and consequently to increased attention to software quality and data integrity.</p>
      </sec>
      <sec id="s2">
        <title>Results</title>
        <p>To simplify data verification in diverse data-processing pipelines, we created PipeVal, a light-weight, easy-to-use, extensible tool for file validation. It is open-source, easy to integrate with complex workflows, and modularized for extensibility for new file formats. PipeVal can be rapidly inserted into existing methods and pipelines to automatically validate and verify inputs and outputs. This can reduce wasted compute time attributed to file corruption or invalid file paths, and significantly improve the quality of data-intensive software.</p>
      </sec>
      <sec id="s3">
        <title>Availability and implementation</title>
        <p>PipeVal is an open-source Python package under the GPLv2 license and it is freely available at <ext-link xlink:href="https://github.com/uclahs-cds/package-PipeVal" ext-link-type="uri">https://github.com/uclahs-cds/package-PipeVal</ext-link>. The docker image is available at: <ext-link xlink:href="https://github.com/uclahs-cds/package-PipeVal/pkgs/container/pipeval" ext-link-type="uri">https://github.com/uclahs-cds/package-PipeVal/pkgs/container/pipeval</ext-link>.</p>
      </sec>
    </abstract>
    <funding-group>
      <award-group award-type="grant">
        <funding-source>
          <institution-wrap>
            <institution>National Institutes of Health</institution>
            <institution-id institution-id-type="DOI">10.13039/100000002</institution-id>
          </institution-wrap>
        </funding-source>
        <award-id>P30CA016042</award-id>
        <award-id>U2CCA271894</award-id>
        <award-id>U24CA248265</award-id>
        <award-id>U54HG012517</award-id>
      </award-group>
    </funding-group>
    <counts>
      <page-count count="4"/>
    </counts>
  </article-meta>
</front>
<body>
  <sec>
    <title>1 Introduction</title>
    <p>Over the past decade, biomedical research has been transformed by the advent of high-throughput technologies that rapidly and affordably generate extremely large datasets. These have derived from a wide-range of technologies, ranging from next-generation sequencing, live-cell imaging, and mHealth (the practice of medicine and public health through mobile devices). Each of these high-throughput and scalable technologies has contributed to a dramatic, ongoing increase in data volume, coupled to increasing demand for processing tools and algorithms. Discovery research has grown to rely on the development and routine application of algorithms and software for post-processing, denoising, quality-control, feature-engineering, and other pre-processing steps. This has made the quality of software increasingly central to the innovation and execution of biomedical research (<xref rid="btae079-B6" ref-type="bibr">Dash <italic toggle="yes">et al.</italic> 2019</xref>, <xref rid="btae079-B4" ref-type="bibr">Cremin <italic toggle="yes">et al.</italic> 2022</xref>).</p>
    <p>High-quality software development involves a set of practices widespread in some settings, but typically deprioritized in academic settings. This is especially true during the early phase of rapid algorithmic innovation, when good software engineering is often secondary to determining the optimal strategy for a new algorithm; utility is prioritized over implementation. The need for continued publication of novel work can then disincentivize refactoring and other software-quality improvements, except for the most widely-used tools (<xref rid="btae079-B8" ref-type="bibr">Koru <italic toggle="yes">et al.</italic> 2007</xref>, <xref rid="btae079-B14" ref-type="bibr">Silva <italic toggle="yes">et al.</italic> 2017</xref>). There are many prominent and well-known good software engineering practices, including test-driven development (<xref rid="btae079-B13" ref-type="bibr">Patel <italic toggle="yes">et al.</italic> 2024</xref><italic toggle="yes">Bioinformatics</italic> in press), developer and user documentation, requirements management, and input/output validation.</p>
    <p>The reasons why each of these is not routine vary, but the barriers to systematic input and output validation are straight-forward: implementing them can be cumbersome, time-consuming, and repetitive. Each function or file-type requires its own bespoke validation, increasing code-bloat and reducing readability. Creating these validations during development can slow down testing and feels cumbersome to developers; and yet, input and output validation is highly beneficial. Validation of inputs can reduce unnecessary compute cycles and reduce the risk of incorrect results. Validation of outputs can avoid unexpected results in downstream analyses and make software failures clear to end-users.</p>
    <p>The lack of systematic input and output validation in many data-processing pipelines has been exacerbated by the growing popularity of workflow orchestration frameworks such as Snakemake and Nextflow (<xref rid="btae079-B9" ref-type="bibr">Köster and Rahmann 2012</xref>, <xref rid="btae079-B7" ref-type="bibr">Di Tommaso <italic toggle="yes">et al.</italic> 2017</xref>). These frameworks facilitate complex data engineering paths where up to dozens of programs can be executed in sequence and/or parallel to generate a diversity of outputs. However, file validation and error-checking are not intrinsic features of these frameworks, especially in the context of bioinformatics workflows involving a broad range of file formats. This creates an important need for a validation tool capable of handling a multitude of file types that can be plugged into any arbitrary data-processing workflow without requiring repeated wrapping of specific validation modules into individual workflows.</p>
    <p>To fill this gap, we created PipeVal: a light-weight, easy-to-use, extensible tool for validating common file formats that reduces the friction and repetitiveness of bioinformatics input/output validation. It allows developers to rapidly validate formats including: FASTQ, SAM (Sequence Alignment/Map), BAM (Binary Sequence Alignment/Map), CRAM (Compressed Reference-oriented Alignment Map), ZIP, and VCF (Variant Call Format) (<xref rid="btae079-B10" ref-type="bibr">Li <italic toggle="yes">et al.</italic> 2009</xref>, <xref rid="btae079-B3" ref-type="bibr">Cock <italic toggle="yes">et al.</italic> 2010</xref>, <xref rid="btae079-B5" ref-type="bibr">Danecek <italic toggle="yes">et al.</italic> 2011</xref>, <xref rid="btae079-B2" ref-type="bibr">Cochrane <italic toggle="yes">et al.</italic> 2012</xref>). It has generic checksum generation and verification, and is trivially extensible to new file formats. It can be incorporated into existing pipelines with just a single line of code. By reducing barriers to file validation, PipeVal can help improve bioinformatics software quality.</p>
  </sec>
  <sec>
    <title>2 Results</title>
    <p>PipeVal is designed to be portable and easy to install on a range of systems. It is installable through the Python package manager pip, which handles installation of dependencies. It also supports cross-platform compatibility through an accompanying light-weight Docker image (581 MB) built to encapsulate dependencies and the utility itself for use on any system. The Docker image is particularly convenient for use in complex workflows, such as those using Snakemake, Nextflow, or other workflow orchestration frameworks (<xref rid="btae079-B11" ref-type="bibr">Merkel 2014</xref>, <xref rid="btae079-B7" ref-type="bibr">Di Tommaso <italic toggle="yes">et al.</italic> 2017</xref>, <xref rid="btae079-B12" ref-type="bibr">Mölder <italic toggle="yes">et al.</italic> 2021</xref>).</p>
    <p>To maximize ease of implementation into existing workflows, the PipeVal interface is extremely simple, with the main command being <monospace>pipeval</monospace>, with subcommands for validation (<monospace>pipeval validate</monospace>) and for checksum generation (<monospace>pipeval generate-checksum</monospace>). The standard command to validate a file is simply <monospace>pipeval validate file.extension</monospace>. PipeVal automatically handles proper detection of the specific file-type based on extensions and customizes the validation performed on that basis.</p>
    <p>PipeVal begins by verifying that a file exists—this trivial check automatically handles a wide variety of path- and permission-related errors that occur routinely in computational biology (<xref rid="btae079-F1" ref-type="fig">Fig. 1</xref>). It then considers whether the file is compressed (or potentially compressed) and it proceeds to verifying the compression and, if the integrity checking option is enabled, the integrity of the compressed file. Next, PipeVal automatically detects the presence of checksums in several formats (e.g. sha512, md5), and performs checksum verification. These validations are encapsulated within PipeVal and are easily integrable within workflows (<xref rid="btae079-F1" ref-type="fig">Fig. 1</xref>).</p>
    <fig position="float" id="btae079-F1">
      <label>Figure 1.</label>
      <caption>
        <p>PipeVal validations and example command and output. (a) PipeVal validation workflow indicating the three common validations—existence, compression, and checksums—and the format-specific validations. (b) Example of integration of PipeVal into call-sSNV workflow. (c) Example command and output for invalid files, files with bad checksums, and valid files.</p>
      </caption>
      <graphic xlink:href="btae079f1" position="float"/>
    </fig>
    <p>These three validations—existence, compression, and checksums—are performed for all files. PipeVal then consults a library of modular file format-specific validation functions. Specific validation functions that exist from other works have been consolidated within PipeVal in order to support validation of multiple file types. As an example, the pysam module containing libraries for manipulating genomic data files such as BAM/SAM/CRAM is utilized for validation of those formats (<xref rid="btae079-B1" ref-type="bibr">Bonfield <italic toggle="yes">et al.</italic> 2021</xref>). The VCFtools suite, which includes a module for VCF file validation, is also leveraged within PipeVal (<xref rid="btae079-B5" ref-type="bibr">Danecek <italic toggle="yes">et al.</italic> 2011</xref>). If it is able to identify a validator for the type of a file, it then applies it. As one example, if PipeVal recognizes a BAM file, it will verify that the data contained is sequence data, verify that the header is properly formatted, and check for the presence of at least one read. PipeVal will also automatically detect and confirm the presence of an accompanying index file for BAM file. As a second example, when PipeVal recognizes a VCF file, it will check for properly formatted headers and for properly formatted variant calls.</p>
    <p>PipeVal can validate multiple files in a single pass, and can generate checksums when they are not already present. With complex bioinformatics workflows involving many files, parallelization of validation is an important optimization consideration. PipeVal has been implemented with the option of validating multiple files in parallel by leveraging multi-threading. Extension to new file formats is modular: the automated file-type detection is linked to a mapping of validation modules to file types. The independence and integration of these modules enables quick addition of modules for new file types with a simple update to the file type-to-extension mapping and the file type-to-validation module mapping. PipeVal will also continue to optimize the validation process for large genomic files, by leveraging parallel processing techniques and specific file manipulation tools. Genomic files are often large and stored in compressed binary formats, which allows for the creation of index files to facilitate navigation. This property can therefore be leveraged to parallelize validation across multiple threads, with each one processing a subset of the file with access expedited through the index. Validation tools also may include options for quick validation aimed toward performing the basic checks. PipeVal encapsulates these options to support both fast, efficient validation, and in-depth, thorough validation using more resources depending on the workflow necessities.</p>
    <p>With biomedical research becoming increasingly reliant on complex software workflows, software quality is becoming a key factor in innovation and replication. Standard good software engineering practices are often secondary in academic research. By greatly reducing the friction for standardized input/output validation, PipeVal can be easily incorporated into existing workflows to help verify data integrity. It can reduce the frustrating occurrence of corrupt files or incorrect file paths leading to wasted compute resources and in some cases incorrect results. PipeVal is freely available at: <ext-link xlink:href="https://github.com/uclahs-cds/package-PipeVal" ext-link-type="uri">https://github.com/uclahs-cds/package-PipeVal</ext-link>. The docker image is available at: <ext-link xlink:href="https://github.com/uclahs-cds/package-PipeVal/pkgs/container/pipeval" ext-link-type="uri">https://github.com/uclahs-cds/package-PipeVal/pkgs/container/pipeval</ext-link>.</p>
  </sec>
</body>
<back>
  <ack id="ack1">
    <title>Acknowledgements</title>
    <p>The authors gratefully acknowledge the ongoing support of all present and past members of the Boutros lab in providing suggestions, practical use-cases, and support.</p>
  </ack>
  <sec sec-type="COI-statement">
    <title>Conflict of interest</title>
    <p>P.C.B. sits on the Scientific Advisory Boards of Intersect Diagnostics Inc., BioSymetrics Inc., and Sage Bionetworks. All other authors have no conflicts of interest to declare.</p>
  </sec>
  <sec>
    <title>Funding</title>
    <p>This study was supported by the National Institutes of Health through awards P30CA016042, U2CCA271894, U24CA248265, and U54HG012517; the Department of Defense through award W81XWH2210247; and the UCLA Institute for Precision Health and the UCLA Jonsson Comprehensive Cancer Center.</p>
  </sec>
  <sec sec-type="data-availability">
    <title>Data availability</title>
    <p>No new data were generated or analysed in support of this research.</p>
  </sec>
  <ref-list id="ref1">
    <title>References</title>
    <ref id="btae079-B1">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Bonfield</surname><given-names>JK</given-names></string-name>, <string-name><surname>Marshall</surname><given-names>J</given-names></string-name>, <string-name><surname>Danecek</surname><given-names>P</given-names></string-name></person-group><etal>et al</etal><article-title>HTSlib: C library for reading/writing high-throughput sequencing data</article-title>. <source>Gigascience</source><year>2021</year>;<volume>10</volume>:<fpage>giab007</fpage>.<pub-id pub-id-type="pmid">33594436</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B2">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Cochrane</surname><given-names>G</given-names></string-name>, <string-name><surname>Alako</surname><given-names>B</given-names></string-name>, <string-name><surname>Amid</surname><given-names>C</given-names></string-name></person-group><etal>et al</etal><article-title>Facing growth in the European Nucleotide Archive</article-title>. <source>Nucleic Acids Res</source><year>2012</year>;<volume>41</volume>:<fpage>D30</fpage>–<lpage>5</lpage>.<pub-id pub-id-type="pmid">23203883</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B3">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Cock</surname><given-names>PJA</given-names></string-name>, <string-name><surname>Fields</surname><given-names>CJ</given-names></string-name>, <string-name><surname>Goto</surname><given-names>N</given-names></string-name></person-group><etal>et al</etal><article-title>The Sanger FASTQ file format for sequences with quality scores, and the Solexa/Illumina FASTQ variants</article-title>. <source>Nucleic Acids Res</source><year>2010</year>;<volume>38</volume>:<fpage>1767</fpage>–<lpage>71</lpage>.<pub-id pub-id-type="pmid">20015970</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B4">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Cremin</surname><given-names>CJ</given-names></string-name>, <string-name><surname>Dash</surname><given-names>S</given-names></string-name>, <string-name><surname>Huang</surname><given-names>X</given-names></string-name></person-group><etal>et al</etal><article-title>Big data: historic advances and emerging trends in biomedical research</article-title>. <source>Curr Res Biotechnol</source><year>2022</year>;<volume>4</volume>:<fpage>138</fpage>–<lpage>51</lpage>.</mixed-citation>
    </ref>
    <ref id="btae079-B5">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Danecek</surname><given-names>P</given-names></string-name>, <string-name><surname>Auton</surname><given-names>A</given-names></string-name>, <string-name><surname>Abecasis</surname><given-names>G</given-names></string-name></person-group><etal>et al</etal>; <collab>1000 Genomes Project Analysis Group</collab>. <article-title>The variant call format and VCFtools</article-title>. <source>Bioinformatics</source><year>2011</year>;<volume>27</volume>:<fpage>2156</fpage>–<lpage>8</lpage>.<pub-id pub-id-type="pmid">21653522</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B6">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Dash</surname><given-names>S</given-names></string-name>, <string-name><surname>Shakyawar</surname><given-names>SK</given-names></string-name>, <string-name><surname>Sharma</surname><given-names>M</given-names></string-name></person-group><etal>et al</etal><article-title>Big data in healthcare: management, analysis and future prospects</article-title>. <source>J Big Data</source><year>2019</year>;<volume>6</volume>:<fpage>54</fpage>.</mixed-citation>
    </ref>
    <ref id="btae079-B7">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Di Tommaso</surname><given-names>P</given-names></string-name>, <string-name><surname>Chatzou</surname><given-names>M</given-names></string-name>, <string-name><surname>Floden</surname><given-names>EW</given-names></string-name></person-group><etal>et al</etal><article-title>Nextflow enables reproducible computational workflows</article-title>. <source>Nat Biotechnol</source><year>2017</year>;<volume>35</volume>:<fpage>316</fpage>–<lpage>9</lpage>.<pub-id pub-id-type="pmid">28398311</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B8">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Koru</surname><given-names>G</given-names></string-name>, <string-name><surname>El Emam</surname><given-names>K</given-names></string-name>, <string-name><surname>Neisa</surname><given-names>A</given-names></string-name></person-group><etal>et al</etal><article-title>A survey of quality assurance practices in biomedical open source software projects</article-title>. <source>J Med Internet Res</source><year>2007</year>;<volume>9;e8</volume>.</mixed-citation>
    </ref>
    <ref id="btae079-B9">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Köster</surname><given-names>J</given-names></string-name>, <string-name><surname>Rahmann</surname><given-names>S.</given-names></string-name></person-group><article-title>Snakemake—a scalable bioinformatics workflow engine</article-title>. <source>Bioinformatics</source><year>2012</year>;<volume>28</volume>:<fpage>2520</fpage>–<lpage>2</lpage>.<pub-id pub-id-type="pmid">22908215</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B10">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Li</surname><given-names>H</given-names></string-name>, <string-name><surname>Handsaker</surname><given-names>B</given-names></string-name>, <string-name><surname>Wysoker</surname><given-names>A</given-names></string-name></person-group><etal>et al</etal>; <collab>1000 Genome Project Data Processing Subgroup</collab>. <article-title>The Sequence Alignment/Map format and SAMtools</article-title>. <source>Bioinformatics</source><year>2009</year>;<volume>25</volume>:<fpage>2078</fpage>–<lpage>9</lpage>.<pub-id pub-id-type="pmid">19505943</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B11">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Merkel</surname><given-names>D.</given-names></string-name></person-group><article-title>Docker: lightweight Linux containers for consistent development and deployment</article-title>. <source>Linux J</source><year>2014</year>;<volume>2014</volume>:<fpage>239</fpage>.</mixed-citation>
    </ref>
    <ref id="btae079-B12">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Mölder</surname><given-names>F</given-names></string-name>, <string-name><surname>Jablonski</surname><given-names>KP</given-names></string-name>, <string-name><surname>Letcher</surname><given-names>B</given-names></string-name></person-group><etal>et al</etal><article-title>Sustainable data analysis with Snakemake [version 1; peer review: 1 approved, 1 approved with reservations]</article-title>. <source>F1000Res</source><year>2021</year>;<volume>10</volume>:<fpage>33</fpage>.<pub-id pub-id-type="pmid">34035898</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B13">
      <mixed-citation publication-type="other"><person-group person-group-type="author"><string-name><surname>Patel</surname><given-names>Y</given-names></string-name>, <string-name><surname>Zhu</surname><given-names>C</given-names></string-name>, <string-name><surname>Yamaguchi</surname><given-names>TN</given-names></string-name></person-group><etal>et al</etal> NFTest: automated testing of Nextflow pipelines. <italic toggle="yes">Bioinformatics</italic><year>2024</year>. <pub-id pub-id-type="doi">10.1093/bioinformatics/btae081</pub-id>.</mixed-citation>
    </ref>
    <ref id="btae079-B14">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Silva</surname><given-names>LB</given-names></string-name>, <string-name><surname>Jimenez</surname><given-names>RC</given-names></string-name>, <string-name><surname>Blomberg</surname><given-names>N</given-names></string-name></person-group><etal>et al</etal><article-title>General guidelines for biomedical software development</article-title>. <source>F1000Res</source><year>2017</year>;<volume>6</volume>:<fpage>273</fpage>.<pub-id pub-id-type="pmid">28443186</pub-id></mixed-citation>
    </ref>
  </ref-list>
</back>
<?DTDIdentifier.IdentifierValue -//NLM//DTD JATS (Z39.96) Journal Publishing DTD v1.2 20190208//EN?>
<?DTDIdentifier.IdentifierType public?>
<?SourceDTD.DTDName JATS-journalpublishing1.dtd?>
<?SourceDTD.Version 1.2?>
<?ConverterInfo.XSLTName jats2jats3.xsl?>
<?ConverterInfo.Version 1?>
<?properties open_access?>
<processing-meta base-tagset="archiving" mathml-version="3.0" table-model="xhtml" tagset-family="jats">
  <restricted-by>pmc</restricted-by>
</processing-meta>
<front>
  <journal-meta>
    <journal-id journal-id-type="nlm-ta">Bioinformatics</journal-id>
    <journal-id journal-id-type="iso-abbrev">Bioinformatics</journal-id>
    <journal-id journal-id-type="publisher-id">bioinformatics</journal-id>
    <journal-title-group>
      <journal-title>Bioinformatics</journal-title>
    </journal-title-group>
    <issn pub-type="ppub">1367-4803</issn>
    <issn pub-type="epub">1367-4811</issn>
    <publisher>
      <publisher-name>Oxford University Press</publisher-name>
    </publisher>
  </journal-meta>
  <article-meta>
    <article-id pub-id-type="pmcid">10893582</article-id>
    <article-id pub-id-type="pmid">38341658</article-id>
    <article-id pub-id-type="doi">10.1093/bioinformatics/btae079</article-id>
    <article-id pub-id-type="publisher-id">btae079</article-id>
    <article-categories>
      <subj-group subj-group-type="heading">
        <subject>Applications Note</subject>
        <subj-group subj-group-type="category-toc-heading">
          <subject>Genome Analysis</subject>
        </subj-group>
      </subj-group>
      <subj-group subj-group-type="category-taxonomy-collection">
        <subject>AcademicSubjects/SCI01060</subject>
      </subj-group>
    </article-categories>
    <title-group>
      <article-title>PipeVal: light-weight extensible tool for file validation</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0003-3113-7010</contrib-id>
        <name>
          <surname>Patel</surname>
          <given-names>Yash</given-names>
        </name>
        <aff><institution>Jonsson Comprehensive Cancer Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Institute for Precision Health, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <xref rid="btae079-FM1" ref-type="author-notes"/>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Beshlikyan</surname>
          <given-names>Arpi</given-names>
        </name>
        <aff><institution>Jonsson Comprehensive Cancer Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Institute for Precision Health, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <xref rid="btae079-FM1" ref-type="author-notes"/>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Jordan</surname>
          <given-names>Madison</given-names>
        </name>
        <aff><institution>Jonsson Comprehensive Cancer Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Institute for Precision Health, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Department of Human Genetics, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Kim</surname>
          <given-names>Gina</given-names>
        </name>
        <aff><institution>Jonsson Comprehensive Cancer Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Institute for Precision Health, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
      </contrib>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0002-1012-7879</contrib-id>
        <name>
          <surname>Holmes</surname>
          <given-names>Aaron</given-names>
        </name>
        <aff><institution>Jonsson Comprehensive Cancer Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Institute for Precision Health, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
      </contrib>
      <contrib contrib-type="author">
        <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0003-1082-3871</contrib-id>
        <name>
          <surname>Yamaguchi</surname>
          <given-names>Takafumi N</given-names>
        </name>
        <aff><institution>Jonsson Comprehensive Cancer Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Institute for Precision Health, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Department of Human Genetics, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
      </contrib>
      <contrib contrib-type="author" corresp="yes">
        <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0003-0553-7520</contrib-id>
        <name>
          <surname>Boutros</surname>
          <given-names>Paul C</given-names>
        </name>
        <aff><institution>Jonsson Comprehensive Cancer Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Institute for Precision Health, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Department of Human Genetics, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Department of Urology, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <aff><institution>Broad Stem Cell Research Center, University of California, Los Angeles</institution>, Los Angeles, CA 90095, <country country="US">United States</country></aff>
        <xref rid="btae079-cor1" ref-type="corresp"/>
        <!--pboutros@mednet.ucla.edu-->
      </contrib>
    </contrib-group>
    <contrib-group>
      <contrib contrib-type="editor">
        <name>
          <surname>Valencia</surname>
          <given-names>Alfonso</given-names>
        </name>
        <role>Associate Editor</role>
      </contrib>
    </contrib-group>
    <author-notes>
      <corresp id="btae079-cor1">Corresponding author. Department of Human Genetics, University of California, 10833 Le Conte Avenue, Los Angeles, CA 90095, United States. E-mail: <email>pboutros@mednet.ucla.edu</email> (P.C.B.)</corresp>
      <fn id="btae079-FM1">
        <p>Equal contribution by Yash Patel and Arpi Beshlikyan.</p>
      </fn>
    </author-notes>
    <pub-date pub-type="collection">
      <month>2</month>
      <year>2024</year>
    </pub-date>
    <pub-date pub-type="epub" iso-8601-date="2024-02-10">
      <day>10</day>
      <month>2</month>
      <year>2024</year>
    </pub-date>
    <pub-date pub-type="pmc-release">
      <day>10</day>
      <month>2</month>
      <year>2024</year>
    </pub-date>
    <volume>40</volume>
    <issue>2</issue>
    <elocation-id>btae079</elocation-id>
    <history>
      <date date-type="received">
        <day>08</day>
        <month>9</month>
        <year>2023</year>
      </date>
      <date date-type="rev-recd">
        <day>30</day>
        <month>1</month>
        <year>2024</year>
      </date>
      <date date-type="editorial-decision">
        <day>03</day>
        <month>2</month>
        <year>2024</year>
      </date>
      <date date-type="accepted">
        <day>08</day>
        <month>2</month>
        <year>2024</year>
      </date>
      <date date-type="corrected-typeset">
        <day>23</day>
        <month>2</month>
        <year>2024</year>
      </date>
    </history>
    <permissions>
      <copyright-statement>© The Author(s) 2024. Published by Oxford University Press.</copyright-statement>
      <copyright-year>2024</copyright-year>
      <license>
        <ali:license_ref xmlns:ali="http://www.niso.org/schemas/ali/1.0/" specific-use="textmining" content-type="ccbylicense">https://creativecommons.org/licenses/by/4.0/</ali:license_ref>
        <license-p>This is an Open Access article distributed under the terms of the Creative Commons Attribution License (<ext-link ext-link-type="uri" xlink:href="https://creativecommons.org/licenses/by/4.0/">https://creativecommons.org/licenses/by/4.0/</ext-link>), which permits unrestricted reuse, distribution, and reproduction in any medium, provided the original work is properly cited.</license-p>
      </license>
    </permissions>
    <self-uri xlink:href="btae079.pdf"/>
    <abstract>
      <title>Abstract</title>
      <sec id="s1">
        <title>Motivation</title>
        <p>The volume of biomedical data generated each year is growing exponentially as high-throughput molecular, imaging and mHealth technologies expand. This rise in data volume has contributed to an increasing reliance on and demand for computational methods, and consequently to increased attention to software quality and data integrity.</p>
      </sec>
      <sec id="s2">
        <title>Results</title>
        <p>To simplify data verification in diverse data-processing pipelines, we created PipeVal, a light-weight, easy-to-use, extensible tool for file validation. It is open-source, easy to integrate with complex workflows, and modularized for extensibility for new file formats. PipeVal can be rapidly inserted into existing methods and pipelines to automatically validate and verify inputs and outputs. This can reduce wasted compute time attributed to file corruption or invalid file paths, and significantly improve the quality of data-intensive software.</p>
      </sec>
      <sec id="s3">
        <title>Availability and implementation</title>
        <p>PipeVal is an open-source Python package under the GPLv2 license and it is freely available at <ext-link xlink:href="https://github.com/uclahs-cds/package-PipeVal" ext-link-type="uri">https://github.com/uclahs-cds/package-PipeVal</ext-link>. The docker image is available at: <ext-link xlink:href="https://github.com/uclahs-cds/package-PipeVal/pkgs/container/pipeval" ext-link-type="uri">https://github.com/uclahs-cds/package-PipeVal/pkgs/container/pipeval</ext-link>.</p>
      </sec>
    </abstract>
    <funding-group>
      <award-group award-type="grant">
        <funding-source>
          <institution-wrap>
            <institution>National Institutes of Health</institution>
            <institution-id institution-id-type="DOI">10.13039/100000002</institution-id>
          </institution-wrap>
        </funding-source>
        <award-id>P30CA016042</award-id>
        <award-id>U2CCA271894</award-id>
        <award-id>U24CA248265</award-id>
        <award-id>U54HG012517</award-id>
      </award-group>
    </funding-group>
    <counts>
      <page-count count="4"/>
    </counts>
  </article-meta>
</front>
<body>
  <sec>
    <title>1 Introduction</title>
    <p>Over the past decade, biomedical research has been transformed by the advent of high-throughput technologies that rapidly and affordably generate extremely large datasets. These have derived from a wide-range of technologies, ranging from next-generation sequencing, live-cell imaging, and mHealth (the practice of medicine and public health through mobile devices). Each of these high-throughput and scalable technologies has contributed to a dramatic, ongoing increase in data volume, coupled to increasing demand for processing tools and algorithms. Discovery research has grown to rely on the development and routine application of algorithms and software for post-processing, denoising, quality-control, feature-engineering, and other pre-processing steps. This has made the quality of software increasingly central to the innovation and execution of biomedical research (<xref rid="btae079-B6" ref-type="bibr">Dash <italic toggle="yes">et al.</italic> 2019</xref>, <xref rid="btae079-B4" ref-type="bibr">Cremin <italic toggle="yes">et al.</italic> 2022</xref>).</p>
    <p>High-quality software development involves a set of practices widespread in some settings, but typically deprioritized in academic settings. This is especially true during the early phase of rapid algorithmic innovation, when good software engineering is often secondary to determining the optimal strategy for a new algorithm; utility is prioritized over implementation. The need for continued publication of novel work can then disincentivize refactoring and other software-quality improvements, except for the most widely-used tools (<xref rid="btae079-B8" ref-type="bibr">Koru <italic toggle="yes">et al.</italic> 2007</xref>, <xref rid="btae079-B14" ref-type="bibr">Silva <italic toggle="yes">et al.</italic> 2017</xref>). There are many prominent and well-known good software engineering practices, including test-driven development (<xref rid="btae079-B13" ref-type="bibr">Patel <italic toggle="yes">et al.</italic> 2024</xref><italic toggle="yes">Bioinformatics</italic> in press), developer and user documentation, requirements management, and input/output validation.</p>
    <p>The reasons why each of these is not routine vary, but the barriers to systematic input and output validation are straight-forward: implementing them can be cumbersome, time-consuming, and repetitive. Each function or file-type requires its own bespoke validation, increasing code-bloat and reducing readability. Creating these validations during development can slow down testing and feels cumbersome to developers; and yet, input and output validation is highly beneficial. Validation of inputs can reduce unnecessary compute cycles and reduce the risk of incorrect results. Validation of outputs can avoid unexpected results in downstream analyses and make software failures clear to end-users.</p>
    <p>The lack of systematic input and output validation in many data-processing pipelines has been exacerbated by the growing popularity of workflow orchestration frameworks such as Snakemake and Nextflow (<xref rid="btae079-B9" ref-type="bibr">Köster and Rahmann 2012</xref>, <xref rid="btae079-B7" ref-type="bibr">Di Tommaso <italic toggle="yes">et al.</italic> 2017</xref>). These frameworks facilitate complex data engineering paths where up to dozens of programs can be executed in sequence and/or parallel to generate a diversity of outputs. However, file validation and error-checking are not intrinsic features of these frameworks, especially in the context of bioinformatics workflows involving a broad range of file formats. This creates an important need for a validation tool capable of handling a multitude of file types that can be plugged into any arbitrary data-processing workflow without requiring repeated wrapping of specific validation modules into individual workflows.</p>
    <p>To fill this gap, we created PipeVal: a light-weight, easy-to-use, extensible tool for validating common file formats that reduces the friction and repetitiveness of bioinformatics input/output validation. It allows developers to rapidly validate formats including: FASTQ, SAM (Sequence Alignment/Map), BAM (Binary Sequence Alignment/Map), CRAM (Compressed Reference-oriented Alignment Map), ZIP, and VCF (Variant Call Format) (<xref rid="btae079-B10" ref-type="bibr">Li <italic toggle="yes">et al.</italic> 2009</xref>, <xref rid="btae079-B3" ref-type="bibr">Cock <italic toggle="yes">et al.</italic> 2010</xref>, <xref rid="btae079-B5" ref-type="bibr">Danecek <italic toggle="yes">et al.</italic> 2011</xref>, <xref rid="btae079-B2" ref-type="bibr">Cochrane <italic toggle="yes">et al.</italic> 2012</xref>). It has generic checksum generation and verification, and is trivially extensible to new file formats. It can be incorporated into existing pipelines with just a single line of code. By reducing barriers to file validation, PipeVal can help improve bioinformatics software quality.</p>
  </sec>
  <sec>
    <title>2 Results</title>
    <p>PipeVal is designed to be portable and easy to install on a range of systems. It is installable through the Python package manager pip, which handles installation of dependencies. It also supports cross-platform compatibility through an accompanying light-weight Docker image (581 MB) built to encapsulate dependencies and the utility itself for use on any system. The Docker image is particularly convenient for use in complex workflows, such as those using Snakemake, Nextflow, or other workflow orchestration frameworks (<xref rid="btae079-B11" ref-type="bibr">Merkel 2014</xref>, <xref rid="btae079-B7" ref-type="bibr">Di Tommaso <italic toggle="yes">et al.</italic> 2017</xref>, <xref rid="btae079-B12" ref-type="bibr">Mölder <italic toggle="yes">et al.</italic> 2021</xref>).</p>
    <p>To maximize ease of implementation into existing workflows, the PipeVal interface is extremely simple, with the main command being <monospace>pipeval</monospace>, with subcommands for validation (<monospace>pipeval validate</monospace>) and for checksum generation (<monospace>pipeval generate-checksum</monospace>). The standard command to validate a file is simply <monospace>pipeval validate file.extension</monospace>. PipeVal automatically handles proper detection of the specific file-type based on extensions and customizes the validation performed on that basis.</p>
    <p>PipeVal begins by verifying that a file exists—this trivial check automatically handles a wide variety of path- and permission-related errors that occur routinely in computational biology (<xref rid="btae079-F1" ref-type="fig">Fig. 1</xref>). It then considers whether the file is compressed (or potentially compressed) and it proceeds to verifying the compression and, if the integrity checking option is enabled, the integrity of the compressed file. Next, PipeVal automatically detects the presence of checksums in several formats (e.g. sha512, md5), and performs checksum verification. These validations are encapsulated within PipeVal and are easily integrable within workflows (<xref rid="btae079-F1" ref-type="fig">Fig. 1</xref>).</p>
    <fig position="float" id="btae079-F1">
      <label>Figure 1.</label>
      <caption>
        <p>PipeVal validations and example command and output. (a) PipeVal validation workflow indicating the three common validations—existence, compression, and checksums—and the format-specific validations. (b) Example of integration of PipeVal into call-sSNV workflow. (c) Example command and output for invalid files, files with bad checksums, and valid files.</p>
      </caption>
      <graphic xlink:href="btae079f1" position="float"/>
    </fig>
    <p>These three validations—existence, compression, and checksums—are performed for all files. PipeVal then consults a library of modular file format-specific validation functions. Specific validation functions that exist from other works have been consolidated within PipeVal in order to support validation of multiple file types. As an example, the pysam module containing libraries for manipulating genomic data files such as BAM/SAM/CRAM is utilized for validation of those formats (<xref rid="btae079-B1" ref-type="bibr">Bonfield <italic toggle="yes">et al.</italic> 2021</xref>). The VCFtools suite, which includes a module for VCF file validation, is also leveraged within PipeVal (<xref rid="btae079-B5" ref-type="bibr">Danecek <italic toggle="yes">et al.</italic> 2011</xref>). If it is able to identify a validator for the type of a file, it then applies it. As one example, if PipeVal recognizes a BAM file, it will verify that the data contained is sequence data, verify that the header is properly formatted, and check for the presence of at least one read. PipeVal will also automatically detect and confirm the presence of an accompanying index file for BAM file. As a second example, when PipeVal recognizes a VCF file, it will check for properly formatted headers and for properly formatted variant calls.</p>
    <p>PipeVal can validate multiple files in a single pass, and can generate checksums when they are not already present. With complex bioinformatics workflows involving many files, parallelization of validation is an important optimization consideration. PipeVal has been implemented with the option of validating multiple files in parallel by leveraging multi-threading. Extension to new file formats is modular: the automated file-type detection is linked to a mapping of validation modules to file types. The independence and integration of these modules enables quick addition of modules for new file types with a simple update to the file type-to-extension mapping and the file type-to-validation module mapping. PipeVal will also continue to optimize the validation process for large genomic files, by leveraging parallel processing techniques and specific file manipulation tools. Genomic files are often large and stored in compressed binary formats, which allows for the creation of index files to facilitate navigation. This property can therefore be leveraged to parallelize validation across multiple threads, with each one processing a subset of the file with access expedited through the index. Validation tools also may include options for quick validation aimed toward performing the basic checks. PipeVal encapsulates these options to support both fast, efficient validation, and in-depth, thorough validation using more resources depending on the workflow necessities.</p>
    <p>With biomedical research becoming increasingly reliant on complex software workflows, software quality is becoming a key factor in innovation and replication. Standard good software engineering practices are often secondary in academic research. By greatly reducing the friction for standardized input/output validation, PipeVal can be easily incorporated into existing workflows to help verify data integrity. It can reduce the frustrating occurrence of corrupt files or incorrect file paths leading to wasted compute resources and in some cases incorrect results. PipeVal is freely available at: <ext-link xlink:href="https://github.com/uclahs-cds/package-PipeVal" ext-link-type="uri">https://github.com/uclahs-cds/package-PipeVal</ext-link>. The docker image is available at: <ext-link xlink:href="https://github.com/uclahs-cds/package-PipeVal/pkgs/container/pipeval" ext-link-type="uri">https://github.com/uclahs-cds/package-PipeVal/pkgs/container/pipeval</ext-link>.</p>
  </sec>
</body>
<back>
  <ack id="ack1">
    <title>Acknowledgements</title>
    <p>The authors gratefully acknowledge the ongoing support of all present and past members of the Boutros lab in providing suggestions, practical use-cases, and support.</p>
  </ack>
  <sec sec-type="COI-statement">
    <title>Conflict of interest</title>
    <p>P.C.B. sits on the Scientific Advisory Boards of Intersect Diagnostics Inc., BioSymetrics Inc., and Sage Bionetworks. All other authors have no conflicts of interest to declare.</p>
  </sec>
  <sec>
    <title>Funding</title>
    <p>This study was supported by the National Institutes of Health through awards P30CA016042, U2CCA271894, U24CA248265, and U54HG012517; the Department of Defense through award W81XWH2210247; and the UCLA Institute for Precision Health and the UCLA Jonsson Comprehensive Cancer Center.</p>
  </sec>
  <sec sec-type="data-availability">
    <title>Data availability</title>
    <p>No new data were generated or analysed in support of this research.</p>
  </sec>
  <ref-list id="ref1">
    <title>References</title>
    <ref id="btae079-B1">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Bonfield</surname><given-names>JK</given-names></string-name>, <string-name><surname>Marshall</surname><given-names>J</given-names></string-name>, <string-name><surname>Danecek</surname><given-names>P</given-names></string-name></person-group><etal>et al</etal><article-title>HTSlib: C library for reading/writing high-throughput sequencing data</article-title>. <source>Gigascience</source><year>2021</year>;<volume>10</volume>:<fpage>giab007</fpage>.<pub-id pub-id-type="pmid">33594436</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B2">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Cochrane</surname><given-names>G</given-names></string-name>, <string-name><surname>Alako</surname><given-names>B</given-names></string-name>, <string-name><surname>Amid</surname><given-names>C</given-names></string-name></person-group><etal>et al</etal><article-title>Facing growth in the European Nucleotide Archive</article-title>. <source>Nucleic Acids Res</source><year>2012</year>;<volume>41</volume>:<fpage>D30</fpage>–<lpage>5</lpage>.<pub-id pub-id-type="pmid">23203883</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B3">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Cock</surname><given-names>PJA</given-names></string-name>, <string-name><surname>Fields</surname><given-names>CJ</given-names></string-name>, <string-name><surname>Goto</surname><given-names>N</given-names></string-name></person-group><etal>et al</etal><article-title>The Sanger FASTQ file format for sequences with quality scores, and the Solexa/Illumina FASTQ variants</article-title>. <source>Nucleic Acids Res</source><year>2010</year>;<volume>38</volume>:<fpage>1767</fpage>–<lpage>71</lpage>.<pub-id pub-id-type="pmid">20015970</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B4">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Cremin</surname><given-names>CJ</given-names></string-name>, <string-name><surname>Dash</surname><given-names>S</given-names></string-name>, <string-name><surname>Huang</surname><given-names>X</given-names></string-name></person-group><etal>et al</etal><article-title>Big data: historic advances and emerging trends in biomedical research</article-title>. <source>Curr Res Biotechnol</source><year>2022</year>;<volume>4</volume>:<fpage>138</fpage>–<lpage>51</lpage>.</mixed-citation>
    </ref>
    <ref id="btae079-B5">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Danecek</surname><given-names>P</given-names></string-name>, <string-name><surname>Auton</surname><given-names>A</given-names></string-name>, <string-name><surname>Abecasis</surname><given-names>G</given-names></string-name></person-group><etal>et al</etal>; <collab>1000 Genomes Project Analysis Group</collab>. <article-title>The variant call format and VCFtools</article-title>. <source>Bioinformatics</source><year>2011</year>;<volume>27</volume>:<fpage>2156</fpage>–<lpage>8</lpage>.<pub-id pub-id-type="pmid">21653522</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B6">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Dash</surname><given-names>S</given-names></string-name>, <string-name><surname>Shakyawar</surname><given-names>SK</given-names></string-name>, <string-name><surname>Sharma</surname><given-names>M</given-names></string-name></person-group><etal>et al</etal><article-title>Big data in healthcare: management, analysis and future prospects</article-title>. <source>J Big Data</source><year>2019</year>;<volume>6</volume>:<fpage>54</fpage>.</mixed-citation>
    </ref>
    <ref id="btae079-B7">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Di Tommaso</surname><given-names>P</given-names></string-name>, <string-name><surname>Chatzou</surname><given-names>M</given-names></string-name>, <string-name><surname>Floden</surname><given-names>EW</given-names></string-name></person-group><etal>et al</etal><article-title>Nextflow enables reproducible computational workflows</article-title>. <source>Nat Biotechnol</source><year>2017</year>;<volume>35</volume>:<fpage>316</fpage>–<lpage>9</lpage>.<pub-id pub-id-type="pmid">28398311</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B8">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Koru</surname><given-names>G</given-names></string-name>, <string-name><surname>El Emam</surname><given-names>K</given-names></string-name>, <string-name><surname>Neisa</surname><given-names>A</given-names></string-name></person-group><etal>et al</etal><article-title>A survey of quality assurance practices in biomedical open source software projects</article-title>. <source>J Med Internet Res</source><year>2007</year>;<volume>9;e8</volume>.</mixed-citation>
    </ref>
    <ref id="btae079-B9">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Köster</surname><given-names>J</given-names></string-name>, <string-name><surname>Rahmann</surname><given-names>S.</given-names></string-name></person-group><article-title>Snakemake—a scalable bioinformatics workflow engine</article-title>. <source>Bioinformatics</source><year>2012</year>;<volume>28</volume>:<fpage>2520</fpage>–<lpage>2</lpage>.<pub-id pub-id-type="pmid">22908215</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B10">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Li</surname><given-names>H</given-names></string-name>, <string-name><surname>Handsaker</surname><given-names>B</given-names></string-name>, <string-name><surname>Wysoker</surname><given-names>A</given-names></string-name></person-group><etal>et al</etal>; <collab>1000 Genome Project Data Processing Subgroup</collab>. <article-title>The Sequence Alignment/Map format and SAMtools</article-title>. <source>Bioinformatics</source><year>2009</year>;<volume>25</volume>:<fpage>2078</fpage>–<lpage>9</lpage>.<pub-id pub-id-type="pmid">19505943</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B11">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Merkel</surname><given-names>D.</given-names></string-name></person-group><article-title>Docker: lightweight Linux containers for consistent development and deployment</article-title>. <source>Linux J</source><year>2014</year>;<volume>2014</volume>:<fpage>239</fpage>.</mixed-citation>
    </ref>
    <ref id="btae079-B12">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Mölder</surname><given-names>F</given-names></string-name>, <string-name><surname>Jablonski</surname><given-names>KP</given-names></string-name>, <string-name><surname>Letcher</surname><given-names>B</given-names></string-name></person-group><etal>et al</etal><article-title>Sustainable data analysis with Snakemake [version 1; peer review: 1 approved, 1 approved with reservations]</article-title>. <source>F1000Res</source><year>2021</year>;<volume>10</volume>:<fpage>33</fpage>.<pub-id pub-id-type="pmid">34035898</pub-id></mixed-citation>
    </ref>
    <ref id="btae079-B13">
      <mixed-citation publication-type="other"><person-group person-group-type="author"><string-name><surname>Patel</surname><given-names>Y</given-names></string-name>, <string-name><surname>Zhu</surname><given-names>C</given-names></string-name>, <string-name><surname>Yamaguchi</surname><given-names>TN</given-names></string-name></person-group><etal>et al</etal> NFTest: automated testing of Nextflow pipelines. <italic toggle="yes">Bioinformatics</italic><year>2024</year>. <pub-id pub-id-type="doi">10.1093/bioinformatics/btae081</pub-id>.</mixed-citation>
    </ref>
    <ref id="btae079-B14">
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><string-name><surname>Silva</surname><given-names>LB</given-names></string-name>, <string-name><surname>Jimenez</surname><given-names>RC</given-names></string-name>, <string-name><surname>Blomberg</surname><given-names>N</given-names></string-name></person-group><etal>et al</etal><article-title>General guidelines for biomedical software development</article-title>. <source>F1000Res</source><year>2017</year>;<volume>6</volume>:<fpage>273</fpage>.<pub-id pub-id-type="pmid">28443186</pub-id></mixed-citation>
    </ref>
  </ref-list>
</back>
