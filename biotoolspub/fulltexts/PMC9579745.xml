<?DTDIdentifier.IdentifierValue -//NLM//DTD JATS (Z39.96) Journal Publishing DTD v1.2 20190208//EN?>
<?DTDIdentifier.IdentifierType public?>
<?SourceDTD.DTDName JATS-journalpublishing1.dtd?>
<?SourceDTD.Version 1.2?>
<?ConverterInfo.XSLTName jats2jats3.xsl?>
<?ConverterInfo.Version 1?>
<?subarticle report150857?>
<?properties open_access?>
<processing-meta base-tagset="archiving" mathml-version="3.0" table-model="xhtml" tagset-family="jats">
  <restricted-by>pmc</restricted-by>
</processing-meta>
<front>
  <journal-meta>
    <journal-id journal-id-type="nlm-ta">F1000Res</journal-id>
    <journal-id journal-id-type="iso-abbrev">F1000Res</journal-id>
    <journal-title-group>
      <journal-title>F1000Research</journal-title>
    </journal-title-group>
    <issn pub-type="epub">2046-1402</issn>
    <publisher>
      <publisher-name>F1000 Research Limited</publisher-name>
      <publisher-loc>London, UK</publisher-loc>
    </publisher>
  </journal-meta>
  <article-meta>
    <article-id pub-id-type="pmcid">9579745</article-id>
    <article-id pub-id-type="doi">10.12688/f1000research.40668.1</article-id>
    <article-categories>
      <subj-group subj-group-type="heading">
        <subject>Software Tool Article</subject>
      </subj-group>
      <subj-group>
        <subject>Articles</subject>
      </subj-group>
    </article-categories>
    <title-group>
      <article-title><italic toggle="yes">RP-REP </italic>Ribosomal Profiling Reports: an open-source cloud-enabled framework for reproducible ribosomal profiling data processing, analysis, and result reporting</article-title>
      <fn-group content-type="pub-status">
        <fn>
          <p>[version 1; peer review: 2 approved]</p>
        </fn>
      </fn-group>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <name>
          <surname>Jensen</surname>
          <given-names>Travis L.</given-names>
        </name>
        <role content-type="http://credit.niso.org/">Conceptualization</role>
        <role content-type="http://credit.niso.org/">Formal Analysis</role>
        <role content-type="http://credit.niso.org/">Methodology</role>
        <role content-type="http://credit.niso.org/">Software</role>
        <role content-type="http://credit.niso.org/">Validation</role>
        <role content-type="http://credit.niso.org/">Visualization</role>
        <role content-type="http://credit.niso.org/">Writing – Review &amp; Editing</role>
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0002-0322-0469</contrib-id>
        <xref rid="a1" ref-type="aff">1</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Hooper</surname>
          <given-names>William F.</given-names>
        </name>
        <role content-type="http://credit.niso.org/">Conceptualization</role>
        <role content-type="http://credit.niso.org/">Data Curation</role>
        <role content-type="http://credit.niso.org/">Formal Analysis</role>
        <role content-type="http://credit.niso.org/">Methodology</role>
        <role content-type="http://credit.niso.org/">Software</role>
        <role content-type="http://credit.niso.org/">Validation</role>
        <role content-type="http://credit.niso.org/">Visualization</role>
        <xref rid="a1" ref-type="aff">1</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Cherikh</surname>
          <given-names>Sami R.</given-names>
        </name>
        <role content-type="http://credit.niso.org/">Software</role>
        <role content-type="http://credit.niso.org/">Visualization</role>
        <role content-type="http://credit.niso.org/">Writing – Review &amp; Editing</role>
        <xref rid="a1" ref-type="aff">1</xref>
      </contrib>
      <contrib contrib-type="author" corresp="yes">
        <name>
          <surname>Goll</surname>
          <given-names>Johannes B.</given-names>
        </name>
        <role content-type="http://credit.niso.org/">Conceptualization</role>
        <role content-type="http://credit.niso.org/">Formal Analysis</role>
        <role content-type="http://credit.niso.org/">Methodology</role>
        <role content-type="http://credit.niso.org/">Project Administration</role>
        <role content-type="http://credit.niso.org/">Supervision</role>
        <role content-type="http://credit.niso.org/">Writing – Original Draft Preparation</role>
        <role content-type="http://credit.niso.org/">Writing – Review &amp; Editing</role>
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0002-9968-4080</contrib-id>
        <xref rid="c1" ref-type="corresp">a</xref>
        <xref rid="a1" ref-type="aff">1</xref>
      </contrib>
      <aff id="a1"><label>1</label>The Emmes Company, 401 North Washington Street, Suite 700, Rockville, MD 20850, USA</aff>
    </contrib-group>
    <author-notes>
      <corresp id="c1">
        <label>a</label>
        <email xlink:href="mailto:jgoll@emmes.com">jgoll@emmes.com</email>
      </corresp>
      <fn fn-type="con">
        <p>TJ: Conception and design; Drafting of Manuscript, RPREP Software Development</p>
        <p>WH: Conception and design; RPREP Software Development</p>
        <p>SC: Drafting of Manuscript, Documentation and testing, RPREP Software Development</p>
        <p>JG: Conception and design; Drafting of Manuscript; Statistical considerations;</p>
      </fn>
      <fn fn-type="COI-statement">
        <p>No competing interests were disclosed.</p>
      </fn>
    </author-notes>
    <pub-date pub-type="epub">
      <day>24</day>
      <month>2</month>
      <year>2021</year>
    </pub-date>
    <pub-date pub-type="collection">
      <year>2021</year>
    </pub-date>
    <volume>10</volume>
    <elocation-id>143</elocation-id>
    <history>
      <date date-type="accepted">
        <day>2</day>
        <month>2</month>
        <year>2021</year>
      </date>
    </history>
    <permissions>
      <copyright-statement>Copyright: © 2021 Jensen TL et al.</copyright-statement>
      <copyright-year>2021</copyright-year>
      <license>
        <ali:license_ref xmlns:ali="http://www.niso.org/schemas/ali/1.0/" specific-use="textmining" content-type="ccbylicense">https://creativecommons.org/licenses/by/4.0/</ali:license_ref>
        <license-p>This is an open access article distributed under the terms of the Creative Commons Attribution Licence, which permits unrestricted use, distribution, and reproduction in any medium, provided the original work is properly cited.</license-p>
      </license>
    </permissions>
    <self-uri content-type="pdf" xlink:href="f1000research-10-43733.pdf"/>
    <abstract>
      <p>Ribosomal profiling is an emerging experimental technology to measure protein synthesis by sequencing short mRNA fragments undergoing translation in ribosomes. Applied on the genome wide scale, this is a powerful tool to profile global protein synthesis within cell populations of interest. Such information can be utilized for biomarker discovery and detection of treatment-responsive genes. However, analysis of ribosomal profiling data requires careful preprocessing to reduce the impact of artifacts and dedicated statistical methods for visualizing and modeling the high-dimensional discrete read count data. Here we present Ribosomal Profiling Reports (RP-REP), a new open-source cloud-enabled software that allows users to execute start-to-end gene-level ribosomal profiling and RNA-Seq analysis on a pre-configured Amazon Virtual Machine Image (AMI) hosted on AWS or on the user’s own Ubuntu Linux server. The software works with FASTQ files stored locally, on AWS S3, or at the Sequence Read Archive (SRA). RP-REP automatically executes a series of customizable steps including filtering of contaminant RNA, enrichment of true ribosomal footprints, reference alignment and gene translation quantification, gene body coverage, CRAM compression, reference alignment QC, data normalization, multivariate data visualization, identification of differentially translated genes, and generation of heatmaps, co-translated gene clusters, enriched pathways, and other custom visualizations. RP-REP provides functionality to contrast RNA-SEQ and ribosomal profiling results, and calculates translational efficiency per gene. The software outputs a PDF report and publication-ready table and figure files. As a use case, we provide RP-REP results for a dengue virus study that tested cytosol and endoplasmic reticulum cellular fractions of human Huh7 cells pre-infection and at 6 h, 12 h, 24 h, and 40 h post-infection. Case study results, Ubuntu installation scripts, and the most recent RP-REP source code are accessible at
<ext-link xlink:href="https://github.com/emmesgit/RPREP" ext-link-type="uri">GitHub</ext-link>. The cloud-ready AMI is available at
<ext-link xlink:href="https://aws.amazon.com/" ext-link-type="uri">AWS</ext-link> (AMI ID: RPREP RSEQREP (Ribosome Profiling and RNA-Seq Reports) v2.1 (ami-00b92f52d763145d3)).</p>
    </abstract>
    <kwd-group kwd-group-type="author">
      <kwd>RP-REP</kwd>
      <kwd>ribosomal profiling</kwd>
      <kwd>RNA-Seq</kwd>
      <kwd>transcriptomics</kwd>
      <kwd>differential gene translation</kwd>
      <kwd>pathway enrichment</kwd>
      <kwd>translational efficiency</kwd>
      <kwd>reproducible research</kwd>
      <kwd>cloud computing</kwd>
      <kwd>AMI</kwd>
    </kwd-group>
    <funding-group>
      <award-group id="fund-1">
        <funding-source>The Emmes Company</funding-source>
      </award-group>
      <award-group id="fund-2">
        <funding-source>National Institutes of Allergy and Infectious Disease</funding-source>
        <award-id>HHSN272200800013C</award-id>
        <award-id>HHSN272201500002C</award-id>
      </award-group>
      <funding-statement>This project was funded by the Emmes Company and by federal funds from the National Institutes of Allergy and Infectious Disease, part of the National Institutes of Health in the Department of Health and Human Services, under Contract Nos. HHSN272200800013C and HHSN272201500002C.</funding-statement>
    </funding-group>
  </article-meta>
</front>
<body>
  <sec sec-type="intro">
    <title>Introduction</title>
    <p>While the principles for ribosomal profiling (RP) were invented decades ago, the application of next-generation sequencing recently set the stage for genome-wide assessments of translation at codon resolution
<sup><xref rid="ref-1" ref-type="bibr">1</xref>–
<xref rid="ref-3" ref-type="bibr">3</xref>
</sup>. The technique makes use of the facts that mRNAs that undergo translation in ribosomes can be fixated to each other using certain chemicals and that the joint ribosome/mRNA complexes can be isolated using chromatography after mRNAs not protected by ribosomes have been degraded using ribonucleases. Following isolation, as for RNA-Seq, mRNA fragments are reverse transcribed and sequenced. The resulting reads may not only represent true ribosomal footprints (reads that originated from mRNA bound to a ribosome, typically ranging between 25 to 35 nt in length) but artifacts/contaminants that were not actively translated such as spurious mRNA or rRNA. These artifacts need to be identified and removed before or during the reference genome alignment step. The resulting clean RP data can then be used for multiple purposes including mapping of translation sites such as initiation regions or elongation regions, characterization and timing of protein folding (when combined with ChIP), and quantification of genome-wide translation via counting of ribosomal footprints per gene
<sup><xref rid="ref-4" ref-type="bibr">4</xref></sup>. The last can be utilized to assess changes in mRNA translation in individual cells or different groups of cells in response to certain drugs or therapeutics, providing insights into how such treatments work on the gene and pathway level and how these effects differ across patients or patient cohorts. In an ideal scenario, such information could then be utilized to develop predictive biomarkers to personalize treatment.</p>
    <p>Before scientists can readily analyze RP data, key challenges must be overcome
<sup><xref rid="ref-5" ref-type="bibr">5</xref></sup>. These include the provisioning of adequate hardware and software resources to meet the data processing and storage requirements for this type of analysis. Depending on the size of the project, both can be substantial. In addition, setting up a suitable RP data processing and analysis workflow requires significant bioinformatics programming resources and careful workflow parameterization. Analysis and visualization of high-dimensional RP data is not trivial requiring a thorough understanding of multivariate data analysis and statistical methods for appropriately modeling the data
<sup><xref rid="ref-6" ref-type="bibr">6</xref></sup>. Even if all these challenges are addressed, ensuring fully reproducible results when all steps are being re-executed is very hard to accomplish unless all components are tightly integrated and automated, and software versions, arguments, and reference data are properly controlled.</p>
    <p>Here we present RP-REP
<sup><xref rid="ref-7" ref-type="bibr">7</xref></sup>, a new software that allows scientists to address these challenges and, at the same time, facilitates full reproducibility starting from the raw data. The software is designed to run on scalable cloud resources via AWS and pre-built AMI is available atami-00b92f52d763145d3. Alternatively, users can install the software on a local Ubuntu machine using our installation script (
<italic toggle="yes">RPREP/ubuntu/install-software-v2.1.0.sh</italic>). The software also allows for joint data processing analysis of both RP and RNA-Seq data leveraging functionality of our previously published RNA-Seq software (RESEQREP)
<sup><xref rid="ref-8" ref-type="bibr">8</xref></sup>. We demonstrate the joint capabilities of our RP-REP software for a published dengue virus study that collected cytosol and ER cellular fractions of human Huh7 cells pre-infection and 6 h, 12 h, 24 h, and 40 h post-infection and performed multiple replicate RNA-Seq and RP experiments (GEO:
<ext-link xlink:href="https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE69602" ext-link-type="uri">GSE69602</ext-link>)
<sup><xref rid="ref-9" ref-type="bibr">9</xref></sup>.</p>
  </sec>
  <sec sec-type="methods">
    <title>Methods</title>
    <sec>
      <title>Implementation</title>
      <p><xref rid="f1" ref-type="fig">Figure 1</xref> provides an overview of RP-REP software components. The software is organized into four main components: (1) setup (2) pre-processing (3) analysis, and (4) reporting (
<xref rid="f1" ref-type="fig">Figure 1A</xref>). The software utilizes a variety of open-source software in combination with custom shell, R, and Perl scripts to process raw sequence data, quantify gene expression, and track storage, CPU, memory, and other runtime metrics. Preprocessing steps are organized into two stages. Stage 1 executes read filtering steps (
<xref rid="f1" ref-type="fig">Figure 1B</xref>) while stage 2 executes read mapping and gene level quantification (
<xref rid="f1" ref-type="fig">Figure 1C</xref>).</p>
      <fig position="float" fig-type="figure" id="f1">
        <label>Figure 1. </label>
        <caption>
          <title>RPREP implementation overview.</title>
          <p>(
<bold>A</bold>) The software is organized into four main components: (1) setup (2) pre-processing (3) analysis, and (4) reporting. Preprocessing steps are organized into two stages. (
<bold>B</bold>) Pre-Processing Stage 1 executes read filtering steps. (
<bold>C</bold>) Pre-Processing Stage 2 executes read mapping and gene level quantification. (
<bold>B</bold>) and (
<bold>C</bold>) depict the respective Snakemake workflow in the form of a directed graph indicating sequential and parallel processing of certain pre-processing components.</p>
        </caption>
        <graphic xlink:href="f1000research-10-43733-g0000" position="float"/>
      </fig>
      <p>Stage 1 performs RNA artefact filtering by retaining raw FASTQ reads that fail to map to an alignment index built from known human rRNAs, rRNA pseudogenes, tRNA pseudogenes, mitochondrial rRNAs (mt-rRNAs), mitochondrial tRNAs (mt-tRNAs), and mt-rRNA pseudogenes, as well as other known rRNA sequences from Ensembl and GenBank. Additional read processing such as adapter trimming, quality and read length filtering to retain reads that likely represent true ribosomal footprints (read length 25–35 nt), can be performed (
<xref rid="f1" ref-type="fig">Figure 1B</xref>). Stage 2 performs splice-aware human reference genome alignment of reads that have been trimmed and/or filtered during Stage 1 followed by gene expression quantification carried out on the gene level, reference alignment QC including the generation of gene body read coverage plots (
<xref rid="f1" ref-type="fig">Figure 1C</xref>). Processing of samples within each stage is parallelized using the
<ext-link xlink:href="https://snakemake.github.io/" ext-link-type="uri">Snakemake</ext-link> workflow management system
<sup><xref rid="ref-10" ref-type="bibr">10</xref></sup>. Dependencies of steps within each stage are outlined in
<xref rid="f1" ref-type="fig">Figure 1B and 1C</xref> and are optimally prioritized based on available computing resources.</p>
      <p>The analysis component is based on R using both custom R programs as well as existing R/Bioconductor packages (
<xref rid="f1" ref-type="fig">Figure 1A</xref>). The reporting component is based on
<ext-link xlink:href="https://www.r-project.org/" ext-link-type="uri">R</ext-link> (Version 3.6.0), the
<ext-link xlink:href="https://cran.r-project.org/web/packages/knitr/index.html" ext-link-type="uri">knitr R</ext-link> package (Version 1.23), and
<ext-link xlink:href="https://www.latex-project.org/get/" ext-link-type="uri">LaTeX</ext-link> (Version TeX Live 2012/Debian) for reproducible and automatic PDF report and figure/table generation. All components read user-defined arguments from the respective tab in the
<italic toggle="yes">RPREP/config/config.xlsx</italic> spreadsheet.</p>
    </sec>
    <sec>
      <title>Operation</title>
      <p>All four workflow components can be run in sequence via the
<italic toggle="yes">RPREP/run-all.sh</italic> script
<sup><xref rid="ref-7" ref-type="bibr">7</xref></sup> or can be run individually to update results of the respective component. When running each individual step, the most recent version of the configuration file will be reloaded to ensure that any modifications to the configuration will be reflected. This is particularly useful for optimizing results by removing outliers, adjusting cut offs and for overall report customization such as color-coding.</p>
      <p><bold><italic toggle="yes">Step 1.</italic></bold> Configuration parsing and setup: The
<italic toggle="yes">RPREP/run-setup.sh</italic> script executes a parsing of the configuration .xlsx file, downloads the genome and gene models, and prepares the preprocessing and analysis/report result directories.</p>
      <p><bold><italic toggle="yes">Step 2A.</italic></bold> Stage 1 data preprocessing: The
<italic toggle="yes">RPREP/source/shell/run-pre-processing.sh</italic> script initiates the preprocessing workflow, reading in all user-specified arguments provided in the config.xlsx file. Reference data including user-specified versions of the human reference genome sequence and associated gene model information from the Ensembl database are accessed
<sup><xref rid="ref-11" ref-type="bibr">11</xref></sup>. Input for pathway enrichment analysis is handled via Gene Matrix Transposed (GMT) files. GMT files, Entrez Gene IDs, Ensembl Gene IDs, and gene symbols are supported and will be automatically mapped to the human Ensembl reference annotations. We recommend that users obtain reference pathway GMT files from the
<ext-link xlink:href="https://www.gsea-msigdb.org/gsea/msigdb" ext-link-type="uri">Molecular Signatures Database</ext-link> (MSigDB)
<sup><xref rid="ref-12" ref-type="bibr">12</xref></sup>. The MSigDB import is not automated as download requires registration, but the location of downloaded GMT file can be specified in the configuration file. We do provide a script (
<italic toggle="yes">RPREP/source/shell/download-gene-sets.sh</italic>) to automatically download Reactome, Blood Transcriptome Module, and KEGG pathway information and convert this information to GMT files (note, a license may be required prior to downloading the KEGG pathway information). Contaminant sequences of known human rRNAs, rRNA pseudogenes, tRNA pseudogenes, mitochondrial rRNAs (mt-rRNAs), mitochondrial tRNAs (mt-tRNAs), and mt-rRNA pseudogenes, as well as other known rRNA sequences from Ensembl and GenBank are downloaded using
<ext-link xlink:href="https://bioconductor.org/packages/release/bioc/html/biomaRt.html" ext-link-type="uri">biomaRt</ext-link> software (Version 2.40.0) and the Ensembl Perl API (Version 90). Following the reference data download, a
<ext-link xlink:href="http://bowtie-bio.sourceforge.net/bowtie2/index.shtml" ext-link-type="uri">Bowtie2</ext-link> index
<sup><xref rid="ref-13" ref-type="bibr">13</xref></sup> of contaminant masking sequences will be created to optimize reference alignment searches. Based on FASTQ file input specifications in the config.xlsx, workflow execution downloads and decrypts (optional) FASTQ files from
<ext-link xlink:href="https://aws.amazon.com/s3" ext-link-type="uri">AWS S3</ext-link> cloud storage, a local file location, or directly from SRA
<sup>29</sup> via file references. Following the download, the script executes sequence data QC (FastQC). Next, 3' and 5' adapter sequences are trimmed from reads using
<ext-link xlink:href="https://pypi.org/project/cutadapt/1.4.1/" ext-link-type="uri">Cutadapt</ext-link> (Version 2.3)
<sup><xref rid="ref-14" ref-type="bibr">14</xref></sup>. Reads with Phred quality score of less than 20 for the majority of bases are removed using FASTQ quality filter from the
<ext-link xlink:href="http://hannonlab.cshl.edu/fastx_toolkit/" ext-link-type="uri">FASTX Toolkit</ext-link> software package (Version 0.0.14)
<sup><xref rid="ref-15" ref-type="bibr">15</xref></sup>. During processing of ribosomal profiling data, reads that fall outside the typical length range of ribosomal footprints (25 nt to 35 nt) are removed. Reads are then aligned to the index of contaminant sequences using Bowtie2 (Version 2.3.5) with its local alignment option. Reads that map to contaminant sequences are removed, and those that do not are output to a FASTQ file for alignment to the human reference genome. With the exception of read length filtering, the RNA-Seq data is processed as described above.</p>
      <p><italic toggle="yes"><bold>Step 2B.</bold></italic> Stage 2 data preprocessing: The human reference genome assembly, gene models, and associated gene annotation information in the form of a gene transfer format (GTF) are obtained from the ENSEMBL database. The genomic reference is built by merging all human chromosomes. Sequence reads from the Stage 1 data preprocessing that failed to map to the index of contaminant sequences are re-aligned to the reference genome using the
<ext-link xlink:href="http://daehwankimlab.github.io/hisat2/manual/" ext-link-type="uri">HISAT2</ext-link> splice-aware read aligner (Version 2.1.0)
<sup><xref rid="ref-16" ref-type="bibr">16</xref></sup> on stranded, unstranded, or paired-end read data as specified in the config.xlsx, as well as reference based compression (
<ext-link xlink:href="http://www.htslib.org/" ext-link-type="uri">samtools</ext-link>
<sup><xref rid="ref-17" ref-type="bibr">17</xref></sup>). Ensembl gene models are used to guide the alignment process. For each sample, the quality of reference alignments is evaluated using
<ext-link xlink:href="http://rseqc.sourceforge.net/" ext-link-type="uri">RSeQC</ext-link> software (Version 3.0.0)
<sup><xref rid="ref-18" ref-type="bibr">18</xref></sup>. Gene expression quantification is carried out on the gene level using the featureCounts function as implemented in the
<ext-link xlink:href="http://subread.sourceforge.net/" ext-link-type="uri">Subread</ext-link> software (Version 1.6.4)
<sup><xref rid="ref-19" ref-type="bibr">19</xref></sup>. Reads that overlap with multiple genes or map to multiple genomic locations on the reference genome are excluded. This is followed by assessment of gene body coverage to calculate the average read coverage over reference genome gene sequences using the RSeQC software. Additionally, for both Stage 1 and Stage 2, the workflow will track program arguments, program return codes, input and output file names, file size, MDS checksum, wall clock time, CPU time and memory consumption using the built-in Snakemake benchmarking utility.</p>
      <p><italic toggle="yes"><bold>Step 3.</bold></italic> Data Analysis: The
<italic toggle="yes">RPREP/run-analysis.sh</italic> script initializes analysis datasets for the final reporting steps including distance matrix calculations for global multivariate analysis (PCA, MDS, heatmaps), fold change calculations, and differentially expressed gene (edgeR
<sup><xref rid="ref-20" ref-type="bibr">20</xref></sup>), co-expressed gene clusters (pvclust
<sup><xref rid="ref-21" ref-type="bibr">21</xref></sup>), and enriched pathway (GoSeq
<sup><xref rid="ref-22" ref-type="bibr">22</xref></sup>) identification. Interim result files generated as part of these analyses are saved in gzipped .csv format within the analysis directory.</p>
      <p><italic toggle="yes"><bold>Step 4.</bold></italic> Automatics report generation: The
<italic toggle="yes">PREP/run-report.sh</italic> script produces the final results. It runs R analyses on the intermediate analysis files generated in Step 3 and generates a summary PDF report and result tables in gzipped .csv format as well as individual figure files in .pdf and .png format. This script also summarizes key run time statistics that were collected in the Snakemake benchmarking Step 2 in graphical form.</p>
    </sec>
    <sec>
      <title>Minimal System Requirements</title>
      <p>For local instance storage (storage immediately accessible by the instance’s operating system), a 60 GiB
<ext-link xlink:href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-volumes.html" ext-link-type="uri">Elastic Block Store</ext-link> (EBS) volume is sufficient for storing the Ubuntu Linux operating system, user accounts, and temporary analysis space for smaller studies like the dengue virus case study. For studies with larger sample sizes and sequence coverage, we recommend adding one or more additional EBS volumes (see information on AWS set-up on
<ext-link xlink:href="https://github.com/emmesgit/RPREP" ext-link-type="uri">GitHub</ext-link> under
<italic toggle="yes">RPREP/aws/aws_instructions.docx</italic>). We found an m5.2xlarge computational
<ext-link xlink:href="https://aws.amazon.com/ec2/instance-types" ext-link-type="uri">Elastic Compute Cloud</ext-link> (EC2) instance type (8 vCPUs, 32 GiB) to be sufficient for processing and analyzing the dengue virus case study data. Our benchmarks showed that the memory-limiting step is the index generation process executed by HISAT2/Bowtie2 during the preprocessing steps. For the dengue virus case study, the maximum memory requirement was 20 GB, and we expect comparable requirements for studies of similar size.</p>
    </sec>
    <sec>
      <title>Installation</title>
      <p>We provide a pre-configured RP-REP AMI available on
<ext-link xlink:href="https://aws.amazon.com/" ext-link-type="uri">AWS</ext-link> (AMI ID: RPREP RSEQREP (Ribosome Profiling and RNA-Seq Reports) v2.1 (ami-00b92f52d763145d3)) that combines the Ubuntu Linux operating system Version 18.04.2 (long- term support) with all additional software that is required for RP-REP operation (
<italic toggle="yes">RPREP/software.xlxs</italic>). We prepared a manual that provides step-by-step instructions on how to set up the AWS instance including mounting of EBS volumes for local storage and an optional Elastic IP for machine access (
<italic toggle="yes">RPREP/aws/aws_instructions.docx</italic>). Alternatively, we provide installation scripts that can be executed on a local Ubuntu machine (Version 18.04.2) to install necessary dependencies (
<italic toggle="yes">RPREP/ubuntu/install-software.sh</italic>). In both cases, (AWS or local setup) prior to workflow execution, users would need to pull the latest RP-REP source code from
<ext-link xlink:href="https://github.com/emmesgit/RPREP" ext-link-type="uri">GitHub</ext-link> (git clone).</p>
    </sec>
    <sec>
      <title>Configuration</title>
      <p>RP-REP configuration is handled via the
<italic toggle="yes">RPREP/config/config.xlsx</italic> file. The first tab allows users to specify sample metadata. Fields include subject ID, sample ID, sampling time point, a flag (is_baseline) that indicate if a sample was collected prior to treatment, the treatment group, specimen type (e.g. B-cells, PBMCs, etc.), FASTQ sequence file location (AWS S3, local, or remote SRA location), and assay type (ribosomal_profling or rna_seq). In addition, color-coding for time points, treatment groups, and specimen types can be defined. The second tab specifies options related to the pre-processing step. This tab uses a two-column key value pair format to define options. For example, to specify the Ensembl version, users can set the value of the ensembl_version key to 95. Other options include the type of data (stranded: yes/no), paths to all software utilities, and options for executing certain workflow processes (read distribution, FastQC). Paired-end experiments can be accommodated for each sample by specifying two input FASTQ files. The third tab allows users to customize analysis and reporting components. Options include specification of cut-offs to define lowly-expressed genes, differentially expressed (DE) genes, and enriched pathways, as well as the distance metric for heatmap and gene clustering analysis. For further information, see descriptions and examples for each of these options in the configuration file (
<italic toggle="yes">RPREP/config/config.xlsx</italic>). We implemented the framework to dynamically adjust the report presentation depending on the number of subjects, time points, specimen types, and treatment group combinations. For example, Venn diagrams are shown for comparisons between up to five sets (e.g. five time points). Larger sets are accommodated via UpSet plots
<sup><xref rid="ref-23" ref-type="bibr">23</xref></sup>. The configuration file allows users to subset the data by limiting the metadata file to samples, treatment groups, and time points of interest.</p>
    </sec>
    <sec>
      <title>Use case</title>
      <p>To demonstrate the functionality of the RP-REP software, we analyzed a public dengue virus (DNV) data set (GEO: GSE69602)
<sup><xref rid="ref-9" ref-type="bibr">9</xref></sup>. The study assessed the impact of DNV infection on viral and host transcription (via RNA-Seq) and translation (via RP) in human Huh7 cells after 6 h, 12 h, 24 h, and 40 h post infection. Prior to running RNA-Seq and RP, Huh7 cells were fractionated to extract RNA and ribosome-bound RNA from cytosolic and ER compartments to understand how viral replication impacts each cellular fraction on the transcriptional and translational level. The same was done for mock infected Huh7 cells to determine results for uninfected cells. DNV is a plus-strand virus; as such it depends on the host to replicate and translate itself.</p>
      <p>Here, we used RP-REP to assess how the host transcriptional and translational profile changed over time following DNV infection. The mock-infection sample timepoint was labeled with 0h. For RNA-Seq, 2 replicates were run per time point and cellular department for a total of 20 samples. For RP, 4 replicates were run for a total of 40 samples. The results (RP-REP report) and corresponding configuration file with public SRA FASTQ file references can be found as extended data in data files 1 and 2, respectively
<sup><xref rid="ref-7" ref-type="bibr">7</xref></sup>. We provide the configuration file to exemplify the use case and to allow users to reproduce the case study analysis on their own RPREP/RSEQREP AWS instance or Ubuntu Linux machine.</p>
      <p>The RP-REP report for this study includes 182 figures and 82 tables (data file 1
<sup><xref rid="ref-7" ref-type="bibr">7</xref></sup>). Differential gene expression and translation was assessed by comparing pre- vs. post DNV infection read counts using negative binomial models as implemented in the edgeR R package
<sup><xref rid="ref-20" ref-type="bibr">20</xref></sup>. Genes with an FDR-adjusted p-value &lt; 0.05 and fold change ≥4 fold were selected as differentially expression (DE) or differentially translated (DT). The high fold change cut off was chosen to accommodate the strong signal post-DNV infection which required more stringent filtering of DE/DT genes. In the following sections we highlight a subset of the key findings (referenced supplemental tables and figures refer to the corresponding results in data file 1
<sup><xref rid="ref-7" ref-type="bibr">7</xref></sup>).</p>
      <p><bold>Host gene transcription following DNV infection.</bold> A noticeable increase in differential transcript abundance in the cytosol of infected Huh7 cells was observed at 24 h (213 DE genes) and 40 h (899 DE genes) (
<xref rid="f2" ref-type="fig">Figure 2A</xref>). In the ER, DE gene expression increased from 10, to 24, to 82, and 786 DE genes at 6 h, 12 h, 24 h, and 40 h following DNV infection, respectively. While most of the DE genes expressed in the cytosol were up-regulated (98% at 24 h and 85% at 40 h), up-regulation was suppressed in the ER relative to the cytosol, in particular at 40 h (77% at 24h and 54% at 40 h) (
<xref rid="f3" ref-type="fig">Figure 3A</xref>). At 24 h and 40 h, 37 (14%) and 285 (20%) DE genes overlapped between the two compartments. All DE gene results are presented in data file 1 Tables 5–12
<sup><xref rid="ref-7" ref-type="bibr">7</xref></sup>. Pathway enrichment analysis showed that at 40h post DNV infection, transcripts in the Huh7 cytosol were enriched in GO ENDOPLASMIC RETICULUM (178 DE genes), GO IMMUNE SYSTEM PROCESS (146 DE genes), REACTOME IMMUNE SYSTEM (79 DE genes), GO RESPONSE TO ENDOPLASMIC RETICULUM STRESS (59 DE genes), REACTOME INTERFERONG SIGNALING (26 DE genes), and REACTOME UNFOLDED PROTEIN RESPONSE (25 DE genes). While similar immune system pathways were enriched in the ER compartment including GO IMMUNE SYSTEM PROCESS (111 DE genes), REACTOME IMMUNE SYSTEM (58 DE genes), and INTERFERON SIGNALING (25 DE genes), ER-related stress pathways were not enriched. All pathway enrichment results based on DE genes are provided in data file 1 Tables 19–41
<sup><xref rid="ref-7" ref-type="bibr">7</xref></sup>.</p>
      <fig position="float" fig-type="figure" id="f2">
        <label>Figure 2. </label>
        <caption>
          <title>Dengue virus case study: Venn diagrams summarizing differential genes and transcripts following dengue virus (DNV) infection. </title>
          <p>In red: up-regulated relative to pre-DNV infection. In blue: up-regulated relative to pre-DNV infection. ER: endoplasmic reticulum.</p>
        </caption>
        <graphic xlink:href="f1000research-10-43733-g0001" position="float"/>
      </fig>
      <fig position="float" fig-type="figure" id="f3">
        <label>Figure 3. </label>
        <caption>
          <title>Dengue virus case study: MA plots that contrast log
<sub>2</sub> fold change by average gene expression and translation 40 h post infection in the cytosol and endoplasmic reticulum (ER).</title>
          <p>In red: DE/DT genes. CPM: gene expression measured in counts per million. Blue line: fold change cut off (4-fold on the original scale).</p>
        </caption>
        <graphic xlink:href="f1000research-10-43733-g0002" position="float"/>
      </fig>
      <p><bold>Host gene translation following DNV infection.</bold> For the cytosol fraction, 24 h following infection, 10 differentially translated (DT) genes were identified (
<xref rid="f2" ref-type="fig">Figure 2B</xref>). This signal increased to 267 DT genes at 40h post-DNV infection. Most of these DT responses were decreased relative to pre-infection. In the ER compartment, 42 and 1047 DT genes were detected at 24 h and 40 h post-DNV infection, respectively. The ratio of genes with increased translation was 100% for cytosol and 100% for the ER at 24h. While the ratio remained similar for cytosol at 40 h (94%), it dropped to 53% in the ER compartment indicating that protein translation in infected Huh7 cells was strongly suppressed in the ER relative to the cytosol compartment between 24 h and 40 h (
<xref rid="f3" ref-type="fig">Figure 3B</xref>). The fraction of shared DT responses between compartments was 9/43 (21%) of DT genes at 24h and 192/1122 (17%) at 40 h indicating that in addition to suppression, fewer genes translated in the cytosol were translated in the ER between 24 h and 40 h. All DT gene results are presented in data file 1 Tables 46–49
<sup><xref rid="ref-7" ref-type="bibr">7</xref></sup>.</p>
      <p>Pathway enrichment analysis showed that at 40 h post DNV infection, translation in the Huh7 cell cytosol was enriched in GO IMMUNE SYSTEM PROCESS (58 DT genes), GO DEFENSE RESPONSE TO VIRUS (22 DT genes), GO RESPONSE TO TYPE I INTERFERON (12 DT genes), REACTOME INTERFERON SIGNALING (18 DT genes), and REACTOME CYTOKINE SIGNALING IN IMMUNE SYSTEM (22 DT genes). Most DT genes showed increased translation relative to pre-infection indicating that in the cytosol host proteins related to viral defense were actively translated. In contrast, protein translation in the ER 40 h post-DNV infection was characterized by decreased translation of host RNA related to genes involved in ER-related pathways. This included GO LIPID METABOLIC PROCESS (135 DT genes, 117 DT genes decreased), GO ENDOPLASMATIC RETICULUM (159 DT genes, 136 DT genes decreased),
<sc>go intrinsic component of plasma membrane</sc> (124 DT genes, 110 DT genes decreased), GO CELL SURFACE (65 DT genes, 54 DT genes decreased), REACTOME METABOLISM OF LIPIDS AND LIPIDPROTEINS (59 DT genes, 51 DT decreased), and REACTOME POST TRANSLATIONAL PROTEIN MODFICATION (26 DT genes, 25 DT genes decreased). While some immune responses were still active at 40 h post DNV infection in the ER including REACTOME INTEREFERON SIGNALING (24 DT genes, 1 DT decreased), many immune system-related genes were deprioritized (GO IMMUNE SYSTEM PROCESS had 100 DT genes of which 49 were decreased relative to pre-infection). All pathway enrichment results based on DT genes are provided in data file 1 Tables 54–73
<sup><xref rid="ref-7" ref-type="bibr">7</xref></sup>.</p>
      <p>Time trend plots for co-translated DT genes are provided in data file 1 Figures 127–142
<sup><xref rid="ref-7" ref-type="bibr">7</xref></sup>. A selection is shown in
<xref rid="f4" ref-type="fig">Figure 4</xref>. The first cluster highlights translational activation of a group of known interferon-inducible anti-viral genes (
<xref rid="f4" ref-type="fig">Figure 4A</xref>). The trend line indicated that the antiviral response was first triggered between 12 h and 24 h post DNV-infection with an exponential increase in translation between 12 h and 40 h in both the cytosol and the ER. In contrast, translation of several genes encoding for proteins involved in lipid biosynthesis (
<italic toggle="yes">HACD2</italic>), lipid transfer between ER and mitochondria (
<italic toggle="yes">VPS13A</italic>), and transport (
<italic toggle="yes">ATP13A</italic>,
<italic toggle="yes">SLC35F5</italic>) sharply declined between 12 h and 40 h, suggesting increased competition in the ER between viral and host translation (
<xref rid="f4" ref-type="fig">Figure 4B</xref>). Translation in the cytosol for this cluster increased over time potentially to account for the loss in the ER. A similar pattern for the ER compartment was seen for a group of genes related to lipid metabolism (
<xref rid="f4" ref-type="fig">Figure 4C</xref>).</p>
      <fig position="float" fig-type="figure" id="f4">
        <label>Figure 4. </label>
        <caption>
          <title>Dengue virus case study: Selection of co-translated gene cluster time trends.</title>
          <p>Each thin line represents the mean log
<sub>2</sub> cluster response for a certain gene. The thick line indicates the mean across genes. Co-translated gene clustered were identified using a bootstrap-based method as implemented in pvclust
<sup><xref rid="ref-21" ref-type="bibr">21</xref></sup> using the uncentered Pearson correlation distance in combination with complete linkage clustering. ER: endoplasmic reticulum.</p>
        </caption>
        <graphic xlink:href="f1000research-10-43733-g0003" position="float"/>
      </fig>
    </sec>
  </sec>
  <sec sec-type="discussion">
    <title>Discussion</title>
    <p>RNA-Seq and RP are powerful sequencing-based tools to comprehensively assess cellular responses to treatment on the transcriptional and translational level, respectively. To extract meaning from such data is not trivial, requiring both computational resources as well as programming and biostatistical skills. While a multitude of RNA-Seq and RP software tools and R packages are available
<sup><xref rid="ref-24" ref-type="bibr">24</xref>–
<xref rid="ref-26" ref-type="bibr">26</xref>
</sup>, software that fully automate all steps starting from the raw sequencing data and ending with publication-ready tables, figures, and report are rare. Here we presented RP-REP, a new cloud-enabled software that enables researchers to analyze and contrast both RP and RNA-Seq data. The benefit of this software is that it facilitates reproducible research by automating key analysis steps including RP-specific data preprocessing including RNA contaminant filtering, reference alignment, expression/translation quantification, data QC, identification of DE/DT genes, co-expressed/translated gene clusters, and enriched pathways, and calculation of per gene translational efficiency. The software can be tailored to project needs and user data via a user-friendly configuration file. The open-source nature of the software allows for further customization.</p>
    <p>Another benefit is that the software was designed to handle large data volumes via utilizing the Snakemake workflow system for parallel data processing. In combination with the available pre-configured AWS virtual machine image (AMI), this allows for vertical scaling of processing to 96 cores (m5.24xlarge instance, largest single instance available at the time of writing). To track computational requirements, RP-REP monitors computational metrics such as CPU and memory utilization. We used this feature to benchmark computational performance of the RP-REP preprocessing step using the dengue virus case study as an example. To evaluate performance we ran the same 60 samples on increasingly powerful but also more expensive AWS EC2 instance types: m5.2xlarge (8 vCPUs; 32 GiB RAM), m5.4xlarge (16 vCPUs; 64 GiB RAM), m5.8xlarge (32 vCPUs; 128 GiB RAM), and m5.16xlarge (64 vCPUs; 256 GiB RAM) (
<xref rid="f5" ref-type="fig">Figure 5</xref>). Doubling the computational resources (CPU cores and RAM) reduced the overall runtime by about 50% when running on an m5.4xlarge compared to an m5.2xlarge and an m5.8xlarge compared to an m5.4xlarge. However, we found that the m5.8xlarge (32 vCPUs; 128 GiB RAM) machine marks the ideal convergence of processing time and cost (
<xref rid="f5" ref-type="fig">Figure 5</xref>). To generate the summary PDF report for the 60 samples starting from the raw FASTQ files, sample preprocessing took around 9.25 hours on an m5.8xlarge machine (32 vCPUs; 128 GiB RAM), and analysis and reporting steps took around 9.75 hours on an m5.2xlarge machine (8 vCPUs; 32 GiB RAM). Overall, the benchmark showed that software scaled data processing well with available CPU resources.</p>
    <fig position="float" fig-type="figure" id="f5">
      <label>Figure 5. </label>
      <caption>
        <title>Dengue virus case study: Computational processing benchmarks for different AWS EC2 instances.</title>
        <p>The two ribosomal pre-processing stages were run using increasingly larger AWS instances to assess scalability and to estimate runtimes. The following AWS instance type were utilized: 8 Core 32GB Mem: m5.2xlarge AWS instance; 16 Core 64GB Mem: m5.4xlarge AWS instance; 32 Core 128GB Mem: m5.8xlarge AWS instance; 64 Core 258GB Mem: m5.16xlarge AWS instance.</p>
      </caption>
      <graphic xlink:href="f1000research-10-43733-g0004" position="float"/>
    </fig>
    <p>We demonstrated the utility of RP-REP using published RNA-Seq and RP data by Reid
<italic toggle="yes">et al.</italic>
<sup><xref rid="ref-9" ref-type="bibr">9</xref></sup>. Consistent with the authors findings, we found that the largest changes in transcription and translation occurred between 24 h and 40 h post DNV-infection in the cytosol and ER. Reid
<italic toggle="yes">et al.</italic> and others showed that the virus hijacks a cell’s ER to prioritize viral protein synthesis over non-viral membrane proteins
<sup><xref rid="ref-9" ref-type="bibr">9</xref></sup>. Consistent with these results, we found that host translation of genes related to the ER, lipid metabolism, and components of the plasma membrane were strongly suppressed in the ER but not in the cytosol compartment at 40 h post-infection relative to pre-infection. To protect the ER from overload and avoid excess numbers of unfolded proteins, cells can activate the unfolded protein response (UPR) regulatory system
<sup><xref rid="ref-9" ref-type="bibr">9</xref></sup>. Our pathway enrichment analysis confirmed gene expression activation of the UPR in the cytosol 40 h after DNV infection. In addition, cellular anti-viral defense mechanisms related gene signatures such as those induced following interferon signaling were activated on the transcriptional and translational level in both cellular compartments at 40 h post DNV infection. While interferon signaling related genes showed an exponential increase of translation over time in both the ER and cytosol, translation for around 50 other immune system-related genes was suppressed relative to pre-infection at 40 h post DNV infection.</p>
  </sec>
  <sec sec-type="data-availability">
    <title>Data availability</title>
    <sec>
      <title>Source data</title>
      <p>RNA-Seq and Ribosomal Profiling data for human Hu7 cells before and 6h, 12h, 24h, 40h after dengue virus infection available from
<ext-link xlink:href="https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE69602" ext-link-type="uri">NCBI GEO</ext-link> with accession number GSE69602.</p>
    </sec>
    <sec>
      <title>Extended data</title>
      <p>Zenodo: emmesgit/RPREP: RPREP v1.0.0.
<ext-link xlink:href="http://doi.org/10.5281/zenodo.4428861" ext-link-type="uri">http://doi.org/10.5281/zenodo.4428861</ext-link>
<sup><xref rid="ref-7" ref-type="bibr">7</xref></sup>.</p>
      <p>This project contains the following extended data:</p>
      <list list-type="simple">
        <list-item>
          <label>- </label>
          <p>Data file 1 - case-study: rprep-report-20201230.pdf (RP-REP results for DNV case study)</p>
        </list-item>
        <list-item>
          <label>- </label>
          <p>Data file 2 - case-study: config-dengue.xlsx (RP-REP configuration file for the DNV case study)</p>
        </list-item>
      </list>
    </sec>
  </sec>
  <sec>
    <title>Software availability </title>
    <p>Source code available from:
<ext-link xlink:href="https://github.com/emmesgit/RPREP" ext-link-type="uri">https://github.com/emmesgit/RPREP</ext-link>
</p>
    <p>Archived source code at time of publication:
<ext-link xlink:href="http://doi.org/10.5281/zenodo.4428861" ext-link-type="uri">http://doi.org/10.5281/zenodo.4428861</ext-link>
<sup><xref rid="ref-7" ref-type="bibr">7</xref></sup>
</p>
    <p>The cloud-ready AMI is available at
<ext-link xlink:href="https://aws.amazon.com/" ext-link-type="uri">AWS</ext-link> (AMI ID: RPREP RSEQREP (Ribosome Profiling and RNA-Seq Reports) v2.1 (ami-00b92f52d763145d3)).</p>
    <p>License: Subject to various licenses, namely, the
<ext-link xlink:href="https://www.gnu.org/licenses/gpl-3.0.en.html" ext-link-type="uri">GNU General Public License</ext-link> version 3 (or later), the
<ext-link xlink:href="https://www.gnu.org/licenses/agpl-3.0.en.html" ext-link-type="uri">GNU Affero General Public License</ext-link> version 3 (or later), and the
<ext-link xlink:href="https://www.latex-project.org/lppl/lppl-1-3c/" ext-link-type="uri">LaTeX Project Public License</ext-link> v.1.3(c).</p>
    <p>A list of the software contained in this program, including the applicable licenses, can be accessed at
<ext-link xlink:href="https://github.com/emmesgit/RPREP/blob/master/SOFTWARE.xlsx" ext-link-type="uri">https://github.com/emmesgit/RPREP/blob/master/SOFTWARE.xlsx</ext-link>
</p>
  </sec>
</body>
<back>
  <ref-list>
    <ref id="ref-1">
      <label>1</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Ingolia</surname><given-names>NT</given-names></name><name><surname>Ghaemmaghami</surname><given-names>S</given-names></name><name><surname>Newman</surname><given-names>JRS</given-names></name><etal/></person-group>:
<article-title>Genome-wide analysis
<italic toggle="yes">in vivo</italic> of translation with nucleotide resolution using ribosome profiling.</article-title><source><italic toggle="yes">Science.</italic></source><year>2009</year>;<volume>324</volume>(<issue>5924</issue>):<fpage>218</fpage>–<lpage>223</lpage>.
<pub-id pub-id-type="doi">10.1126/science.1168978</pub-id><!--<pub-id pub-id-type="pmcid">2746483</pub-id>--><?supplied-pmid 19213877?><pub-id pub-id-type="pmid">19213877</pub-id></mixed-citation>
    </ref>
    <ref id="ref-2">
      <label>2</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>McGlincy</surname><given-names>NJ</given-names></name><name><surname>Nicholas</surname><given-names>TI</given-names></name></person-group>:
<article-title>Transcriptome-wide measurement of translation by ribosome profiling.</article-title><source><italic toggle="yes">Methods.</italic></source><year>2017</year>;<volume>126</volume>:<fpage>112</fpage>–<lpage>129</lpage>.
<pub-id pub-id-type="doi">10.1016/j.ymeth.2017.05.028</pub-id><!--<pub-id pub-id-type="pmcid">5582988</pub-id>--><?supplied-pmid 28579404?><pub-id pub-id-type="pmid">28579404</pub-id></mixed-citation>
    </ref>
    <ref id="ref-3">
      <label>3</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Ingolia</surname><given-names>NT</given-names></name><name><surname>Brar</surname><given-names>GA</given-names></name><name><surname>Rouskin</surname><given-names>S</given-names></name><etal/></person-group>:
<article-title>The ribosome profiling strategy for monitoring translation
<italic toggle="yes">in vivo</italic> by deep sequencing of ribosome-protected mRNA fragments.</article-title><source><italic toggle="yes">Nat Protoc.</italic></source><year>2012</year>;<volume>7</volume>(<issue>8</issue>):<fpage>1534</fpage>–<lpage>1550</lpage>.
<pub-id pub-id-type="doi">10.1038/nprot.2012.086</pub-id><!--<pub-id pub-id-type="pmcid">3535016</pub-id>--><?supplied-pmid 22836135?><pub-id pub-id-type="pmid">22836135</pub-id></mixed-citation>
    </ref>
    <ref id="ref-4">
      <label>4</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Brar</surname><given-names>GA</given-names></name><name><surname>Weissman</surname><given-names>JS</given-names></name></person-group>:
<article-title>Ribosome profiling reveals the what, when, where and how of protein synthesis.</article-title><source><italic toggle="yes">Nat Rev Mol Cell Biol.</italic></source><year>2015</year>;<volume>16</volume>(<issue>11</issue>):<fpage> 651</fpage>–<lpage>664</lpage>.
<pub-id pub-id-type="doi">10.1038/nrm4069</pub-id><!--<pub-id pub-id-type="pmcid">5522010</pub-id>--><?supplied-pmid 26465719?><pub-id pub-id-type="pmid">26465719</pub-id></mixed-citation>
    </ref>
    <ref id="ref-5">
      <label>5</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Sboner</surname><given-names>A</given-names></name><name><surname>Mu</surname><given-names>XJ</given-names></name><name><surname>Greenbaum</surname><given-names>D</given-names></name><etal/></person-group>:
<article-title>The real cost of sequencing: higher than you think!</article-title><source><italic toggle="yes">Genome Biol.</italic></source><year>2011</year>;<volume>12</volume>(<issue>8</issue>):<fpage>125</fpage>.
<pub-id pub-id-type="doi">10.1186/gb-2011-12-8-125</pub-id><!--<pub-id pub-id-type="pmcid">3245608</pub-id>--><?supplied-pmid 21867570?><pub-id pub-id-type="pmid">21867570</pub-id></mixed-citation>
    </ref>
    <ref id="ref-6">
      <label>6</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Calviello</surname><given-names>L</given-names></name><name><surname>Ohler</surname><given-names>U</given-names></name></person-group>:
<article-title>Beyond read-counts: Ribo-seq data analysis to understand the functions of the transcriptome.</article-title><source><italic toggle="yes">Trends Genet.</italic></source><year>2017</year>;<volume>33</volume>(<issue>10</issue>):<fpage>728</fpage>–<lpage>744</lpage>.
<pub-id pub-id-type="doi">10.1016/j.tig.2017.08.003</pub-id><?supplied-pmid 28887026?><pub-id pub-id-type="pmid">28887026</pub-id></mixed-citation>
    </ref>
    <ref id="ref-7">
      <label>7</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Git</surname><given-names>E</given-names></name></person-group>:
<article-title>emmesgit/RPREP: RPREP v1.0.0.</article-title>(Version v1.0.0).
<source><italic toggle="yes">Zenodo.</italic></source><year>2021</year>.
<pub-id pub-id-type="doi">10.5281/zenodo.4428861</pub-id></mixed-citation>
    </ref>
    <ref id="ref-8">
      <label>8</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Jensen</surname><given-names>TL</given-names></name><name><surname>Frasketi</surname><given-names>M</given-names></name><name><surname>Conway</surname><given-names>K</given-names></name><etal/></person-group>:
<article-title>RSEQREP: RNA-Seq Reports, an open-source cloud-enabled framework for reproducible RNA-Seq data processing, analysis, and result reporting [version 2; peer review: 2 approved].</article-title><source><italic toggle="yes">F1000Res.</italic></source><year>2017</year>;<volume>6</volume>: 2162.
<pub-id pub-id-type="doi">10.12688/f1000research.13049.2</pub-id><!--<pub-id pub-id-type="pmcid">6039931</pub-id>--><?supplied-pmid 30026912?><pub-id pub-id-type="pmid">30026912</pub-id></mixed-citation>
    </ref>
    <ref id="ref-9">
      <label>9</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Reid</surname><given-names>DW</given-names></name><name><surname>Campos</surname><given-names>RK</given-names></name><name><surname>Child</surname><given-names>JR</given-names></name><etal/></person-group>:
<article-title>Dengue virus selectively annexes endoplasmic reticulum-associated translation machinery as a strategy for co-opting host cell protein synthesis.</article-title><source><italic toggle="yes">J Virol.</italic></source><year>2018</year>;<volume>92</volume>(<issue>7</issue>): e01766–17.
<pub-id pub-id-type="doi">10.1128/JVI.01766-17</pub-id><!--<pub-id pub-id-type="pmcid">5972907</pub-id>--><?supplied-pmid 29321322?><pub-id pub-id-type="pmid">29321322</pub-id></mixed-citation>
    </ref>
    <ref id="ref-10">
      <label>10</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Köster</surname><given-names>J</given-names></name><name><surname>Sven</surname><given-names>R</given-names></name></person-group>:
<article-title>Snakemake--a scalable bioinformatics workflow engine.</article-title><source><italic toggle="yes">Bioinformatics.</italic></source><year>2012</year>;<volume>28</volume>(<issue>19</issue>):<fpage>2520</fpage>–<lpage>2522</lpage>.
<pub-id pub-id-type="doi">10.1093/bioinformatics/bts480</pub-id><?supplied-pmid 22908215?><pub-id pub-id-type="pmid">22908215</pub-id></mixed-citation>
    </ref>
    <ref id="ref-11">
      <label>11</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Hubbard</surname><given-names>T</given-names></name><name><surname>Barker</surname><given-names>D</given-names></name><name><surname>Birney</surname><given-names>E</given-names></name><etal/></person-group>:
<article-title>The Ensembl genome database project.</article-title><source><italic toggle="yes">Nucleic Acids Res.</italic></source><year>2002</year>;<volume>30</volume>(<issue>1</issue>):<fpage>38</fpage>–<lpage>41</lpage>.
<pub-id pub-id-type="doi">10.1093/nar/30.1.38</pub-id><!--<pub-id pub-id-type="pmcid">99161</pub-id>--><?supplied-pmid 11752248?><pub-id pub-id-type="pmid">11752248</pub-id></mixed-citation>
    </ref>
    <ref id="ref-12">
      <label>12</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Liberzon</surname><given-names>A</given-names></name><name><surname>Subramanian</surname><given-names>A</given-names></name><name><surname>Pinchback</surname><given-names>R</given-names></name><etal/></person-group>:
<article-title>Molecular signatures database (MSigDB) 3.0.</article-title><source><italic toggle="yes">Bioinformatics.</italic></source><year>2011</year>;<volume>27</volume>(<issue>12</issue>):<fpage>1739</fpage>–<lpage>1740</lpage>.
<pub-id pub-id-type="doi">10.1093/bioinformatics/btr260</pub-id><!--<pub-id pub-id-type="pmcid">3106198</pub-id>--><?supplied-pmid 21546393?><pub-id pub-id-type="pmid">21546393</pub-id></mixed-citation>
    </ref>
    <ref id="ref-13">
      <label>13</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Langmead</surname><given-names>B</given-names></name><name><surname>Salzberg</surname><given-names>SL</given-names></name></person-group>:
<article-title>Fast gapped-read alignment with Bowtie 2.</article-title><source><italic toggle="yes">Nat Methods.</italic></source><year>2012</year>;<volume>9</volume>(<issue>4</issue>):<fpage>357</fpage>–<lpage>9</lpage>.
<pub-id pub-id-type="doi">10.1038/nmeth.1923</pub-id><!--<pub-id pub-id-type="pmcid">3322381</pub-id>--><?supplied-pmid 22388286?><pub-id pub-id-type="pmid">22388286</pub-id></mixed-citation>
    </ref>
    <ref id="ref-14">
      <label>14</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Martin</surname><given-names>M</given-names></name></person-group>:
<article-title>Cutadapt removes adapter sequences from high-throughput sequencing reads.</article-title><source><italic toggle="yes">EMBnet J.</italic></source><year>2011</year>;<volume>17</volume>(<issue>1</issue>):<fpage>10</fpage>–<lpage>12</lpage>.
<pub-id pub-id-type="doi">10.14806/ej.17.1.200</pub-id></mixed-citation>
    </ref>
    <ref id="ref-15">
      <label>15</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Gordon</surname><given-names>A</given-names></name><name><surname>Hannon</surname><given-names>GJ</given-names></name></person-group>:
<article-title>Fastx-toolkit. FASTQ/A short-reads preprocessing tools</article-title>. (unpublished)<year>2010</year>;<volume>5</volume>.
<ext-link xlink:href="http://hannonlab.cshl.edu/fastx_toolkit/" ext-link-type="uri">Reference Source</ext-link></mixed-citation>
    </ref>
    <ref id="ref-16">
      <label>16</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Kim</surname><given-names>D</given-names></name><name><surname>Langmead</surname><given-names>B</given-names></name><name><surname>Salzberg</surname><given-names>SL</given-names></name></person-group>:
<article-title>HISAT: a fast spliced aligner with low memory requirements.</article-title><source><italic toggle="yes">Nat Methods.</italic></source><year>2015</year>;<volume>12</volume>(<issue>4</issue>):<fpage>357</fpage>–<lpage>360</lpage>.
<pub-id pub-id-type="doi">10.1038/nmeth.3317</pub-id><!--<pub-id pub-id-type="pmcid">4655817</pub-id>--><?supplied-pmid 25751142?><pub-id pub-id-type="pmid">25751142</pub-id></mixed-citation>
    </ref>
    <ref id="ref-17">
      <label>17</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Li</surname><given-names>H</given-names></name><name><surname>Handsaker</surname><given-names>B</given-names></name><name><surname>Wysoker</surname><given-names>A</given-names></name><etal/></person-group>:
<article-title>The sequence alignment/map format and SAMtools.</article-title><source><italic toggle="yes">Bioinformatics.</italic></source><year>2009</year>;<volume>25</volume>(<issue>16</issue>):<fpage>2078</fpage>–<lpage>2079</lpage>.
<pub-id pub-id-type="doi">10.1093/bioinformatics/btp352</pub-id><!--<pub-id pub-id-type="pmcid">2723002</pub-id>--><?supplied-pmid 19505943?><pub-id pub-id-type="pmid">19505943</pub-id></mixed-citation>
    </ref>
    <ref id="ref-18">
      <label>18</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Wang</surname><given-names>L</given-names></name><name><surname>Wang</surname><given-names>S</given-names></name><name><surname>Li</surname><given-names>W</given-names></name></person-group>:
<article-title>RSeQC: quality control of RNA-seq experiments.</article-title><source><italic toggle="yes">Bioinformatics.</italic></source><year>2012</year>;<volume>28</volume>(<issue>16</issue>):<fpage>2184</fpage>–<lpage>2185</lpage>.
<pub-id pub-id-type="doi">10.1093/bioinformatics/bts356</pub-id><?supplied-pmid 22743226?><pub-id pub-id-type="pmid">22743226</pub-id></mixed-citation>
    </ref>
    <ref id="ref-19">
      <label>19</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Liao</surname><given-names>Y</given-names></name><name><surname>Smyth</surname><given-names>GK</given-names></name><name><surname>Shi</surname><given-names>W</given-names></name></person-group>:
<article-title>The Subread aligner: fast, accurate and scalable read mapping by seed-and-vote.</article-title><source><italic toggle="yes">Nucleic Acids Res.</italic></source><year>2013</year>;<volume>41</volume>(<issue>10</issue>): e108.
<pub-id pub-id-type="doi">10.1093/nar/gkt214</pub-id><!--<pub-id pub-id-type="pmcid">3664803</pub-id>--><?supplied-pmid 23558742?><pub-id pub-id-type="pmid">23558742</pub-id></mixed-citation>
    </ref>
    <ref id="ref-20">
      <label>20</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Robinson</surname><given-names>MD</given-names></name><name><surname>McCarthy</surname><given-names>DJ</given-names></name><name><surname>Smyth</surname><given-names>GK</given-names></name></person-group>:
<article-title>edgeR: a Bioconductor package for differential expression analysis of digital gene expression data.</article-title><source><italic toggle="yes">Bioinformatics.</italic></source><year>2010</year>;<volume>26</volume>(<issue>1</issue>):<fpage>139</fpage>–<lpage>140</lpage>.
<pub-id pub-id-type="doi">10.1093/bioinformatics/btp616</pub-id><!--<pub-id pub-id-type="pmcid">2796818</pub-id>--><?supplied-pmid 19910308?><pub-id pub-id-type="pmid">19910308</pub-id></mixed-citation>
    </ref>
    <ref id="ref-21">
      <label>21</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Suzuki</surname><given-names>R</given-names></name><name><surname>Shimodaira</surname><given-names>H</given-names></name></person-group>:
<article-title>Pvclust: an R package for assessing the uncertainty in hierarchical clustering.</article-title><source><italic toggle="yes">Bioinformatics.</italic></source><year>2006</year>;<volume>22</volume>(<issue>12</issue>):<fpage>1540</fpage>–<lpage>1542</lpage>.
<pub-id pub-id-type="doi">10.1093/bioinformatics/btl117</pub-id><?supplied-pmid 16595560?><pub-id pub-id-type="pmid">16595560</pub-id></mixed-citation>
    </ref>
    <ref id="ref-22">
      <label>22</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Young</surname><given-names>MD</given-names></name><name><surname>Wakefield</surname><given-names>MJ</given-names></name><name><surname>Smyth</surname><given-names>GK</given-names></name><etal/></person-group>:
<article-title>goseq: Gene Ontology testing for RNA-seq datasets.</article-title><source><italic toggle="yes">R Bioconductor.</italic></source><year>2012</year>;<volume>8</volume>:<fpage>1</fpage>–<lpage>25</lpage>.
<ext-link xlink:href="https://www.researchgate.net/publication/238769214_goseq_Gene_Ontology_testing_for_RNA-seq_datasets" ext-link-type="uri">Reference Source</ext-link></mixed-citation>
    </ref>
    <ref id="ref-23">
      <label>23</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Lex</surname><given-names>A</given-names></name><name><surname>Gehlenborg</surname><given-names>N</given-names></name><name><surname>Strobelt</surname><given-names>H</given-names></name><etal/></person-group>:
<article-title>UpSet: visualization of intersecting sets.</article-title><source><italic toggle="yes">IEEE Trans Vis Comput Graph.</italic></source><year>2014</year>;<volume>20</volume>(<issue>12</issue>):<fpage>1983</fpage>–<lpage>1992</lpage>.
<pub-id pub-id-type="doi">10.1109/TVCG.2014.2346248</pub-id><!--<pub-id pub-id-type="pmcid">4720993</pub-id>--><?supplied-pmid 26356912?><pub-id pub-id-type="pmid">26356912</pub-id></mixed-citation>
    </ref>
    <ref id="ref-24">
      <label>24</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Wang</surname><given-names>H</given-names></name><name><surname>Wang</surname><given-names>Y</given-names></name><name><surname>Xie</surname><given-names>Z</given-names></name></person-group>:
<article-title>Computational resources for ribosome profiling: from database to Web server and software.</article-title><source><italic toggle="yes">Brief Bioinform.</italic></source><year>2019</year>;<volume>20</volume>(<issue>1</issue>):<fpage>144</fpage>–<lpage>155</lpage>.
<pub-id pub-id-type="doi">10.1093/bib/bbx093</pub-id><?supplied-pmid 28968766?><pub-id pub-id-type="pmid">28968766</pub-id></mixed-citation>
    </ref>
    <ref id="ref-25">
      <label>25</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Legendre</surname><given-names>R</given-names></name><name><surname>Baudin-Baillieu</surname><given-names>A</given-names></name><name><surname>Hatin</surname><given-names>I</given-names></name><etal/></person-group>:
<article-title>RiboTools: a Galaxy toolbox for qualitative ribosome profiling analysis.</article-title><source><italic toggle="yes">Bioinformatics.</italic></source><year>2015</year>;<volume>31</volume>(<issue>15</issue>):<fpage>2586</fpage>–<lpage>2588</lpage>.
<pub-id pub-id-type="doi">10.1093/bioinformatics/btv174</pub-id><?supplied-pmid 25812744?><pub-id pub-id-type="pmid">25812744</pub-id></mixed-citation>
    </ref>
    <ref id="ref-26">
      <label>26</label>
      <mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Michel</surname><given-names>AM</given-names></name><name><surname>Mullan</surname><given-names>JPA</given-names></name><name><surname>Velayudhan</surname><given-names>V</given-names></name><etal/></person-group>:
<article-title>RiboGalaxy: a browser based platform for the alignment, analysis and visualization of ribosome profiling data.</article-title><source><italic toggle="yes">RNA Biol.</italic></source><year>2016</year>;<volume>13</volume>(<issue>3</issue>):<fpage>316</fpage>–<lpage>319</lpage>.
<pub-id pub-id-type="doi">10.1080/15476286.2016.1141862</pub-id><!--<pub-id pub-id-type="pmcid">4829337</pub-id>--><?supplied-pmid 26821742?><pub-id pub-id-type="pmid">26821742</pub-id></mixed-citation>
    </ref>
  </ref-list>
</back>
<sub-article article-type="peer-review" id="report150857">
  <front-stub>
    <article-id pub-id-type="doi">10.5256/f1000research.43733.r150857</article-id>
    <title-group>
      <article-title>Reviewer response for version 1</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <name>
          <surname>Berg</surname>
          <given-names>Jordan A.</given-names>
        </name>
        <xref rid="r150857a1" ref-type="aff">1</xref>
        <role>Referee</role>
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0002-5096-0558</contrib-id>
      </contrib>
      <aff id="r150857a1"><label>1</label>Altos Labs, Redwood City, CA, USA</aff>
    </contrib-group>
    <author-notes>
      <fn fn-type="COI-statement">
        <p><bold>Competing interests: </bold>I am the author of a ribosome profiling open-source pipeline (XPRESSyourself).</p>
      </fn>
    </author-notes>
    <pub-date pub-type="epub">
      <day>18</day>
      <month>10</month>
      <year>2022</year>
    </pub-date>
    <permissions>
      <copyright-statement>Copyright: © 2022 Berg JA</copyright-statement>
      <copyright-year>2022</copyright-year>
      <license>
        <ali:license_ref xmlns:ali="http://www.niso.org/schemas/ali/1.0/" specific-use="textmining" content-type="ccbylicense">https://creativecommons.org/licenses/by/4.0/</ali:license_ref>
        <license-p>This is an open access peer review report distributed under the terms of the Creative Commons Attribution Licence, which permits unrestricted use, distribution, and reproduction in any medium, provided the original work is properly cited.</license-p>
      </license>
    </permissions>
    <related-article related-article-type="peer-reviewed-article" ext-link-type="doi" id="relatedArticleReport150857" xlink:href="10.12688/f1000research.40668.1">Version 1</related-article>
    <custom-meta-group>
      <custom-meta>
        <meta-name>recommendation</meta-name>
        <meta-value>approve</meta-value>
      </custom-meta>
    </custom-meta-group>
  </front-stub>
  <body>
    <p>
      <bold>Major:</bold>
      <list list-type="bullet">
        <list-item>
          <p>By using Docker, this is great for reproducibility, but what if improved version of a dependency is released? How easy will it be to update the pipeline?</p>
        </list-item>
        <list-item>
          <p>Are there options to modify the footprint window? For instance, some work has shown that 21 nt RPFs correspond to open A site ribosomes (
<ext-link xlink:href="https://www.cell.com/molecular-cell/fulltext/S1097-2765(18)31063-3" ext-link-type="uri">https://www.cell.com/molecular-cell/fulltext/S1097-2765(18)31063-3</ext-link>).</p>
        </list-item>
        <list-item>
          <p>It would be helpful to explain more why each dependency was chosen. For instance, by Bowtie2 vs STAR? Why Cutadapt vs something else?</p>
        </list-item>
        <list-item>
          <p>It would be helpful to discuss existing pipelines for ribosome profiling data and more clearly explain the rationale for creating this pipeline.</p>
        </list-item>
      </list>
    </p>
    <p>
      <bold>Minor:</bold>
      <list list-type="bullet">
        <list-item>
          <p>Some of the phrasing is unclear in the introduction. For instance, the authors state that “ribosomes can be fixated together” in ribosome profiling. However, I think what is meant that ribosomes can by fixated to transcripts (via cycloheximide, etc).</p>
        </list-item>
        <list-item>
          <p>I think it would be ideal to cite all dependency software within the manuscript/references for the benefit of the authors of those software.</p>
        </list-item>
        <list-item>
          <p>The output summary PDF is quite large. Is there a way to prioritize output summaries or make them easy to parse? In the case of the case study, 623 pages seems difficult to intuitively parse, especially if I were a user with minimal ribosome profiling experience. For the results, could headers/sections be specified for each analysis type so users could navigate to the results they are interested in easier?</p>
        </list-item>
        <list-item>
          <p>It would be nice to quantify how large the input FASTQ files were in the benchmarking to help users predict how long processing would take for their project based on the size of their input files. Also, how would a human dataset scale. Presumable, the sequence search space would be different for this organism, and may impact the processing time requirements.</p>
        </list-item>
      </list>
    </p>
    <p><bold>Software</bold>:
<list list-type="bullet"><list-item><p>The masking sequences in the source code are for humans, but the dataset tested for this work is not. What was the rationale for doing so, and would the user need to modify masking sequences manually for their organism of interest? I may have just not been clear about this in the writing, but I think clarification would be helpful. It seems like other scripts (e.g. download-ensembl-genome.sh) are also hardcoded for humans.</p></list-item></list></p>
    <p>Are the conclusions about the tool and its performance adequately supported by the findings presented in the article?</p>
    <p>Yes</p>
    <p>Is the rationale for developing the new software tool clearly explained?</p>
    <p>Yes</p>
    <p>Is the description of the software tool technically sound?</p>
    <p>Yes</p>
    <p>Are sufficient details of the code, methods and analysis (if applicable) provided to allow replication of the software development and its use by others?</p>
    <p>Yes</p>
    <p>Is sufficient information provided to allow interpretation of the expected output datasets and any results generated using the tool?</p>
    <p>Yes</p>
    <p>Reviewer Expertise:</p>
    <p>Metabolism, ribosome profiling, software development</p>
    <p>I confirm that I have read this submission and believe that I have an appropriate level of expertise to confirm that it is of an acceptable scientific standard.</p>
  </body>
  <back>
    <ref-list>
      <title>References</title>
      <ref id="rep-ref-150857-1">
        <label>1</label>
        <mixed-citation publication-type="journal">
:
<article-title>High-Resolution Ribosome Profiling Defines Discrete Ribosome Elongation States and Translational Regulation during Cellular Stress</article-title>.
<source><italic toggle="yes">Molecular Cell</italic></source>.<year>2019</year>;<volume>73</volume>(<issue>5</issue>) :
<elocation-id>10.1016/j.molcel.2018.12.009</elocation-id>
<fpage>959</fpage>-<lpage>970.e5</lpage>
<pub-id pub-id-type="doi">10.1016/j.molcel.2018.12.009</pub-id>
</mixed-citation>
      </ref>
    </ref-list>
  </back>
</sub-article>
<sub-article article-type="peer-review" id="report80139">
  <front-stub>
    <article-id pub-id-type="doi">10.5256/f1000research.43733.r80139</article-id>
    <title-group>
      <article-title>Reviewer response for version 1</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <name>
          <surname>Nicchitta</surname>
          <given-names>Christopher</given-names>
        </name>
        <xref rid="r80139a1" ref-type="aff">1</xref>
        <role>Referee</role>
        <contrib-id contrib-id-type="orcid">https://orcid.org/0000-0001-7889-1155</contrib-id>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Hannigan</surname>
          <given-names>Molly</given-names>
        </name>
        <xref rid="r80139a1" ref-type="aff">1</xref>
        <role>Co-referee</role>
      </contrib>
      <aff id="r80139a1"><label>1</label>Department of Cell Biology, Duke University School of Medicine, Durham, NC, USA</aff>
    </contrib-group>
    <author-notes>
      <fn fn-type="COI-statement">
        <p><bold>Competing interests: </bold>No competing interests were disclosed.</p>
      </fn>
    </author-notes>
    <pub-date pub-type="epub">
      <day>10</day>
      <month>3</month>
      <year>2021</year>
    </pub-date>
    <permissions>
      <copyright-statement>Copyright: © 2021 Hannigan M and Nicchitta C</copyright-statement>
      <copyright-year>2021</copyright-year>
      <license>
        <ali:license_ref xmlns:ali="http://www.niso.org/schemas/ali/1.0/" specific-use="textmining" content-type="ccbylicense">https://creativecommons.org/licenses/by/4.0/</ali:license_ref>
        <license-p>This is an open access peer review report distributed under the terms of the Creative Commons Attribution Licence, which permits unrestricted use, distribution, and reproduction in any medium, provided the original work is properly cited.</license-p>
      </license>
    </permissions>
    <related-article related-article-type="peer-reviewed-article" ext-link-type="doi" id="relatedArticleReport80139" xlink:href="10.12688/f1000research.40668.1">Version 1</related-article>
    <custom-meta-group>
      <custom-meta>
        <meta-name>recommendation</meta-name>
        <meta-value>approve</meta-value>
      </custom-meta>
    </custom-meta-group>
  </front-stub>
  <body>
    <p>This manuscript introduces a high utility software/data processing package that is effectively a “soup to nuts” RPF data processing suite. Paraphrasing from the authors presentation, RP-REP works with local FASTQ files, cloud-storage files (AWS S3), and SRA files. The software includes a useful set of customizable steps that are integral to RFP data processing and analysis. It appears to be particularly strong in alignment QC, data visualization and pathway analysis, in addition to parameters such as gene-specific translational efficiency metrics. RP-REP meets a growing need and as an open source tool, this contribution supports community development and standardization of Ribo-seq computational pipelines. The authors do a commendable job of highlighting the challenges of the ribosome profiling data analysis (paragraph 2 of the Introduction) and the utility of RP-REP to the community can be expected to be high.</p>
    <p>
      <bold>Major Comments:</bold>
    </p>
    <p> The manuscript would be strengthened by including a short paragraph in the Introduction that informs the reader of currently available resources, e.g. GWIPS-viz, riboSeqR, riboWaltz, RiboCode, and notes that there are limited resources for fully integrated analyses. In the latter category, RiboToolKit, from the Gregory lab, stands out as having similar functionality to RP-REP. In the Discussion, it would be helpful to briefly contrast RIboToolKit and RP-REP, so that the general reader can better appreciate the utility of each. In particular, it would be helpful to note that RP-REP is open source, cloud-enabled, and can run on both virtual machines and locally. RP-REP appears to be better positioned for pathway analysis, biomarker discovery, drug/therapeutic response analyses, etc., whereas RIboToolKit delves more deeply into modes of translational regulation, codon optimality, translational dynamics.</p>
    <p> 3) The analysis pipeline does not appear to normalize RPFs (Ribo-seq) to RNA abundance (RNA-seq). Rather, it appears that it processes RNA-seq and ribosome profiling data independently. This should be clarified as such normalization is standard in Ribo-seq analyses. For example, the authors do not describe if they intersect ribosome profiling with parallel RNA-seq (in Figure 1 or within the body of text).</p>
    <p>
      <bold>Minor Comments: </bold>
      <list list-type="order">
        <list-item>
          <p>Abstract – clarify the statement “…by sequencing short mRNA fragments undergoing translation in ribosomes.” This should read “…sequencing ribosome-protected mRNA fragments obtained by ribonuclease digestion of polyribosomes. These fragments represent ribosome-occupied regions of the mRNA.”</p>
        </list-item>
        <list-item>
          <p>Intro: the sentence “
<italic toggle="yes">The technique makes use of the facts that mRNAs that undergo translation in ribosomes can be fixated to each other using certain chemicals and that </italic>
<italic toggle="yes">the joint ribosome/mRNA complexes can be isolated using chromatography after mRNAs not protected by ribosomes have been degraded using ribonucleases</italic>” needs rewording. In the technique, polyribosomes are isolated under native conditions and/or after addition of translation elongation inhibitors such as cycloheximide or emetine, which generally stabilize polyribosomes through processing. The mRNAs are not fixed to one another.</p>
        </list-item>
        <list-item>
          <p>Use case. Second paragraph, fifth line – change department to compartment.</p>
        </list-item>
        <list-item>
          <p>Data export in .svg formats would also be useful.</p>
        </list-item>
        <list-item>
          <p>Does the analysis include read length distribution plots? These are useful for distinguishing between true RPFs and RNA binding protein-protected fragments. Similarly, does the analysis include frame periodicity output? Although the utility of this metric is not entirely clear, given that it can be influenced by the nuclease used in the RPF generation stage and whether the periodicity analysis is anchored at the 5’ or 3’ end of the read, it is useful output to include.</p>
        </list-item>
      </list>
    </p>
    <p>Are the conclusions about the tool and its performance adequately supported by the findings presented in the article?</p>
    <p>Yes</p>
    <p>Is the rationale for developing the new software tool clearly explained?</p>
    <p>Yes</p>
    <p>Is the description of the software tool technically sound?</p>
    <p>Yes</p>
    <p>Are sufficient details of the code, methods and analysis (if applicable) provided to allow replication of the software development and its use by others?</p>
    <p>Yes</p>
    <p>Is sufficient information provided to allow interpretation of the expected output datasets and any results generated using the tool?</p>
    <p>Yes</p>
    <p>Reviewer Expertise:</p>
    <p>RNA localization, translational regulation, RNA-seq, Ribo-seq.</p>
    <p>We confirm that we have read this submission and believe that we have an appropriate level of expertise to confirm that it is of an acceptable scientific standard.</p>
  </body>
</sub-article>
